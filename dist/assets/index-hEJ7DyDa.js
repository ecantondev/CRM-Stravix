(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var vu={exports:{}},oi={},bu={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cn=Symbol.for("react.element"),Am=Symbol.for("react.portal"),Rm=Symbol.for("react.fragment"),Om=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),Dm=Symbol.for("react.provider"),$m=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),Fm=Symbol.for("react.memo"),zm=Symbol.for("react.lazy"),Ic=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var wu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ju=Object.assign,Nu={};function js(e,t,r){this.props=e,this.context=t,this.refs=Nu,this.updater=r||wu}js.prototype.isReactComponent={};js.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};js.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _u(){}_u.prototype=js.prototype;function Eo(e,t,r){this.props=e,this.context=t,this.refs=Nu,this.updater=r||wu}var Co=Eo.prototype=new _u;Co.constructor=Eo;ju(Co,js.prototype);Co.isPureReactComponent=!0;var Dc=Array.isArray,ku=Object.prototype.hasOwnProperty,To={current:null},Su={key:!0,ref:!0,__self:!0,__source:!0};function Eu(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)ku.call(t,n)&&!Su.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Cn,type:e,key:i,ref:l,props:a,_owner:To.current}}function Hm(e,t){return{$$typeof:Cn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Po(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cn}function Vm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $c=/\/+/g;function Ai(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vm(""+e.key):t.toString(36)}function ua(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Cn:case Am:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Ai(l,0):n,Dc(a)?(r="",e!=null&&(r=e.replace($c,"$&/")+"/"),ua(a,t,r,"",function(d){return d})):a!=null&&(Po(a)&&(a=Hm(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace($c,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Dc(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Ai(i,o);l+=ua(i,t,r,c,a)}else if(c=Bm(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Ai(i,o++),l+=ua(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function zn(e,t,r){if(e==null)return e;var n=[],a=0;return ua(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Wm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},ha={transition:null},Gm={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ha,ReactCurrentOwner:To};function Cu(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:zn,forEach:function(e,t,r){zn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zn(e,function(){t++}),t},toArray:function(e){return zn(e,function(t){return t})||[]},only:function(e){if(!Po(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=js;F.Fragment=Rm;F.Profiler=Im;F.PureComponent=Eo;F.StrictMode=Om;F.Suspense=Um;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gm;F.act=Cu;F.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ju({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=To.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)ku.call(t,c)&&!Su.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Cn,type:e.type,key:a,ref:i,props:n,_owner:l}};F.createContext=function(e){return e={$$typeof:$m,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dm,_context:e},e.Consumer=e};F.createElement=Eu;F.createFactory=function(e){var t=Eu.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Mm,render:e}};F.isValidElement=Po;F.lazy=function(e){return{$$typeof:zm,_payload:{_status:-1,_result:e},_init:Wm}};F.memo=function(e,t){return{$$typeof:Fm,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=ha.transition;ha.transition={};try{e()}finally{ha.transition=t}};F.unstable_act=Cu;F.useCallback=function(e,t){return Se.current.useCallback(e,t)};F.useContext=function(e){return Se.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};F.useEffect=function(e,t){return Se.current.useEffect(e,t)};F.useId=function(){return Se.current.useId()};F.useImperativeHandle=function(e,t,r){return Se.current.useImperativeHandle(e,t,r)};F.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return Se.current.useMemo(e,t)};F.useReducer=function(e,t,r){return Se.current.useReducer(e,t,r)};F.useRef=function(e){return Se.current.useRef(e)};F.useState=function(e){return Se.current.useState(e)};F.useSyncExternalStore=function(e,t,r){return Se.current.useSyncExternalStore(e,t,r)};F.useTransition=function(){return Se.current.useTransition()};F.version="18.3.1";bu.exports=F;var v=bu.exports;const De=Pm(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm=v,Km=Symbol.for("react.element"),Ym=Symbol.for("react.fragment"),Qm=Object.prototype.hasOwnProperty,Jm=qm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xm={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Qm.call(t,n)&&!Xm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Km,type:e,key:i,ref:l,props:a,_owner:Jm.current}}oi.Fragment=Ym;oi.jsx=Tu;oi.jsxs=Tu;vu.exports=oi;var s=vu.exports,Pu={exports:{}},Ue={},Lu={exports:{}},Au={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,A){var D=S.length;S.push(A);e:for(;0<D;){var ne=D-1>>>1,he=S[ne];if(0<a(he,A))S[ne]=A,S[D]=he,D=ne;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var A=S[0],D=S.pop();if(D!==A){S[0]=D;e:for(var ne=0,he=S.length,Un=he>>>1;ne<Un;){var pr=2*(ne+1)-1,Li=S[pr],gr=pr+1,Fn=S[gr];if(0>a(Li,D))gr<he&&0>a(Fn,Li)?(S[ne]=Fn,S[gr]=D,ne=gr):(S[ne]=Li,S[pr]=D,ne=pr);else if(gr<he&&0>a(Fn,D))S[ne]=Fn,S[gr]=D,ne=gr;else break e}}return A}function a(S,A){var D=S.sortIndex-A.sortIndex;return D!==0?D:S.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,f=null,h=3,m=!1,p=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var A=r(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=S)n(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(d)}}function j(S){if(w=!1,g(S),!p)if(r(c)!==null)p=!0,Ls(k);else{var A=r(d);A!==null&&E(j,A.startTime-S)}}function k(S,A){p=!1,w&&(w=!1,x(T),T=-1),m=!0;var D=h;try{for(g(A),f=r(c);f!==null&&(!(f.expirationTime>A)||S&&!Q());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var he=ne(f.expirationTime<=A);A=e.unstable_now(),typeof he=="function"?f.callback=he:f===r(c)&&n(c),g(A)}else n(c);f=r(c)}if(f!==null)var Un=!0;else{var pr=r(d);pr!==null&&E(j,pr.startTime-A),Un=!1}return Un}finally{f=null,h=D,m=!1}}var N=!1,_=null,T=-1,I=5,O=-1;function Q(){return!(e.unstable_now()-O<I)}function re(){if(_!==null){var S=e.unstable_now();O=S;var A=!0;try{A=_(!0,S)}finally{A?$():(N=!1,_=null)}}else N=!1}var $;if(typeof y=="function")$=function(){y(re)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ct=H.port2;H.port1.onmessage=re,$=function(){ct.postMessage(null)}}else $=function(){b(re,0)};function Ls(S){_=S,N||(N=!0,$())}function E(S,A){T=b(function(){S(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,Ls(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var D=h;h=A;try{return S()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,A){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var D=h;h=S;try{return A()}finally{h=D}},e.unstable_scheduleCallback=function(S,A,D){var ne=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?ne+D:ne):D=ne,S){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=D+he,S={id:u++,callback:A,priorityLevel:S,startTime:D,expirationTime:he,sortIndex:-1},D>ne?(S.sortIndex=D,t(d,S),r(c)===null&&S===r(d)&&(w?(x(T),T=-1):w=!0,E(j,D-ne))):(S.sortIndex=he,t(c,S),p||m||(p=!0,Ls(k))),S},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(S){var A=h;return function(){var D=h;h=A;try{return S.apply(this,arguments)}finally{h=D}}}})(Au);Lu.exports=Au;var Zm=Lu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=v,Me=Zm;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ru=new Set,on={};function Or(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(on[e]=t,e=0;e<t.length;e++)Ru.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=Object.prototype.hasOwnProperty,tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mc={},Uc={};function rp(e){return gl.call(Uc,e)?!0:gl.call(Mc,e)?!1:tp.test(e)?Uc[e]=!0:(Mc[e]=!0,!1)}function sp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function np(e,t,r,n){if(t===null||typeof t>"u"||sp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lo=/[\-:]([a-z])/g;function Ao(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lo,Ao);ye[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lo,Ao);ye[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lo,Ao);ye[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ro(e,t,r,n){var a=ye.hasOwnProperty(t)?ye[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(np(t,r,a,n)&&(r=null),n||a===null?rp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var It=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bn=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),Oo=Symbol.for("react.strict_mode"),xl=Symbol.for("react.profiler"),Ou=Symbol.for("react.provider"),Iu=Symbol.for("react.context"),Io=Symbol.for("react.forward_ref"),yl=Symbol.for("react.suspense"),vl=Symbol.for("react.suspense_list"),Do=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Du=Symbol.for("react.offscreen"),Fc=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,Ri;function Bs(e){if(Ri===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ri=t&&t[1]||""}return`
`+Ri+e}var Oi=!1;function Ii(e,t){if(!e||Oi)return"";Oi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Oi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bs(e):""}function ap(e){switch(e.tag){case 5:return Bs(e.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return e=Ii(e.type,!1),e;case 11:return e=Ii(e.type.render,!1),e;case 1:return e=Ii(e.type,!0),e;default:return""}}function bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case qr:return"Portal";case xl:return"Profiler";case Oo:return"StrictMode";case yl:return"Suspense";case vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Iu:return(e.displayName||"Context")+".Consumer";case Ou:return(e._context.displayName||"Context")+".Provider";case Io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Do:return t=e.displayName||null,t!==null?t:bl(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return bl(e(t))}catch{}}return null}function ip(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bl(t);case 8:return t===Oo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lp(e){var t=$u(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hn(e){e._valueTracker||(e._valueTracker=lp(e))}function Mu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$u(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wl(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uu(e,t){t=t.checked,t!=null&&Ro(e,"checked",t,!1)}function jl(e,t){Uu(e,t);var r=sr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nl(e,t.type,sr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nl(e,t,r){(t!=="number"||Ta(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hs=Array.isArray;function as(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _l(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(Hs(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sr(r)}}function Fu(e,t){var r=sr(t.value),n=sr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Vc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vn,Bu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vn=Vn||document.createElement("div"),Vn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},op=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(e){op.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qs[t]=qs[e]})});function Hu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qs.hasOwnProperty(e)&&qs[e]?(""+t).trim():t+"px"}function Vu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Hu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var cp=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(e,t){if(t){if(cp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function El(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function $o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,is=null,ls=null;function Wc(e){if(e=Ln(e)){if(typeof Tl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=fi(t),Tl(e.stateNode,e.type,t))}}function Wu(e){is?ls?ls.push(e):ls=[e]:is=e}function Gu(){if(is){var e=is,t=ls;if(ls=is=null,Wc(e),t)for(e=0;e<t.length;e++)Wc(t[e])}}function qu(e,t){return e(t)}function Ku(){}var Di=!1;function Yu(e,t,r){if(Di)return e(t,r);Di=!0;try{return qu(e,t,r)}finally{Di=!1,(is!==null||ls!==null)&&(Ku(),Gu())}}function dn(e,t){var r=e.stateNode;if(r===null)return null;var n=fi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Pl=!1;if(Ct)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Pl=!1}function dp(e,t,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ks=!1,Pa=null,La=!1,Ll=null,up={onError:function(e){Ks=!0,Pa=e}};function hp(e,t,r,n,a,i,l,o,c){Ks=!1,Pa=null,dp.apply(up,arguments)}function fp(e,t,r,n,a,i,l,o,c){if(hp.apply(this,arguments),Ks){if(Ks){var d=Pa;Ks=!1,Pa=null}else throw Error(C(198));La||(La=!0,Ll=d)}}function Ir(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gc(e){if(Ir(e)!==e)throw Error(C(188))}function mp(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Gc(a),e;if(i===n)return Gc(a),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Ju(e){return e=mp(e),e!==null?Xu(e):null}function Xu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xu(e);if(t!==null)return t;e=e.sibling}return null}var Zu=Me.unstable_scheduleCallback,qc=Me.unstable_cancelCallback,pp=Me.unstable_shouldYield,gp=Me.unstable_requestPaint,ae=Me.unstable_now,xp=Me.unstable_getCurrentPriorityLevel,Mo=Me.unstable_ImmediatePriority,eh=Me.unstable_UserBlockingPriority,Aa=Me.unstable_NormalPriority,yp=Me.unstable_LowPriority,th=Me.unstable_IdlePriority,ci=null,pt=null;function vp(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(ci,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:jp,bp=Math.log,wp=Math.LN2;function jp(e){return e>>>=0,e===0?32:31-(bp(e)/wp|0)|0}var Wn=64,Gn=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=Vs(o):(i&=l,i!==0&&(n=Vs(i)))}else l=r&~a,l!==0?n=Vs(l):i!==0&&(n=Vs(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rt(t),a=1<<r,n|=e[r],t&=~a;return n}function Np(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _p(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-rt(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=Np(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rh(){var e=Wn;return Wn<<=1,!(Wn&4194240)&&(Wn=64),e}function $i(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=r}function kp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-rt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Uo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var W=0;function sh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nh,Fo,ah,ih,lh,Rl=!1,qn=[],Kt=null,Yt=null,Qt=null,un=new Map,hn=new Map,Ht=[],Sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(t.pointerId)}}function Os(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ln(t),t!==null&&Fo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ep(e,t,r,n,a){switch(t){case"focusin":return Kt=Os(Kt,e,t,r,n,a),!0;case"dragenter":return Yt=Os(Yt,e,t,r,n,a),!0;case"mouseover":return Qt=Os(Qt,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return un.set(i,Os(un.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,hn.set(i,Os(hn.get(i)||null,e,t,r,n,a)),!0}return!1}function oh(e){var t=Nr(e.target);if(t!==null){var r=Ir(t);if(r!==null){if(t=r.tag,t===13){if(t=Qu(r),t!==null){e.blockedOn=t,lh(e.priority,function(){ah(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ol(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cl=n,r.target.dispatchEvent(n),Cl=null}else return t=Ln(r),t!==null&&Fo(t),e.blockedOn=r,!1;t.shift()}return!0}function Yc(e,t,r){fa(e)&&r.delete(t)}function Cp(){Rl=!1,Kt!==null&&fa(Kt)&&(Kt=null),Yt!==null&&fa(Yt)&&(Yt=null),Qt!==null&&fa(Qt)&&(Qt=null),un.forEach(Yc),hn.forEach(Yc)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,Rl||(Rl=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Cp)))}function fn(e){function t(a){return Is(a,e)}if(0<qn.length){Is(qn[0],e);for(var r=1;r<qn.length;r++){var n=qn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&Is(Kt,e),Yt!==null&&Is(Yt,e),Qt!==null&&Is(Qt,e),un.forEach(t),hn.forEach(t),r=0;r<Ht.length;r++)n=Ht[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)oh(r),r.blockedOn===null&&Ht.shift()}var os=It.ReactCurrentBatchConfig,Oa=!0;function Tp(e,t,r,n){var a=W,i=os.transition;os.transition=null;try{W=1,zo(e,t,r,n)}finally{W=a,os.transition=i}}function Pp(e,t,r,n){var a=W,i=os.transition;os.transition=null;try{W=4,zo(e,t,r,n)}finally{W=a,os.transition=i}}function zo(e,t,r,n){if(Oa){var a=Ol(e,t,r,n);if(a===null)qi(e,t,n,Ia,r),Kc(e,n);else if(Ep(a,e,t,r,n))n.stopPropagation();else if(Kc(e,n),t&4&&-1<Sp.indexOf(e)){for(;a!==null;){var i=Ln(a);if(i!==null&&nh(i),i=Ol(e,t,r,n),i===null&&qi(e,t,n,Ia,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else qi(e,t,n,null,r)}}var Ia=null;function Ol(e,t,r,n){if(Ia=null,e=$o(n),e=Nr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ia=e,null}function ch(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xp()){case Mo:return 1;case eh:return 4;case Aa:case yp:return 16;case th:return 536870912;default:return 16}default:return 16}}var Gt=null,Bo=null,ma=null;function dh(){if(ma)return ma;var e,t=Bo,r=t.length,n,a="value"in Gt?Gt.value:Gt.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return ma=a.slice(e,1<n?1-n:void 0)}function pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function Qc(){return!1}function Fe(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kn:Qc,this.isPropagationStopped=Qc,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),t}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Fe(Ns),Pn=te({},Ns,{view:0,detail:0}),Lp=Fe(Pn),Mi,Ui,Ds,di=te({},Pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(Mi=e.screenX-Ds.screenX,Ui=e.screenY-Ds.screenY):Ui=Mi=0,Ds=e),Mi)},movementY:function(e){return"movementY"in e?e.movementY:Ui}}),Jc=Fe(di),Ap=te({},di,{dataTransfer:0}),Rp=Fe(Ap),Op=te({},Pn,{relatedTarget:0}),Fi=Fe(Op),Ip=te({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=Fe(Ip),$p=te({},Ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mp=Fe($p),Up=te({},Ns,{data:0}),Xc=Fe(Up),Fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bp[e])?!!t[e]:!1}function Vo(){return Hp}var Vp=te({},Pn,{key:function(e){if(e.key){var t=Fp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(e){return e.type==="keypress"?pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=Fe(Vp),Gp=te({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=Fe(Gp),qp=te({},Pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),Kp=Fe(qp),Yp=te({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=Fe(Yp),Jp=te({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=Fe(Jp),Zp=[9,13,27,32],Wo=Ct&&"CompositionEvent"in window,Ys=null;Ct&&"documentMode"in document&&(Ys=document.documentMode);var eg=Ct&&"TextEvent"in window&&!Ys,uh=Ct&&(!Wo||Ys&&8<Ys&&11>=Ys),ed=" ",td=!1;function hh(e,t){switch(e){case"keyup":return Zp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function tg(e,t){switch(e){case"compositionend":return fh(t);case"keypress":return t.which!==32?null:(td=!0,ed);case"textInput":return e=t.data,e===ed&&td?null:e;default:return null}}function rg(e,t){if(Yr)return e==="compositionend"||!Wo&&hh(e,t)?(e=dh(),ma=Bo=Gt=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uh&&t.locale!=="ko"?null:t.data;default:return null}}var sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sg[e.type]:t==="textarea"}function mh(e,t,r,n){Wu(n),t=Da(t,"onChange"),0<t.length&&(r=new Ho("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qs=null,mn=null;function ng(e){kh(e,0)}function ui(e){var t=Xr(e);if(Mu(t))return e}function ag(e,t){if(e==="change")return t}var ph=!1;if(Ct){var zi;if(Ct){var Bi="oninput"in document;if(!Bi){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Bi=typeof sd.oninput=="function"}zi=Bi}else zi=!1;ph=zi&&(!document.documentMode||9<document.documentMode)}function nd(){Qs&&(Qs.detachEvent("onpropertychange",gh),mn=Qs=null)}function gh(e){if(e.propertyName==="value"&&ui(mn)){var t=[];mh(t,mn,e,$o(e)),Yu(ng,t)}}function ig(e,t,r){e==="focusin"?(nd(),Qs=t,mn=r,Qs.attachEvent("onpropertychange",gh)):e==="focusout"&&nd()}function lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(mn)}function og(e,t){if(e==="click")return ui(t)}function cg(e,t){if(e==="input"||e==="change")return ui(t)}function dg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:dg;function pn(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!gl.call(t,a)||!at(e[a],t[a]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,t){var r=ad(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ad(r)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(){for(var e=window,t=Ta();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ta(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ug(e){var t=yh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&xh(r.ownerDocument.documentElement,r)){if(n!==null&&Go(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=id(r,i);var l=id(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hg=Ct&&"documentMode"in document&&11>=document.documentMode,Qr=null,Il=null,Js=null,Dl=!1;function ld(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dl||Qr==null||Qr!==Ta(n)||(n=Qr,"selectionStart"in n&&Go(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Js&&pn(Js,n)||(Js=n,n=Da(Il,"onSelect"),0<n.length&&(t=new Ho("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qr)))}function Yn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jr={animationend:Yn("Animation","AnimationEnd"),animationiteration:Yn("Animation","AnimationIteration"),animationstart:Yn("Animation","AnimationStart"),transitionend:Yn("Transition","TransitionEnd")},Hi={},vh={};Ct&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function hi(e){if(Hi[e])return Hi[e];if(!Jr[e])return e;var t=Jr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vh)return Hi[e]=t[r];return e}var bh=hi("animationend"),wh=hi("animationiteration"),jh=hi("animationstart"),Nh=hi("transitionend"),_h=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){_h.set(e,t),Or(t,[e])}for(var Vi=0;Vi<od.length;Vi++){var Wi=od[Vi],fg=Wi.toLowerCase(),mg=Wi[0].toUpperCase()+Wi.slice(1);or(fg,"on"+mg)}or(bh,"onAnimationEnd");or(wh,"onAnimationIteration");or(jh,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(Nh,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function cd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fp(n,t,void 0,e),e.currentTarget=null}function kh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;cd(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;cd(a,o,d),i=c}}}if(La)throw e=Ll,La=!1,Ll=null,e}function K(e,t){var r=t[zl];r===void 0&&(r=t[zl]=new Set);var n=e+"__bubble";r.has(n)||(Sh(t,e,2,!1),r.add(n))}function Gi(e,t,r){var n=0;t&&(n|=4),Sh(r,e,n,t)}var Qn="_reactListening"+Math.random().toString(36).slice(2);function gn(e){if(!e[Qn]){e[Qn]=!0,Ru.forEach(function(r){r!=="selectionchange"&&(pg.has(r)||Gi(r,!1,e),Gi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qn]||(t[Qn]=!0,Gi("selectionchange",!1,t))}}function Sh(e,t,r,n){switch(ch(t)){case 1:var a=Tp;break;case 4:a=Pp;break;default:a=zo}r=a.bind(null,t,r,e),a=void 0,!Pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qi(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Nr(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Yu(function(){var d=i,u=$o(r),f=[];e:{var h=_h.get(e);if(h!==void 0){var m=Ho,p=e;switch(e){case"keypress":if(pa(r)===0)break e;case"keydown":case"keyup":m=Wp;break;case"focusin":p="focus",m=Fi;break;case"focusout":p="blur",m=Fi;break;case"beforeblur":case"afterblur":m=Fi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Kp;break;case bh:case wh:case jh:m=Dp;break;case Nh:m=Qp;break;case"scroll":m=Lp;break;case"wheel":m=Xp;break;case"copy":case"cut":case"paste":m=Mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Zc}var w=(t&4)!==0,b=!w&&e==="scroll",x=w?h!==null?h+"Capture":null:h;w=[];for(var y=d,g;y!==null;){g=y;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,x!==null&&(j=dn(y,x),j!=null&&w.push(xn(y,j,g)))),b)break;y=y.return}0<w.length&&(h=new m(h,p,null,r,u),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Cl&&(p=r.relatedTarget||r.fromElement)&&(Nr(p)||p[Tt]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=d,p=p?Nr(p):null,p!==null&&(b=Ir(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=d),m!==p)){if(w=Jc,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Zc,j="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?h:Xr(m),g=p==null?h:Xr(p),h=new w(j,y+"leave",m,r,u),h.target=b,h.relatedTarget=g,j=null,Nr(u)===d&&(w=new w(x,y+"enter",p,r,u),w.target=g,w.relatedTarget=b,j=w),b=j,m&&p)t:{for(w=m,x=p,y=0,g=w;g;g=Ur(g))y++;for(g=0,j=x;j;j=Ur(j))g++;for(;0<y-g;)w=Ur(w),y--;for(;0<g-y;)x=Ur(x),g--;for(;y--;){if(w===x||x!==null&&w===x.alternate)break t;w=Ur(w),x=Ur(x)}w=null}else w=null;m!==null&&dd(f,h,m,w,!1),p!==null&&b!==null&&dd(f,b,p,w,!0)}}e:{if(h=d?Xr(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=ag;else if(rd(h))if(ph)k=cg;else{k=lg;var N=ig}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=og);if(k&&(k=k(e,d))){mh(f,k,r,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Nl(h,"number",h.value)}switch(N=d?Xr(d):window,e){case"focusin":(rd(N)||N.contentEditable==="true")&&(Qr=N,Il=d,Js=null);break;case"focusout":Js=Il=Qr=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,ld(f,r,u);break;case"selectionchange":if(hg)break;case"keydown":case"keyup":ld(f,r,u)}var _;if(Wo)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yr?hh(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(uh&&r.locale!=="ko"&&(Yr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yr&&(_=dh()):(Gt=u,Bo="value"in Gt?Gt.value:Gt.textContent,Yr=!0)),N=Da(d,T),0<N.length&&(T=new Xc(T,e,null,r,u),f.push({event:T,listeners:N}),_?T.data=_:(_=fh(r),_!==null&&(T.data=_)))),(_=eg?tg(e,r):rg(e,r))&&(d=Da(d,"onBeforeInput"),0<d.length&&(u=new Xc("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}kh(f,t)})}function xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Da(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=dn(e,r),i!=null&&n.unshift(xn(e,i,a)),i=dn(e,t),i!=null&&n.push(xn(e,i,a))),e=e.return}return n}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dd(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=dn(r,i),c!=null&&l.unshift(xn(r,c,o))):a||(c=dn(r,i),c!=null&&l.push(xn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var gg=/\r\n?/g,xg=/\u0000|\uFFFD/g;function ud(e){return(typeof e=="string"?e:""+e).replace(gg,`
`).replace(xg,"")}function Jn(e,t,r){if(t=ud(t),ud(e)!==t&&r)throw Error(C(425))}function $a(){}var $l=null,Ml=null;function Ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,vg=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(bg)}:Fl;function bg(e){setTimeout(function(){throw e})}function Ki(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),fn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);fn(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),ft="__reactFiber$"+_s,yn="__reactProps$"+_s,Tt="__reactContainer$"+_s,zl="__reactEvents$"+_s,wg="__reactListeners$"+_s,jg="__reactHandles$"+_s;function Nr(e){var t=e[ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tt]||r[ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fd(e);e!==null;){if(r=e[ft])return r;e=fd(e)}return t}e=r,r=e.parentNode}return null}function Ln(e){return e=e[ft]||e[Tt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function fi(e){return e[yn]||null}var Bl=[],Zr=-1;function cr(e){return{current:e}}function Y(e){0>Zr||(e.current=Bl[Zr],Bl[Zr]=null,Zr--)}function q(e,t){Zr++,Bl[Zr]=e.current,e.current=t}var nr={},je=cr(nr),Le=cr(!1),Tr=nr;function hs(e,t){var r=e.type.contextTypes;if(!r)return nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ae(e){return e=e.childContextTypes,e!=null}function Ma(){Y(Le),Y(je)}function md(e,t,r){if(je.current!==nr)throw Error(C(168));q(je,t),q(Le,r)}function Eh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(C(108,ip(e)||"Unknown",a));return te({},r,n)}function Ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Tr=je.current,q(je,e),q(Le,Le.current),!0}function pd(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=Eh(e,t,Tr),n.__reactInternalMemoizedMergedChildContext=e,Y(Le),Y(je),q(je,e)):Y(Le),q(Le,r)}var Nt=null,mi=!1,Yi=!1;function Ch(e){Nt===null?Nt=[e]:Nt.push(e)}function Ng(e){mi=!0,Ch(e)}function dr(){if(!Yi&&Nt!==null){Yi=!0;var e=0,t=W;try{var r=Nt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nt=null,mi=!1}catch(a){throw Nt!==null&&(Nt=Nt.slice(e+1)),Zu(Mo,dr),a}finally{W=t,Yi=!1}}return null}var es=[],ts=0,Fa=null,za=0,ze=[],Be=0,Pr=null,_t=1,kt="";function vr(e,t){es[ts++]=za,es[ts++]=Fa,Fa=e,za=t}function Th(e,t,r){ze[Be++]=_t,ze[Be++]=kt,ze[Be++]=Pr,Pr=e;var n=_t;e=kt;var a=32-rt(n)-1;n&=~(1<<a),r+=1;var i=32-rt(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,_t=1<<32-rt(t)+a|r<<a|n,kt=i+e}else _t=1<<i|r<<a|n,kt=e}function qo(e){e.return!==null&&(vr(e,1),Th(e,1,0))}function Ko(e){for(;e===Fa;)Fa=es[--ts],es[ts]=null,za=es[--ts],es[ts]=null;for(;e===Pr;)Pr=ze[--Be],ze[Be]=null,kt=ze[--Be],ze[Be]=null,_t=ze[--Be],ze[Be]=null}var $e=null,Ie=null,J=!1,et=null;function Ph(e,t){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Ie=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pr!==null?{id:_t,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Ie=null,!0):!1;default:return!1}}function Hl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vl(e){if(J){var t=Ie;if(t){var r=t;if(!gd(e,t)){if(Hl(e))throw Error(C(418));t=Jt(r.nextSibling);var n=$e;t&&gd(e,t)?Ph(n,r):(e.flags=e.flags&-4097|2,J=!1,$e=e)}}else{if(Hl(e))throw Error(C(418));e.flags=e.flags&-4097|2,J=!1,$e=e}}}function xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function Xn(e){if(e!==$e)return!1;if(!J)return xd(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ul(e.type,e.memoizedProps)),t&&(t=Ie)){if(Hl(e))throw Lh(),Error(C(418));for(;t;)Ph(e,t),t=Jt(t.nextSibling)}if(xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ie=Jt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=$e?Jt(e.stateNode.nextSibling):null;return!0}function Lh(){for(var e=Ie;e;)e=Jt(e.nextSibling)}function fs(){Ie=$e=null,J=!1}function Yo(e){et===null?et=[e]:et.push(e)}var _g=It.ReactCurrentBatchConfig;function $s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Zn(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yd(e){var t=e._init;return t(e._payload)}function Ah(e){function t(x,y){if(e){var g=x.deletions;g===null?(x.deletions=[y],x.flags|=16):g.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=tr(x,y),x.index=0,x.sibling=null,x}function i(x,y,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<y?(x.flags|=2,y):g):(x.flags|=2,y)):(x.flags|=1048576,y)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,y,g,j){return y===null||y.tag!==6?(y=rl(g,x.mode,j),y.return=x,y):(y=a(y,g),y.return=x,y)}function c(x,y,g,j){var k=g.type;return k===Kr?u(x,y,g.props.children,j,g.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ft&&yd(k)===y.type)?(j=a(y,g.props),j.ref=$s(x,y,g),j.return=x,j):(j=ja(g.type,g.key,g.props,null,x.mode,j),j.ref=$s(x,y,g),j.return=x,j)}function d(x,y,g,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=sl(g,x.mode,j),y.return=x,y):(y=a(y,g.children||[]),y.return=x,y)}function u(x,y,g,j,k){return y===null||y.tag!==7?(y=Er(g,x.mode,j,k),y.return=x,y):(y=a(y,g),y.return=x,y)}function f(x,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rl(""+y,x.mode,g),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bn:return g=ja(y.type,y.key,y.props,null,x.mode,g),g.ref=$s(x,null,y),g.return=x,g;case qr:return y=sl(y,x.mode,g),y.return=x,y;case Ft:var j=y._init;return f(x,j(y._payload),g)}if(Hs(y)||As(y))return y=Er(y,x.mode,g,null),y.return=x,y;Zn(x,y)}return null}function h(x,y,g,j){var k=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:o(x,y,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bn:return g.key===k?c(x,y,g,j):null;case qr:return g.key===k?d(x,y,g,j):null;case Ft:return k=g._init,h(x,y,k(g._payload),j)}if(Hs(g)||As(g))return k!==null?null:u(x,y,g,j,null);Zn(x,g)}return null}function m(x,y,g,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(g)||null,o(y,x,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Bn:return x=x.get(j.key===null?g:j.key)||null,c(y,x,j,k);case qr:return x=x.get(j.key===null?g:j.key)||null,d(y,x,j,k);case Ft:var N=j._init;return m(x,y,g,N(j._payload),k)}if(Hs(j)||As(j))return x=x.get(g)||null,u(y,x,j,k,null);Zn(y,j)}return null}function p(x,y,g,j){for(var k=null,N=null,_=y,T=y=0,I=null;_!==null&&T<g.length;T++){_.index>T?(I=_,_=null):I=_.sibling;var O=h(x,_,g[T],j);if(O===null){_===null&&(_=I);break}e&&_&&O.alternate===null&&t(x,_),y=i(O,y,T),N===null?k=O:N.sibling=O,N=O,_=I}if(T===g.length)return r(x,_),J&&vr(x,T),k;if(_===null){for(;T<g.length;T++)_=f(x,g[T],j),_!==null&&(y=i(_,y,T),N===null?k=_:N.sibling=_,N=_);return J&&vr(x,T),k}for(_=n(x,_);T<g.length;T++)I=m(_,x,T,g[T],j),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?T:I.key),y=i(I,y,T),N===null?k=I:N.sibling=I,N=I);return e&&_.forEach(function(Q){return t(x,Q)}),J&&vr(x,T),k}function w(x,y,g,j){var k=As(g);if(typeof k!="function")throw Error(C(150));if(g=k.call(g),g==null)throw Error(C(151));for(var N=k=null,_=y,T=y=0,I=null,O=g.next();_!==null&&!O.done;T++,O=g.next()){_.index>T?(I=_,_=null):I=_.sibling;var Q=h(x,_,O.value,j);if(Q===null){_===null&&(_=I);break}e&&_&&Q.alternate===null&&t(x,_),y=i(Q,y,T),N===null?k=Q:N.sibling=Q,N=Q,_=I}if(O.done)return r(x,_),J&&vr(x,T),k;if(_===null){for(;!O.done;T++,O=g.next())O=f(x,O.value,j),O!==null&&(y=i(O,y,T),N===null?k=O:N.sibling=O,N=O);return J&&vr(x,T),k}for(_=n(x,_);!O.done;T++,O=g.next())O=m(_,x,T,O.value,j),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?T:O.key),y=i(O,y,T),N===null?k=O:N.sibling=O,N=O);return e&&_.forEach(function(re){return t(x,re)}),J&&vr(x,T),k}function b(x,y,g,j){if(typeof g=="object"&&g!==null&&g.type===Kr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Bn:e:{for(var k=g.key,N=y;N!==null;){if(N.key===k){if(k=g.type,k===Kr){if(N.tag===7){r(x,N.sibling),y=a(N,g.props.children),y.return=x,x=y;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ft&&yd(k)===N.type){r(x,N.sibling),y=a(N,g.props),y.ref=$s(x,N,g),y.return=x,x=y;break e}r(x,N);break}else t(x,N);N=N.sibling}g.type===Kr?(y=Er(g.props.children,x.mode,j,g.key),y.return=x,x=y):(j=ja(g.type,g.key,g.props,null,x.mode,j),j.ref=$s(x,y,g),j.return=x,x=j)}return l(x);case qr:e:{for(N=g.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){r(x,y.sibling),y=a(y,g.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=sl(g,x.mode,j),y.return=x,x=y}return l(x);case Ft:return N=g._init,b(x,y,N(g._payload),j)}if(Hs(g))return p(x,y,g,j);if(As(g))return w(x,y,g,j);Zn(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,g),y.return=x,x=y):(r(x,y),y=rl(g,x.mode,j),y.return=x,x=y),l(x)):r(x,y)}return b}var ms=Ah(!0),Rh=Ah(!1),Ba=cr(null),Ha=null,rs=null,Qo=null;function Jo(){Qo=rs=Ha=null}function Xo(e){var t=Ba.current;Y(Ba),e._currentValue=t}function Wl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cs(e,t){Ha=e,Qo=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(Qo!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(Ha===null)throw Error(C(308));rs=e,Ha.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var _r=null;function Zo(e){_r===null?_r=[e]:_r.push(e)}function Oh(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Zo(t)):(r.next=a.next,a.next=r),t.interleaved=r,Pt(e,n)}function Pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zt=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ih(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Pt(e,r)}return a=n.interleaved,a===null?(t.next=t,Zo(n)):(t.next=a.next,a.next=t),n.interleaved=t,Pt(e,r)}function ga(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uo(e,r)}}function vd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Va(e,t,r,n){var a=e.updateQueue;zt=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,u=d=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,w=o;switch(h=t,m=r,w.tag){case 1:if(p=w.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=w.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=te({},f,h);break e;case 2:zt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,l|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ar|=l,e.lanes=l,e.memoizedState=f}}function bd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(C(191,a));a.call(n)}}}var An={},gt=cr(An),vn=cr(An),bn=cr(An);function kr(e){if(e===An)throw Error(C(174));return e}function tc(e,t){switch(q(bn,t),q(vn,e),q(gt,An),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kl(t,e)}Y(gt),q(gt,t)}function ps(){Y(gt),Y(vn),Y(bn)}function Dh(e){kr(bn.current);var t=kr(gt.current),r=kl(t,e.type);t!==r&&(q(vn,e),q(gt,r))}function rc(e){vn.current===e&&(Y(gt),Y(vn))}var Z=cr(0);function Wa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qi=[];function sc(){for(var e=0;e<Qi.length;e++)Qi[e]._workInProgressVersionPrimary=null;Qi.length=0}var xa=It.ReactCurrentDispatcher,Ji=It.ReactCurrentBatchConfig,Lr=0,ee=null,de=null,fe=null,Ga=!1,Xs=!1,wn=0,kg=0;function ve(){throw Error(C(321))}function nc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!at(e[r],t[r]))return!1;return!0}function ac(e,t,r,n,a,i){if(Lr=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?Tg:Pg,e=r(n,a),Xs){i=0;do{if(Xs=!1,wn=0,25<=i)throw Error(C(301));i+=1,fe=de=null,t.updateQueue=null,xa.current=Lg,e=r(n,a)}while(Xs)}if(xa.current=qa,t=de!==null&&de.next!==null,Lr=0,fe=de=ee=null,Ga=!1,t)throw Error(C(300));return e}function ic(){var e=wn!==0;return wn=0,e}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ee.memoizedState=fe=e:fe=fe.next=e,fe}function qe(){if(de===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=fe===null?ee.memoizedState:fe.next;if(t!==null)fe=t,de=e;else{if(e===null)throw Error(C(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},fe===null?ee.memoizedState=fe=e:fe=fe.next=e}return fe}function jn(e,t){return typeof t=="function"?t(e):t}function Xi(e){var t=qe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=de,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Lr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,ee.lanes|=u,Ar|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,at(n,t.memoizedState)||(Pe=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ee.lanes|=i,Ar|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zi(e){var t=qe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);at(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $h(){}function Mh(e,t){var r=ee,n=qe(),a=t(),i=!at(n.memoizedState,a);if(i&&(n.memoizedState=a,Pe=!0),n=n.queue,lc(zh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(r.flags|=2048,Nn(9,Fh.bind(null,r,n,a,t),void 0,null),me===null)throw Error(C(349));Lr&30||Uh(r,t,a)}return a}function Uh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Fh(e,t,r,n){t.value=r,t.getSnapshot=n,Bh(t)&&Hh(e)}function zh(e,t,r){return r(function(){Bh(t)&&Hh(e)})}function Bh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!at(e,r)}catch{return!0}}function Hh(e){var t=Pt(e,1);t!==null&&st(t,e,1,-1)}function wd(e){var t=ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:e},t.queue=e,e=e.dispatch=Cg.bind(null,ee,e),[t.memoizedState,e]}function Nn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Vh(){return qe().memoizedState}function ya(e,t,r,n){var a=ut();ee.flags|=e,a.memoizedState=Nn(1|t,r,void 0,n===void 0?null:n)}function pi(e,t,r,n){var a=qe();n=n===void 0?null:n;var i=void 0;if(de!==null){var l=de.memoizedState;if(i=l.destroy,n!==null&&nc(n,l.deps)){a.memoizedState=Nn(t,r,i,n);return}}ee.flags|=e,a.memoizedState=Nn(1|t,r,i,n)}function jd(e,t){return ya(8390656,8,e,t)}function lc(e,t){return pi(2048,8,e,t)}function Wh(e,t){return pi(4,2,e,t)}function Gh(e,t){return pi(4,4,e,t)}function qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kh(e,t,r){return r=r!=null?r.concat([e]):null,pi(4,4,qh.bind(null,t,e),r)}function oc(){}function Yh(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qh(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jh(e,t,r){return Lr&21?(at(r,t)||(r=rh(),ee.lanes|=r,Ar|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=r)}function Sg(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=Ji.transition;Ji.transition={};try{e(!1),t()}finally{W=r,Ji.transition=n}}function Xh(){return qe().memoizedState}function Eg(e,t,r){var n=er(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zh(e))ef(t,r);else if(r=Oh(e,t,r,n),r!==null){var a=ke();st(r,e,n,a),tf(r,t,n)}}function Cg(e,t,r){var n=er(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zh(e))ef(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,at(o,l)){var c=t.interleaved;c===null?(a.next=a,Zo(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Oh(e,t,a,n),r!==null&&(a=ke(),st(r,e,n,a),tf(r,t,n))}}function Zh(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function ef(e,t){Xs=Ga=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uo(e,r)}}var qa={readContext:Ge,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Tg={readContext:Ge,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:jd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ya(4194308,4,qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var r=ut();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ut();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Eg.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:wd,useDebugValue:oc,useDeferredValue:function(e){return ut().memoizedState=e},useTransition:function(){var e=wd(!1),t=e[0];return e=Sg.bind(null,e[1]),ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,a=ut();if(J){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),me===null)throw Error(C(349));Lr&30||Uh(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,jd(zh.bind(null,n,i,e),[e]),n.flags|=2048,Nn(9,Fh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ut(),t=me.identifierPrefix;if(J){var r=kt,n=_t;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pg={readContext:Ge,useCallback:Yh,useContext:Ge,useEffect:lc,useImperativeHandle:Kh,useInsertionEffect:Wh,useLayoutEffect:Gh,useMemo:Qh,useReducer:Xi,useRef:Vh,useState:function(){return Xi(jn)},useDebugValue:oc,useDeferredValue:function(e){var t=qe();return Jh(t,de.memoizedState,e)},useTransition:function(){var e=Xi(jn)[0],t=qe().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Mh,useId:Xh,unstable_isNewReconciler:!1},Lg={readContext:Ge,useCallback:Yh,useContext:Ge,useEffect:lc,useImperativeHandle:Kh,useInsertionEffect:Wh,useLayoutEffect:Gh,useMemo:Qh,useReducer:Zi,useRef:Vh,useState:function(){return Zi(jn)},useDebugValue:oc,useDeferredValue:function(e){var t=qe();return de===null?t.memoizedState=e:Jh(t,de.memoizedState,e)},useTransition:function(){var e=Zi(jn)[0],t=qe().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:Mh,useId:Xh,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gi={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),a=er(e),i=St(n,a);i.payload=t,r!=null&&(i.callback=r),t=Xt(e,i,a),t!==null&&(st(t,e,a,n),ga(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),a=er(e),i=St(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Xt(e,i,a),t!==null&&(st(t,e,a,n),ga(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=er(e),a=St(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xt(e,a,n),t!==null&&(st(t,e,n,r),ga(t,e,n))}};function Nd(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!pn(r,n)||!pn(a,i):!0}function rf(e,t,r){var n=!1,a=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(a=Ae(t)?Tr:je.current,n=t.contextTypes,i=(n=n!=null)?hs(e,a):nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function _d(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function ql(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ec(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ge(i):(i=Ae(t)?Tr:je.current,a.context=hs(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gl(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&gi.enqueueReplaceState(a,a.state,null),Va(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function gs(e,t){try{var r="",n=t;do r+=ap(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function el(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ag=typeof WeakMap=="function"?WeakMap:Map;function sf(e,t,r){r=St(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ya||(Ya=!0,no=n),Kl(e,t)},r}function nf(e,t,r){r=St(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Kl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Kl(e,t),typeof n!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function kd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ag;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Gg.bind(null,e,t,r),t.then(e,e))}function Sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ed(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=St(-1,1),t.tag=2,Xt(r,t,1))),r.lanes|=1),e)}var Rg=It.ReactCurrentOwner,Pe=!1;function _e(e,t,r,n){t.child=e===null?Rh(t,null,r,n):ms(t,e.child,r,n)}function Cd(e,t,r,n,a){r=r.render;var i=t.ref;return cs(t,a),n=ac(e,t,r,n,i,a),r=ic(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Lt(e,t,a)):(J&&r&&qo(t),t.flags|=1,_e(e,t,n,a),t.child)}function Td(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!gc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,af(e,t,i,n,a)):(e=ja(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:pn,r(l,n)&&e.ref===t.ref)return Lt(e,t,a)}return t.flags|=1,e=tr(i,n),e.ref=t.ref,e.return=t,t.child=e}function af(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(pn(i,n)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,Lt(e,t,a)}return Yl(e,t,r,n,a)}function lf(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(ns,Oe),Oe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(ns,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(ns,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,q(ns,Oe),Oe|=n;return _e(e,t,a,r),t.child}function of(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,r,n,a){var i=Ae(r)?Tr:je.current;return i=hs(t,i),cs(t,a),r=ac(e,t,r,n,i,a),n=ic(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Lt(e,t,a)):(J&&n&&qo(t),t.flags|=1,_e(e,t,r,a),t.child)}function Pd(e,t,r,n,a){if(Ae(r)){var i=!0;Ua(t)}else i=!1;if(cs(t,a),t.stateNode===null)va(e,t),rf(t,r,n),ql(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ge(d):(d=Ae(r)?Tr:je.current,d=hs(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&_d(t,l,n,d),zt=!1;var h=t.memoizedState;l.state=h,Va(t,n,l,a),c=t.memoizedState,o!==n||h!==c||Le.current||zt?(typeof u=="function"&&(Gl(t,r,u,n),c=t.memoizedState),(o=zt||Nd(t,r,o,n,h,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ih(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Je(t.type,o),l.props=d,f=t.pendingProps,h=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Ae(r)?Tr:je.current,c=hs(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||h!==c)&&_d(t,l,n,c),zt=!1,h=t.memoizedState,l.state=h,Va(t,n,l,a);var p=t.memoizedState;o!==f||h!==p||Le.current||zt?(typeof m=="function"&&(Gl(t,r,m,n),p=t.memoizedState),(d=zt||Nd(t,r,d,n,h,p,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,p,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ql(e,t,r,n,i,a)}function Ql(e,t,r,n,a,i){of(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&pd(t,r,!1),Lt(e,t,i);n=t.stateNode,Rg.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=ms(t,e.child,null,i),t.child=ms(t,null,o,i)):_e(e,t,o,i),t.memoizedState=n.state,a&&pd(t,r,!0),t.child}function cf(e){var t=e.stateNode;t.pendingContext?md(e,t.pendingContext,t.pendingContext!==t.context):t.context&&md(e,t.context,!1),tc(e,t.containerInfo)}function Ld(e,t,r,n,a){return fs(),Yo(a),t.flags|=256,_e(e,t,r,n),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function df(e,t,r){var n=t.pendingProps,a=Z.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),q(Z,a&1),e===null)return Vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=vi(l,n,0,null),e=Er(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xl(r),t.memoizedState=Jl,e):cc(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Og(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=tr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=tr(o,i):(i=Er(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Xl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Jl,n}return i=e.child,e=i.sibling,n=tr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cc(e,t){return t=vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ea(e,t,r,n){return n!==null&&Yo(n),ms(t,e.child,null,r),e=cc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Og(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=el(Error(C(422))),ea(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=vi({mode:"visible",children:n.children},a,0,null),i=Er(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ms(t,e.child,null,l),t.child.memoizedState=Xl(l),t.memoizedState=Jl,i);if(!(t.mode&1))return ea(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(C(419)),n=el(i,n,void 0),ea(e,t,l,n)}if(o=(l&e.childLanes)!==0,Pe||o){if(n=me,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Pt(e,a),st(n,e,a,-1))}return pc(),n=el(Error(C(421))),ea(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qg.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ie=Jt(a.nextSibling),$e=t,J=!0,et=null,e!==null&&(ze[Be++]=_t,ze[Be++]=kt,ze[Be++]=Pr,_t=e.id,kt=e.overflow,Pr=t),t=cc(t,n.children),t.flags|=4096,t)}function Ad(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Wl(e.return,t,r)}function tl(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function uf(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(_e(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,r,t);else if(e.tag===19)Ad(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(q(Z,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Wa(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),tl(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Wa(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}tl(t,!0,r,null,i);break;case"together":tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function va(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ig(e,t,r){switch(t.tag){case 3:cf(t),fs();break;case 5:Dh(t);break;case 1:Ae(t.type)&&Ua(t);break;case 4:tc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;q(Ba,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(q(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?df(e,t,r):(q(Z,Z.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);q(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return uf(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,lf(e,t,r)}return Lt(e,t,r)}var hf,Zl,ff,mf;hf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zl=function(){};ff=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kr(gt.current);var i=null;switch(r){case"input":a=wl(e,a),n=wl(e,n),i=[];break;case"select":a=te({},a,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":a=_l(e,a),n=_l(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$a)}Sl(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(on.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(on.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&K("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};mf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ms(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Dg(e,t,r){var n=t.pendingProps;switch(Ko(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Ae(t.type)&&Ma(),be(t),null;case 3:return n=t.stateNode,ps(),Y(Le),Y(je),sc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(lo(et),et=null))),Zl(e,t),be(t),null;case 5:rc(t);var a=kr(bn.current);if(r=t.type,e!==null&&t.stateNode!=null)ff(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return be(t),null}if(e=kr(gt.current),Xn(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ft]=t,n[yn]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(a=0;a<Ws.length;a++)K(Ws[a],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":zc(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":Hc(n,i),K("invalid",n)}Sl(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Jn(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Jn(n.textContent,o,e),a=["children",""+o]):on.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&K("scroll",n)}switch(r){case"input":Hn(n),Bc(n,i,!0);break;case"textarea":Hn(n),Vc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$a)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ft]=t,e[yn]=n,hf(e,t,!1,!1),t.stateNode=e;e:{switch(l=El(r,n),r){case"dialog":K("cancel",e),K("close",e),a=n;break;case"iframe":case"object":case"embed":K("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ws.length;a++)K(Ws[a],e);a=n;break;case"source":K("error",e),a=n;break;case"img":case"image":case"link":K("error",e),K("load",e),a=n;break;case"details":K("toggle",e),a=n;break;case"input":zc(e,n),a=wl(e,n),K("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=te({},n,{value:void 0}),K("invalid",e);break;case"textarea":Hc(e,n),a=_l(e,n),K("invalid",e);break;default:a=n}Sl(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Vu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bu(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&cn(e,c):typeof c=="number"&&cn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(on.hasOwnProperty(i)?c!=null&&i==="onScroll"&&K("scroll",e):c!=null&&Ro(e,i,c,l))}switch(r){case"input":Hn(e),Bc(e,n,!1);break;case"textarea":Hn(e),Vc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?as(e,!!n.multiple,i,!1):n.defaultValue!=null&&as(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=$a)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)mf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=kr(bn.current),kr(gt.current),Xn(t)){if(n=t.stateNode,r=t.memoizedProps,n[ft]=t,(i=n.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:Jn(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jn(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ft]=t,t.stateNode=n}return be(t),null;case 13:if(Y(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Ie!==null&&t.mode&1&&!(t.flags&128))Lh(),fs(),t.flags|=98560,i=!1;else if(i=Xn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ft]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),i=!1}else et!==null&&(lo(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ue===0&&(ue=3):pc())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return ps(),Zl(e,t),e===null&&gn(t.stateNode.containerInfo),be(t),null;case 10:return Xo(t.type._context),be(t),null;case 17:return Ae(t.type)&&Ma(),be(t),null;case 19:if(Y(Z),i=t.memoizedState,i===null)return be(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Ms(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Wa(e),l!==null){for(t.flags|=128,Ms(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return q(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&ae()>xs&&(t.flags|=128,n=!0,Ms(i,!1),t.lanes=4194304)}else{if(!n)if(e=Wa(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!J)return be(t),null}else 2*ae()-i.renderingStartTime>xs&&r!==1073741824&&(t.flags|=128,n=!0,Ms(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ae(),t.sibling=null,r=Z.current,q(Z,n?r&1|2:r&1),t):(be(t),null);case 22:case 23:return mc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function $g(e,t){switch(Ko(t),t.tag){case 1:return Ae(t.type)&&Ma(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),Y(Le),Y(je),sc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rc(t),null;case 13:if(Y(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Z),null;case 4:return ps(),null;case 10:return Xo(t.type._context),null;case 22:case 23:return mc(),null;case 24:return null;default:return null}}var ta=!1,we=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,P=null;function ss(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(e,t,n)}else r.current=null}function eo(e,t,r){try{r()}catch(n){se(e,t,n)}}var Rd=!1;function Ug(e,t){if($l=Oa,e=yh(),Go(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=l+a),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===a&&(o=l),h===i&&++u===n&&(c=l),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ml={focusedElem:e,selectionRange:r},Oa=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var w=p.memoizedProps,b=p.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:Je(t.type,w),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(j){se(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return p=Rd,Rd=!1,p}function Zs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&eo(t,r,i)}a=a.next}while(a!==n)}}function xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function to(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[yn],delete t[zl],delete t[wg],delete t[jg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gf(e){return e.tag===5||e.tag===3||e.tag===4}function Od(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ro(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$a));else if(n!==4&&(e=e.child,e!==null))for(ro(e,t,r),e=e.sibling;e!==null;)ro(e,t,r),e=e.sibling}function so(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(so(e,t,r),e=e.sibling;e!==null;)so(e,t,r),e=e.sibling}var pe=null,Xe=!1;function $t(e,t,r){for(r=r.child;r!==null;)xf(e,t,r),r=r.sibling}function xf(e,t,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(ci,r)}catch{}switch(r.tag){case 5:we||ss(r,t);case 6:var n=pe,a=Xe;pe=null,$t(e,t,r),pe=n,Xe=a,pe!==null&&(Xe?(e=pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pe.removeChild(r.stateNode));break;case 18:pe!==null&&(Xe?(e=pe,r=r.stateNode,e.nodeType===8?Ki(e.parentNode,r):e.nodeType===1&&Ki(e,r),fn(e)):Ki(pe,r.stateNode));break;case 4:n=pe,a=Xe,pe=r.stateNode.containerInfo,Xe=!0,$t(e,t,r),pe=n,Xe=a;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&eo(r,t,l),a=a.next}while(a!==n)}$t(e,t,r);break;case 1:if(!we&&(ss(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){se(r,t,o)}$t(e,t,r);break;case 21:$t(e,t,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,$t(e,t,r),we=n):$t(e,t,r);break;default:$t(e,t,r)}}function Id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mg),t.forEach(function(n){var a=Kg.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ye(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:pe=o.stateNode,Xe=!1;break e;case 3:pe=o.stateNode.containerInfo,Xe=!0;break e;case 4:pe=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(pe===null)throw Error(C(160));xf(i,l,a),pe=null,Xe=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){se(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yf(t,e),t=t.sibling}function yf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),dt(e),n&4){try{Zs(3,e,e.return),xi(3,e)}catch(w){se(e,e.return,w)}try{Zs(5,e,e.return)}catch(w){se(e,e.return,w)}}break;case 1:Ye(t,e),dt(e),n&512&&r!==null&&ss(r,r.return);break;case 5:if(Ye(t,e),dt(e),n&512&&r!==null&&ss(r,r.return),e.flags&32){var a=e.stateNode;try{cn(a,"")}catch(w){se(e,e.return,w)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Uu(a,i),El(o,l);var d=El(o,i);for(l=0;l<c.length;l+=2){var u=c[l],f=c[l+1];u==="style"?Vu(a,f):u==="dangerouslySetInnerHTML"?Bu(a,f):u==="children"?cn(a,f):Ro(a,u,f,d)}switch(o){case"input":jl(a,i);break;case"textarea":Fu(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?as(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?as(a,!!i.multiple,i.defaultValue,!0):as(a,!!i.multiple,i.multiple?[]:"",!1))}a[yn]=i}catch(w){se(e,e.return,w)}}break;case 6:if(Ye(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(C(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){se(e,e.return,w)}}break;case 3:if(Ye(t,e),dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fn(t.containerInfo)}catch(w){se(e,e.return,w)}break;case 4:Ye(t,e),dt(e);break;case 13:Ye(t,e),dt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hc=ae())),n&4&&Id(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(we=(d=we)||u,Ye(t,e),we=d):Ye(t,e),dt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(P=e,u=e.child;u!==null;){for(f=P=u;P!==null;){switch(h=P,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:ss(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(w){se(n,r,w)}}break;case 5:ss(h,h.return);break;case 22:if(h.memoizedState!==null){$d(f);continue}}m!==null?(m.return=h,P=m):$d(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Hu("display",l))}catch(w){se(e,e.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){se(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ye(t,e),dt(e),n&4&&Id(e);break;case 21:break;default:Ye(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gf(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(cn(a,""),n.flags&=-33);var i=Od(e);so(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Od(e);ro(e,o,l);break;default:throw Error(C(161))}}catch(c){se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fg(e,t,r){P=e,vf(e)}function vf(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var a=P,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||ta;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||we;o=ta;var d=we;if(ta=l,(we=c)&&!d)for(P=a;P!==null;)l=P,c=l.child,l.tag===22&&l.memoizedState!==null?Md(a):c!==null?(c.return=l,P=c):Md(a);for(;i!==null;)P=i,vf(i),i=i.sibling;P=a,ta=o,we=d}Dd(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,P=i):Dd(e)}}function Dd(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||xi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!we)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Je(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bd(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bd(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&fn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}we||t.flags&512&&to(t)}catch(h){se(t,t.return,h)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function $d(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function Md(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xi(4,t)}catch(c){se(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){se(t,a,c)}}var i=t.return;try{to(t)}catch(c){se(t,i,c)}break;case 5:var l=t.return;try{to(t)}catch(c){se(t,l,c)}}}catch(c){se(t,t.return,c)}if(t===e){P=null;break}var o=t.sibling;if(o!==null){o.return=t.return,P=o;break}P=t.return}}var zg=Math.ceil,Ka=It.ReactCurrentDispatcher,dc=It.ReactCurrentOwner,Ve=It.ReactCurrentBatchConfig,z=0,me=null,le=null,xe=0,Oe=0,ns=cr(0),ue=0,_n=null,Ar=0,yi=0,uc=0,en=null,Ce=null,hc=0,xs=1/0,wt=null,Ya=!1,no=null,Zt=null,ra=!1,qt=null,Qa=0,tn=0,ao=null,ba=-1,wa=0;function ke(){return z&6?ae():ba!==-1?ba:ba=ae()}function er(e){return e.mode&1?z&2&&xe!==0?xe&-xe:_g.transition!==null?(wa===0&&(wa=rh()),wa):(e=W,e!==0||(e=window.event,e=e===void 0?16:ch(e.type)),e):1}function st(e,t,r,n){if(50<tn)throw tn=0,ao=null,Error(C(185));Tn(e,r,n),(!(z&2)||e!==me)&&(e===me&&(!(z&2)&&(yi|=r),ue===4&&Vt(e,xe)),Re(e,n),r===1&&z===0&&!(t.mode&1)&&(xs=ae()+500,mi&&dr()))}function Re(e,t){var r=e.callbackNode;_p(e,t);var n=Ra(e,e===me?xe:0);if(n===0)r!==null&&qc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qc(r),t===1)e.tag===0?Ng(Ud.bind(null,e)):Ch(Ud.bind(null,e)),vg(function(){!(z&6)&&dr()}),r=null;else{switch(sh(n)){case 1:r=Mo;break;case 4:r=eh;break;case 16:r=Aa;break;case 536870912:r=th;break;default:r=Aa}r=Ef(r,bf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bf(e,t){if(ba=-1,wa=0,z&6)throw Error(C(327));var r=e.callbackNode;if(ds()&&e.callbackNode!==r)return null;var n=Ra(e,e===me?xe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ja(e,n);else{t=n;var a=z;z|=2;var i=jf();(me!==e||xe!==t)&&(wt=null,xs=ae()+500,Sr(e,t));do try{Vg();break}catch(o){wf(e,o)}while(!0);Jo(),Ka.current=i,z=a,le!==null?t=0:(me=null,xe=0,t=ue)}if(t!==0){if(t===2&&(a=Al(e),a!==0&&(n=a,t=io(e,a))),t===1)throw r=_n,Sr(e,0),Vt(e,n),Re(e,ae()),r;if(t===6)Vt(e,n);else{if(a=e.current.alternate,!(n&30)&&!Bg(a)&&(t=Ja(e,n),t===2&&(i=Al(e),i!==0&&(n=i,t=io(e,i))),t===1))throw r=_n,Sr(e,0),Vt(e,n),Re(e,ae()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:br(e,Ce,wt);break;case 3:if(Vt(e,n),(n&130023424)===n&&(t=hc+500-ae(),10<t)){if(Ra(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Fl(br.bind(null,e,Ce,wt),t);break}br(e,Ce,wt);break;case 4:if(Vt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-rt(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zg(n/1960))-n,10<n){e.timeoutHandle=Fl(br.bind(null,e,Ce,wt),n);break}br(e,Ce,wt);break;case 5:br(e,Ce,wt);break;default:throw Error(C(329))}}}return Re(e,ae()),e.callbackNode===r?bf.bind(null,e):null}function io(e,t){var r=en;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Ja(e,t),e!==2&&(t=Ce,Ce=r,t!==null&&lo(t)),e}function lo(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function Bg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!at(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~uc,t&=~yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rt(t),n=1<<r;e[r]=-1,t&=~n}}function Ud(e){if(z&6)throw Error(C(327));ds();var t=Ra(e,0);if(!(t&1))return Re(e,ae()),null;var r=Ja(e,t);if(e.tag!==0&&r===2){var n=Al(e);n!==0&&(t=n,r=io(e,n))}if(r===1)throw r=_n,Sr(e,0),Vt(e,t),Re(e,ae()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,Ce,wt),Re(e,ae()),null}function fc(e,t){var r=z;z|=1;try{return e(t)}finally{z=r,z===0&&(xs=ae()+500,mi&&dr())}}function Rr(e){qt!==null&&qt.tag===0&&!(z&6)&&ds();var t=z;z|=1;var r=Ve.transition,n=W;try{if(Ve.transition=null,W=1,e)return e()}finally{W=n,Ve.transition=r,z=t,!(z&6)&&dr()}}function mc(){Oe=ns.current,Y(ns)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yg(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(Ko(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ma();break;case 3:ps(),Y(Le),Y(je),sc();break;case 5:rc(n);break;case 4:ps();break;case 13:Y(Z);break;case 19:Y(Z);break;case 10:Xo(n.type._context);break;case 22:case 23:mc()}r=r.return}if(me=e,le=e=tr(e.current,null),xe=Oe=t,ue=0,_n=null,uc=yi=Ar=0,Ce=en=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}_r=null}return e}function wf(e,t){do{var r=le;try{if(Jo(),xa.current=qa,Ga){for(var n=ee.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ga=!1}if(Lr=0,fe=de=ee=null,Xs=!1,wn=0,dc.current=null,r===null||r.return===null){ue=1,_n=t,le=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Sd(l);if(m!==null){m.flags&=-257,Ed(m,l,o,i,t),m.mode&1&&kd(i,d,t),t=m,c=d;var p=t.updateQueue;if(p===null){var w=new Set;w.add(c),t.updateQueue=w}else p.add(c);break e}else{if(!(t&1)){kd(i,d,t),pc();break e}c=Error(C(426))}}else if(J&&o.mode&1){var b=Sd(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ed(b,l,o,i,t),Yo(gs(c,o));break e}}i=c=gs(c,o),ue!==4&&(ue=2),en===null?en=[i]:en.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=sf(i,c,t);vd(i,x);break e;case 1:o=c;var y=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zt===null||!Zt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=nf(i,o,t);vd(i,j);break e}}i=i.return}while(i!==null)}_f(r)}catch(k){t=k,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function jf(){var e=Ka.current;return Ka.current=qa,e===null?qa:e}function pc(){(ue===0||ue===3||ue===2)&&(ue=4),me===null||!(Ar&268435455)&&!(yi&268435455)||Vt(me,xe)}function Ja(e,t){var r=z;z|=2;var n=jf();(me!==e||xe!==t)&&(wt=null,Sr(e,t));do try{Hg();break}catch(a){wf(e,a)}while(!0);if(Jo(),z=r,Ka.current=n,le!==null)throw Error(C(261));return me=null,xe=0,ue}function Hg(){for(;le!==null;)Nf(le)}function Vg(){for(;le!==null&&!pp();)Nf(le)}function Nf(e){var t=Sf(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?_f(e):le=t,dc.current=null}function _f(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$g(r,t),r!==null){r.flags&=32767,le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,le=null;return}}else if(r=Dg(r,t,Oe),r!==null){le=r;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ue===0&&(ue=5)}function br(e,t,r){var n=W,a=Ve.transition;try{Ve.transition=null,W=1,Wg(e,t,r,n)}finally{Ve.transition=a,W=n}return null}function Wg(e,t,r,n){do ds();while(qt!==null);if(z&6)throw Error(C(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kp(e,i),e===me&&(le=me=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ra||(ra=!0,Ef(Aa,function(){return ds(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var l=W;W=1;var o=z;z|=4,dc.current=null,Ug(e,r),yf(r,e),ug(Ml),Oa=!!$l,Ml=$l=null,e.current=r,Fg(r),gp(),z=o,W=l,Ve.transition=i}else e.current=r;if(ra&&(ra=!1,qt=e,Qa=a),i=e.pendingLanes,i===0&&(Zt=null),vp(r.stateNode),Re(e,ae()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ya)throw Ya=!1,e=no,no=null,e;return Qa&1&&e.tag!==0&&ds(),i=e.pendingLanes,i&1?e===ao?tn++:(tn=0,ao=e):tn=0,dr(),null}function ds(){if(qt!==null){var e=sh(Qa),t=Ve.transition,r=W;try{if(Ve.transition=null,W=16>e?16:e,qt===null)var n=!1;else{if(e=qt,qt=null,Qa=0,z&6)throw Error(C(331));var a=z;for(z|=4,P=e.current;P!==null;){var i=P,l=i.child;if(P.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(P=d;P!==null;){var u=P;switch(u.tag){case 0:case 11:case 15:Zs(8,u,i)}var f=u.child;if(f!==null)f.return=u,P=f;else for(;P!==null;){u=P;var h=u.sibling,m=u.return;if(pf(u),u===d){P=null;break}if(h!==null){h.return=m,P=h;break}P=m}}}var p=i.alternate;if(p!==null){var w=p.child;if(w!==null){p.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,P=l;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zs(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,P=x;break e}P=i.return}}var y=e.current;for(P=y;P!==null;){l=P;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,P=g;else e:for(l=y;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xi(9,o)}}catch(k){se(o,o.return,k)}if(o===l){P=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,P=j;break e}P=o.return}}if(z=a,dr(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(ci,e)}catch{}n=!0}return n}finally{W=r,Ve.transition=t}}return!1}function Fd(e,t,r){t=gs(r,t),t=sf(e,t,1),e=Xt(e,t,1),t=ke(),e!==null&&(Tn(e,1,t),Re(e,t))}function se(e,t,r){if(e.tag===3)Fd(e,e,r);else for(;t!==null;){if(t.tag===3){Fd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zt===null||!Zt.has(n))){e=gs(r,e),e=nf(t,e,1),t=Xt(t,e,1),e=ke(),t!==null&&(Tn(t,1,e),Re(t,e));break}}t=t.return}}function Gg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,me===e&&(xe&r)===r&&(ue===4||ue===3&&(xe&130023424)===xe&&500>ae()-hc?Sr(e,0):uc|=r),Re(e,t)}function kf(e,t){t===0&&(e.mode&1?(t=Gn,Gn<<=1,!(Gn&130023424)&&(Gn=4194304)):t=1);var r=ke();e=Pt(e,t),e!==null&&(Tn(e,t,r),Re(e,r))}function qg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kf(e,r)}function Kg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),kf(e,r)}var Sf;Sf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Pe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pe=!1,Ig(e,t,r);Pe=!!(e.flags&131072)}else Pe=!1,J&&t.flags&1048576&&Th(t,za,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;va(e,t),e=t.pendingProps;var a=hs(t,je.current);cs(t,r),a=ac(null,t,n,e,a,r);var i=ic();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(n)?(i=!0,Ua(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ec(t),a.updater=gi,t.stateNode=a,a._reactInternals=t,ql(t,n,e,r),t=Ql(null,t,n,!0,i,r)):(t.tag=0,J&&i&&qo(t),_e(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(va(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Qg(n),e=Je(n,e),a){case 0:t=Yl(null,t,n,e,r);break e;case 1:t=Pd(null,t,n,e,r);break e;case 11:t=Cd(null,t,n,e,r);break e;case 14:t=Td(null,t,n,Je(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),Yl(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),Pd(e,t,n,a,r);case 3:e:{if(cf(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Ih(e,t),Va(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=gs(Error(C(423)),t),t=Ld(e,t,n,r,a);break e}else if(n!==a){a=gs(Error(C(424)),t),t=Ld(e,t,n,r,a);break e}else for(Ie=Jt(t.stateNode.containerInfo.firstChild),$e=t,J=!0,et=null,r=Rh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fs(),n===a){t=Lt(e,t,r);break e}_e(e,t,n,r)}t=t.child}return t;case 5:return Dh(t),e===null&&Vl(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Ul(n,a)?l=null:i!==null&&Ul(n,i)&&(t.flags|=32),of(e,t),_e(e,t,l,r),t.child;case 6:return e===null&&Vl(t),null;case 13:return df(e,t,r);case 4:return tc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ms(t,null,n,r):_e(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),Cd(e,t,n,a,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,q(Ba,n._currentValue),n._currentValue=l,i!==null)if(at(i.value,l)){if(i.children===a.children&&!Le.current){t=Lt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=St(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Wl(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(C(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Wl(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}_e(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,cs(t,r),a=Ge(a),n=n(a),t.flags|=1,_e(e,t,n,r),t.child;case 14:return n=t.type,a=Je(n,t.pendingProps),a=Je(n.type,a),Td(e,t,n,a,r);case 15:return af(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),va(e,t),t.tag=1,Ae(n)?(e=!0,Ua(t)):e=!1,cs(t,r),rf(t,n,a),ql(t,n,a,r),Ql(null,t,n,!0,e,r);case 19:return uf(e,t,r);case 22:return lf(e,t,r)}throw Error(C(156,t.tag))};function Ef(e,t){return Zu(e,t)}function Yg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,r,n){return new Yg(e,t,r,n)}function gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qg(e){if(typeof e=="function")return gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Io)return 11;if(e===Do)return 14}return 2}function tr(e,t){var r=e.alternate;return r===null?(r=He(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ja(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")gc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Kr:return Er(r.children,a,i,t);case Oo:l=8,a|=8;break;case xl:return e=He(12,r,t,a|2),e.elementType=xl,e.lanes=i,e;case yl:return e=He(13,r,t,a),e.elementType=yl,e.lanes=i,e;case vl:return e=He(19,r,t,a),e.elementType=vl,e.lanes=i,e;case Du:return vi(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ou:l=10;break e;case Iu:l=9;break e;case Io:l=11;break e;case Do:l=14;break e;case Ft:l=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=He(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Er(e,t,r,n){return e=He(7,e,n,t),e.lanes=r,e}function vi(e,t,r,n){return e=He(22,e,n,t),e.elementType=Du,e.lanes=r,e.stateNode={isHidden:!1},e}function rl(e,t,r){return e=He(6,e,null,t),e.lanes=r,e}function sl(e,t,r){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jg(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xc(e,t,r,n,a,i,l,o,c){return e=new Jg(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec(i),e}function Xg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Cf(e){if(!e)return nr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Ae(r))return Eh(e,r,t)}return t}function Tf(e,t,r,n,a,i,l,o,c){return e=xc(r,n,!0,e,a,i,l,o,c),e.context=Cf(null),r=e.current,n=ke(),a=er(r),i=St(n,a),i.callback=t??null,Xt(r,i,a),e.current.lanes=a,Tn(e,a,n),Re(e,n),e}function bi(e,t,r,n){var a=t.current,i=ke(),l=er(a);return r=Cf(r),t.context===null?t.context=r:t.pendingContext=r,t=St(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xt(a,t,l),e!==null&&(st(e,a,l,i),ga(e,a,l)),l}function Xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yc(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Zg(){return null}var Pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function vc(e){this._internalRoot=e}wi.prototype.render=vc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));bi(e,t,null,null)};wi.prototype.unmount=vc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){bi(null,e,null,null)}),t[Tt]=null}};function wi(e){this._internalRoot=e}wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ih();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&oh(e)}};function bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bd(){}function e0(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Xa(l);i.call(d)}}var l=Tf(t,n,e,0,null,!1,!1,"",Bd);return e._reactRootContainer=l,e[Tt]=l.current,gn(e.nodeType===8?e.parentNode:e),Rr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Xa(c);o.call(d)}}var c=xc(e,0,!1,null,null,!1,!1,"",Bd);return e._reactRootContainer=c,e[Tt]=c.current,gn(e.nodeType===8?e.parentNode:e),Rr(function(){bi(t,c,r,n)}),c}function Ni(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Xa(l);o.call(c)}}bi(t,l,e,a)}else l=e0(r,t,e,a,n);return Xa(l)}nh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vs(t.pendingLanes);r!==0&&(Uo(t,r|1),Re(t,ae()),!(z&6)&&(xs=ae()+500,dr()))}break;case 13:Rr(function(){var n=Pt(e,1);if(n!==null){var a=ke();st(n,e,1,a)}}),yc(e,1)}};Fo=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var r=ke();st(t,e,134217728,r)}yc(e,134217728)}};ah=function(e){if(e.tag===13){var t=er(e),r=Pt(e,t);if(r!==null){var n=ke();st(r,e,t,n)}yc(e,t)}};ih=function(){return W};lh=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Tl=function(e,t,r){switch(t){case"input":if(jl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=fi(n);if(!a)throw Error(C(90));Mu(n),jl(n,a)}}}break;case"textarea":Fu(e,r);break;case"select":t=r.value,t!=null&&as(e,!!r.multiple,t,!1)}};qu=fc;Ku=Rr;var t0={usingClientEntryPoint:!1,Events:[Ln,Xr,fi,Wu,Gu,fc]},Us={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ju(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||Zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{ci=sa.inject(r0),pt=sa}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;Ue.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(t))throw Error(C(200));return Xg(e,t,null,r)};Ue.createRoot=function(e,t){if(!bc(e))throw Error(C(299));var r=!1,n="",a=Pf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xc(e,1,!1,null,null,r,!1,n,a),e[Tt]=t.current,gn(e.nodeType===8?e.parentNode:e),new vc(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Ju(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return Rr(e)};Ue.hydrate=function(e,t,r){if(!ji(t))throw Error(C(200));return Ni(null,e,t,!0,r)};Ue.hydrateRoot=function(e,t,r){if(!bc(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=Pf;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Tf(t,null,e,1,r??null,a,!1,i,l),e[Tt]=t.current,gn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new wi(t)};Ue.render=function(e,t,r){if(!ji(t))throw Error(C(200));return Ni(null,e,t,!1,r)};Ue.unmountComponentAtNode=function(e){if(!ji(e))throw Error(C(40));return e._reactRootContainer?(Rr(function(){Ni(null,null,e,!1,function(){e._reactRootContainer=null,e[Tt]=null})}),!0):!1};Ue.unstable_batchedUpdates=fc;Ue.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ji(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Ni(e,t,r,!1,n)};Ue.version="18.3.1-next-f1338f8080-20240426";function Lf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lf)}catch(e){console.error(e)}}Lf(),Pu.exports=Ue;var s0=Pu.exports,Af,Hd=s0;Af=Hd.createRoot,Hd.hydrateRoot;const n0="modulepreload",a0=function(e){return"/"+e},Vd={},At=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=a0(c),c in Vd)return;Vd[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":n0,d||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wd="popstate";function i0(e={}){function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return oo("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kn(a)}return o0(t,r,null,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function it(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l0(){return Math.random().toString(36).substring(2,10)}function Gd(e,t){return{usr:e.state,key:e.key,idx:t}}function oo(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ks(t):t,state:r,key:t&&t.key||n||l0()}}function kn({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ks(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function o0(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o="POP",c=null,d=u();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function u(){return(l.state||{idx:null}).idx}function f(){o="POP";let b=u(),x=b==null?null:b-d;d=b,c&&c({action:o,location:w.location,delta:x})}function h(b,x){o="PUSH";let y=oo(w.location,b,x);d=u()+1;let g=Gd(y,d),j=w.createHref(y);try{l.pushState(g,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}i&&c&&c({action:o,location:w.location,delta:1})}function m(b,x){o="REPLACE";let y=oo(w.location,b,x);d=u();let g=Gd(y,d),j=w.createHref(y);l.replaceState(g,"",j),i&&c&&c({action:o,location:w.location,delta:0})}function p(b){return c0(b)}let w={get action(){return o},get location(){return e(a,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Wd,f),c=b,()=>{a.removeEventListener(Wd,f),c=null}},createHref(b){return t(a,b)},createURL:p,encodeLocation(b){let x=p(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(b){return l.go(b)}};return w}function c0(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),X(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:kn(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Rf(e,t,r="/"){return d0(e,t,r,!1)}function d0(e,t,r,n){let a=typeof t=="string"?ks(t):t,i=Rt(a.pathname||"/",r);if(i==null)return null;let l=Of(e);u0(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=j0(i);o=b0(l[c],d,n)}return o}function Of(e,t=[],r=[],n="",a=!1){let i=(l,o,c=a,d)=>{let u={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;X(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let f=Et([n,u.relativePath]),h=r.concat(u);l.children&&l.children.length>0&&(X(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Of(l.children,t,h,f,c)),!(l.path==null&&!l.index)&&t.push({path:f,score:y0(f,l.index),routesMeta:h})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,o);else for(let d of If(l.path))i(l,o,!0,d)}),t}function If(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=If(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function u0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:v0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var h0=/^:[\w-]+$/,f0=3,m0=2,p0=1,g0=10,x0=-2,qd=e=>e==="*";function y0(e,t){let r=e.split("/"),n=r.length;return r.some(qd)&&(n+=x0),t&&(n+=m0),r.filter(a=>!qd(a)).reduce((a,i)=>a+(h0.test(i)?f0:i===""?p0:g0),n)}function v0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function b0(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Za({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Za({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:Et([i,f.pathname]),pathnameBase:S0(Et([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Et([i,f.pathnameBase]))}return l}function Za(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=w0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:f},h)=>{if(u==="*"){let p=o[h]||"";l=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[h];return f&&!m?d[u]=void 0:d[u]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function w0(e,t=!1,r=!0){it(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function j0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return it(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function N0(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ks(e):e;return{pathname:r?r.startsWith("/")?r:_0(r,t):t,search:E0(n),hash:C0(a)}}function _0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function nl(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function wc(e){let t=k0(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function jc(e,t,r,n=!1){let a;typeof e=="string"?a=ks(e):(a={...e},X(!a.pathname||!a.pathname.includes("?"),nl("?","pathname","search",a)),X(!a.pathname||!a.pathname.includes("#"),nl("#","pathname","hash",a)),X(!a.search||!a.search.includes("#"),nl("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let f=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=N0(a,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Et=e=>e.join("/").replace(/\/\/+/g,"/"),S0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,C0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Df=["POST","PUT","PATCH","DELETE"];new Set(Df);var P0=["GET",...Df];new Set(P0);var Ss=v.createContext(null);Ss.displayName="DataRouter";var _i=v.createContext(null);_i.displayName="DataRouterState";v.createContext(!1);var $f=v.createContext({isTransitioning:!1});$f.displayName="ViewTransition";var L0=v.createContext(new Map);L0.displayName="Fetchers";var A0=v.createContext(null);A0.displayName="Await";var ot=v.createContext(null);ot.displayName="Navigation";var Rn=v.createContext(null);Rn.displayName="Location";var Ke=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ke.displayName="Route";var Nc=v.createContext(null);Nc.displayName="RouteError";function R0(e,{relative:t}={}){X(Es(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(ot),{hash:a,pathname:i,search:l}=On(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Et([r,i])),n.createHref({pathname:o,search:l,hash:a})}function Es(){return v.useContext(Rn)!=null}function xt(){return X(Es(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Rn).location}var Mf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uf(e){v.useContext(ot).static||v.useLayoutEffect(e)}function yt(){let{isDataRoute:e}=v.useContext(Ke);return e?Y0():O0()}function O0(){X(Es(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Ss),{basename:t,navigator:r}=v.useContext(ot),{matches:n}=v.useContext(Ke),{pathname:a}=xt(),i=JSON.stringify(wc(n)),l=v.useRef(!1);return Uf(()=>{l.current=!0}),v.useCallback((c,d={})=>{if(it(l.current,Mf),!l.current)return;if(typeof c=="number"){r.go(c);return}let u=jc(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Et([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,a,e])}var I0=v.createContext(null);function D0(e){let t=v.useContext(Ke).outlet;return t&&v.createElement(I0.Provider,{value:e},t)}function $0(){let{matches:e}=v.useContext(Ke),t=e[e.length-1];return t?t.params:{}}function On(e,{relative:t}={}){let{matches:r}=v.useContext(Ke),{pathname:n}=xt(),a=JSON.stringify(wc(r));return v.useMemo(()=>jc(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function M0(e,t){return Ff(e,t)}function Ff(e,t,r,n,a){var y;X(Es(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(ot),{matches:l}=v.useContext(Ke),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let g=f&&f.path||"";zf(d,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=xt(),m;if(t){let g=typeof t=="string"?ks(t):t;X(u==="/"||((y=g.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),m=g}else m=h;let p=m.pathname||"/",w=p;if(u!=="/"){let g=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=Rf(e,{pathname:w});it(f||b!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),it(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=H0(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Et([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Et([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),l,r,n,a);return t&&x?v.createElement(Rn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function U0(){let e=K0(),t=T0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,l)}var F0=v.createElement(U0,null),z0=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(Ke.Provider,{value:this.props.routeContext},v.createElement(Nc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B0({routeContext:e,match:t,children:r}){let n=v.useContext(Ss);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Ke.Provider,{value:e},r)}function H0(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r==null?void 0:r.errors;if(l!=null){let d=i.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id])!==void 0);X(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:h}=r,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||m){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let h,m=!1,p=null,w=null;r&&(h=l&&u.route.id?l[u.route.id]:void 0,p=u.route.errorElement||F0,o&&(c<0&&f===0?(zf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):c===f&&(m=!0,w=u.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),x=()=>{let y;return h?y=p:m?y=w:u.route.Component?y=v.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,v.createElement(B0,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?v.createElement(z0,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):x()},null)}function _c(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V0(e){let t=v.useContext(Ss);return X(t,_c(e)),t}function W0(e){let t=v.useContext(_i);return X(t,_c(e)),t}function G0(e){let t=v.useContext(Ke);return X(t,_c(e)),t}function kc(e){let t=G0(e),r=t.matches[t.matches.length-1];return X(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function q0(){return kc("useRouteId")}function K0(){var n;let e=v.useContext(Nc),t=W0("useRouteError"),r=kc("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Y0(){let{router:e}=V0("useNavigate"),t=kc("useNavigate"),r=v.useRef(!1);return Uf(()=>{r.current=!0}),v.useCallback(async(a,i={})=>{it(r.current,Mf),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Kd={};function zf(e,t,r){!t&&!Kd[e]&&(Kd[e]=!0,it(!1,r))}v.memo(Q0);function Q0({routes:e,future:t,state:r,unstable_onError:n}){return Ff(e,void 0,r,n,t)}function co({to:e,replace:t,state:r,relative:n}){X(Es(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(ot);it(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(Ke),{pathname:l}=xt(),o=yt(),c=jc(e,wc(i),l,n==="path"),d=JSON.stringify(c);return v.useEffect(()=>{o(JSON.parse(d),{replace:t,state:r,relative:n})},[o,d,n,t,r]),null}function J0(e){return D0(e.context)}function V(e){X(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){X(!Es(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),o=v.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=ks(r));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:h="default"}=r,m=v.useMemo(()=>{let p=Rt(c,l);return p==null?null:{location:{pathname:p,search:d,hash:u,state:f,key:h},navigationType:n}},[l,c,d,u,f,h,n]);return it(m!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(ot.Provider,{value:o},v.createElement(Rn.Provider,{children:t,value:m}))}function Z0({children:e,location:t}){return M0(uo(e),t)}function uo(e,t=[]){let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let i=[...t,a];if(n.type===v.Fragment){r.push.apply(r,uo(n.props.children,i));return}X(n.type===V,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),X(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=uo(n.props.children,i)),r.push(l)}),r}var Na="get",_a="application/x-www-form-urlencoded";function ki(e){return e!=null&&typeof e.tagName=="string"}function ex(e){return ki(e)&&e.tagName.toLowerCase()==="button"}function tx(e){return ki(e)&&e.tagName.toLowerCase()==="form"}function rx(e){return ki(e)&&e.tagName.toLowerCase()==="input"}function sx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nx(e,t){return e.button===0&&(!t||t==="_self")&&!sx(e)}var na=null;function ax(){if(na===null)try{new FormData(document.createElement("form"),0),na=!1}catch{na=!0}return na}var ix=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function al(e){return e!=null&&!ix.has(e)?(it(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_a}"`),null):e}function lx(e,t){let r,n,a,i,l;if(tx(e)){let o=e.getAttribute("action");n=o?Rt(o,t):null,r=e.getAttribute("method")||Na,a=al(e.getAttribute("enctype"))||_a,i=new FormData(e)}else if(ex(e)||rx(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?Rt(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Na,a=al(e.getAttribute("formenctype"))||al(o.getAttribute("enctype"))||_a,i=new FormData(o,e),!ax()){let{name:d,type:u,value:f}=e;if(u==="image"){let h=d?`${d}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else d&&i.append(d,f)}}else{if(ki(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Na,n=null,a=_a,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ox(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Rt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function cx(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ux(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await cx(i,r);return l.links?l.links():[]}return[]}));return px(n.flat(1).filter(dx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Yd(e,t,r,n,a,i){let l=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,o=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{var f;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function hx(e,t,{includeHydrateFallback:r}={}){return fx(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function fx(e){return[...new Set(e)]}function mx(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function px(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(mx(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function Bf(){let e=v.useContext(Ss);return Sc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gx(){let e=v.useContext(_i);return Sc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ec=v.createContext(void 0);Ec.displayName="FrameworkContext";function Hf(){let e=v.useContext(Ec);return Sc(e,"You must render this element inside a <HydratedRouter> element"),e}function xx(e,t){let r=v.useContext(Ec),[n,a]=v.useState(!1),[i,l]=v.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=x=>{x.forEach(y=>{l(y.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let m=()=>{a(!0)},p=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Fs(o,m),onBlur:Fs(c,p),onMouseEnter:Fs(d,m),onMouseLeave:Fs(u,p),onTouchStart:Fs(f,m)}]:[!1,h,{}]}function Fs(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function yx({page:e,...t}){let{router:r}=Bf(),n=v.useMemo(()=>Rf(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(bx,{page:e,matches:n,...t}):null}function vx(e){let{manifest:t,routeModules:r}=Hf(),[n,a]=v.useState([]);return v.useEffect(()=>{let i=!1;return ux(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function bx({page:e,matches:t,...r}){let n=xt(),{manifest:a,routeModules:i}=Hf(),{basename:l}=Bf(),{loaderData:o,matches:c}=gx(),d=v.useMemo(()=>Yd(e,t,c,a,n,"data"),[e,t,c,a,n]),u=v.useMemo(()=>Yd(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,w=!1;if(t.forEach(x=>{var g;let y=a.routes[x.route.id];!y||!y.hasLoader||(!d.some(j=>j.route.id===x.route.id)&&x.route.id in o&&((g=i[x.route.id])!=null&&g.shouldRevalidate)||y.hasClientLoader?w=!0:p.add(x.route.id))}),p.size===0)return[];let b=ox(e,l,"data");return w&&p.size>0&&b.searchParams.set("_routes",t.filter(x=>p.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[l,o,n,a,d,t,e,i]),h=v.useMemo(()=>hx(u,a),[u,a]),m=vx(u);return v.createElement(v.Fragment,null,f.map(p=>v.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>v.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:w})=>v.createElement("link",{key:p,nonce:r.nonce,...w})))}function wx(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Vf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vf&&(window.__reactRouterVersion="7.9.1")}catch{}function jx({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=i0({window:r,v5Compat:!0}));let a=n.current,[i,l]=v.useState({action:a.action,location:a.location}),o=v.useCallback(c=>{v.startTransition(()=>l(c))},[l]);return v.useLayoutEffect(()=>a.listen(o),[a,o]),v.createElement(X0,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var Wf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f,...h},m){let{basename:p}=v.useContext(ot),w=typeof d=="string"&&Wf.test(d),b,x=!1;if(typeof d=="string"&&w&&(b=d,Vf))try{let I=new URL(window.location.href),O=d.startsWith("//")?new URL(I.protocol+d):new URL(d),Q=Rt(O.pathname,p);O.origin===I.origin&&Q!=null?d=Q+O.search+O.hash:x=!0}catch{it(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=R0(d,{relative:a}),[g,j,k]=xx(n,h),N=Sx(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:f});function _(I){t&&t(I),I.defaultPrevented||N(I)}let T=v.createElement("a",{...h,...k,href:b||y,onClick:x||i?t:_,ref:wx(m,j),target:c,"data-discover":!w&&r==="render"?"true":void 0});return g&&!w?v.createElement(v.Fragment,null,T,v.createElement(yx,{page:y})):T});B.displayName="Link";var Nx=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:o,children:c,...d},u){let f=On(l,{relative:d.relative}),h=xt(),m=v.useContext(_i),{navigator:p,basename:w}=v.useContext(ot),b=m!=null&&Lx(f)&&o===!0,x=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,y=h.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(y=y.toLowerCase(),g=g?g.toLowerCase():null,x=x.toLowerCase()),g&&w&&(g=Rt(g,w)||g);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let k=y===x||!a&&y.startsWith(x)&&y.charAt(j)==="/",N=g!=null&&(g===x||!a&&g.startsWith(x)&&g.charAt(x.length)==="/"),_={isActive:k,isPending:N,isTransitioning:b},T=k?t:void 0,I;typeof n=="function"?I=n(_):I=[n,k?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(_):i;return v.createElement(B,{...d,"aria-current":T,className:I,ref:u,style:O,to:l,viewTransition:o},typeof c=="function"?c(_):c)});Nx.displayName="NavLink";var _x=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=Na,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...h},m)=>{let p=Tx(),w=Px(o,{relative:d}),b=l.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&Wf.test(o),y=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let j=g.nativeEvent.submitter,k=(j==null?void 0:j.getAttribute("formmethod"))||l;p(j||g.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return v.createElement("form",{ref:m,method:b,action:w,onSubmit:n?c:y,...h,"data-discover":!x&&e==="render"?"true":void 0})});_x.displayName="Form";function kx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gf(e){let t=v.useContext(Ss);return X(t,kx(e)),t}function Sx(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=yt(),c=xt(),d=On(e,{relative:i});return v.useCallback(u=>{if(nx(u,t)){u.preventDefault();let f=r!==void 0?r:kn(c)===kn(d);o(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[c,o,d,r,n,t,e,a,i,l])}var Ex=0,Cx=()=>`__${String(++Ex)}__`;function Tx(){let{router:e}=Gf("useSubmit"),{basename:t}=v.useContext(ot),r=q0();return v.useCallback(async(n,a={})=>{let{action:i,method:l,encType:o,formData:c,body:d}=lx(n,t);if(a.navigate===!1){let u=a.fetcherKey||Cx();await e.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function Px(e,{relative:t}={}){let{basename:r}=v.useContext(ot),n=v.useContext(Ke);X(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...On(e||".",{relative:t})},l=xt();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Et([r,i.pathname])),kn(i)}function Lx(e,{relative:t}={}){let r=v.useContext($f);X(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Gf("useViewTransitionState"),a=On(e,{relative:t});if(!r.isTransitioning)return!1;let i=Rt(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Rt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Za(a.pathname,l)!=null||Za(a.pathname,i)!=null}const Ax=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>At(async()=>{const{default:n}=await Promise.resolve().then(()=>Cs);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Cc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Rx extends Cc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qd extends Cc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jd extends Cc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ho;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ho||(ho={}));var Ox=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class Ix{constructor(t,{headers:r={},customFetch:n,region:a=ho.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Ax(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ox(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(w=>{throw new Rx(w)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Qd(f);if(!f.ok)throw new Jd(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Jd||a instanceof Qd?a.context:void 0}}})}}var Te={},Tc={},Si={},In={},Ei={},Ci={},Dx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ys=Dx();const $x=ys.fetch,qf=ys.fetch.bind(ys),Kf=ys.Headers,Mx=ys.Request,Ux=ys.Response,Cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kf,Request:Mx,Response:Ux,default:qf,fetch:$x},Symbol.toStringTag,{value:"Module"})),Fx=Lm(Cs);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let zx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ti.default=zx;var Yf=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ci,"__esModule",{value:!0});const Bx=Yf(Fx),Hx=Yf(Ti);let Vx=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Bx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c,d;let u=null,f=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?f=y:f=JSON.parse(y))}const b=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(f=[],u=null,m=200,p="OK")}catch{i.status===404&&b===""?(m=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new Hx.default(u)}return{error:u,data:f,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Ci.default=Vx;var Wx=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const Gx=Wx(Ci);let qx=class extends Gx.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ei.default=qx;var Kx=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});const Yx=Kx(Ei);let Qx=class extends Yx.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};In.default=Qx;var Jx=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});const zs=Jx(In);let Xx=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new zs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new zs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new zs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new zs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new zs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Si.default=Xx;var Qf=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tc,"__esModule",{value:!0});const Zx=Qf(Si),ey=Qf(In);let ty=class Jf{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Zx.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Jf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var l;let o;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(o="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new ey.default({method:o,url:c,headers:u,schema:this.schemaName,body:d,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Tc.default=ty;var Ts=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const Xf=Ts(Tc);Te.PostgrestClient=Xf.default;const Zf=Ts(Si);Te.PostgrestQueryBuilder=Zf.default;const em=Ts(In);Te.PostgrestFilterBuilder=em.default;const tm=Ts(Ei);Te.PostgrestTransformBuilder=tm.default;const rm=Ts(Ci);Te.PostgrestBuilder=rm.default;const sm=Ts(Ti);Te.PostgrestError=sm.default;var ry=Te.default={PostgrestClient:Xf.default,PostgrestQueryBuilder:Zf.default,PostgrestFilterBuilder:em.default,PostgrestTransformBuilder:tm.default,PostgrestBuilder:rm.default,PostgrestError:sm.default};const{PostgrestClient:sy,PostgrestQueryBuilder:aw,PostgrestFilterBuilder:iw,PostgrestTransformBuilder:lw,PostgrestBuilder:ow,PostgrestError:cw}=ry;class ny{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ay="2.15.5",iy=`realtime-js/${ay}`,ly="1.0.0",fo=1e4,oy=1e3,cy=100;var rn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rn||(rn={}));var oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(oe||(oe={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var mo;(function(e){e.websocket="websocket"})(mo||(mo={}));var jr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jr||(jr={}));class dy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+a));l=l+a;const c=n.decode(t.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class nm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(G||(G={}));const Xd=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=uy(l,e,t,a),i),{})},uy=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!n.includes(i)?am(i,l):po(l)},am=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return py(t,r)}switch(e){case G.bool:return hy(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return fy(t);case G.json:case G.jsonb:return my(t);case G.timestamp:return gy(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return po(t);default:return po(t)}},po=e=>e,hy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},my=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},py=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>am(t,o))}return e},gy=e=>typeof e=="string"?e.replace(" ","T"):e,im=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class il{constructor(t,r,n={},a=fo){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Zd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Zd||(Zd={}));class sn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sn.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=sn.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=sn.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const f=i[d];if(f){const h=u.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),p=u.filter(b=>m.indexOf(b.presence_ref)<0),w=f.filter(b=>h.indexOf(b.presence_ref)<0);p.length>0&&(o[d]=p),w.length>0&&(c[d]=w)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const f=t[o].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=d,a(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(eu||(eu={}));var nn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nn||(nn={}));var jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jt||(jt={}));class Pc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new il(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new sn(this),this.broadcastEndpointURL=im(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[nn.PRESENCE]&&this.bindings[nn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(jt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(jt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(jt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,x=[];for(let y=0;y<b;y++){const g=w[y],{filter:{event:j,schema:k,table:N,filter:_}}=g,T=m&&m[y];if(T&&T.event===j&&T.schema===k&&T.table===N&&T.filter===_)x.push(Object.assign(Object.assign({},g),{id:T.id}));else{this.unsubscribe(),this.state=oe.errored,t==null||t(jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(jt.SUBSCRIBED);return}}).receive("error",m=>{this.state=oe.errored,t==null||t(jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===oe.joined&&t===nn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new il(this,Ze.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new il(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Ze;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,w,b;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(w=m.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===l}).map(m=>m.callback(h,n)):(i=this.bindings[l])===null||i===void 0||i.filter(m=>{var p,w,b,x,y,g;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const j=m.id,k=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((w=r.ids)===null||w===void 0?void 0:w.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:w,table:b,commit_timestamp:x,type:y,errors:g}=p;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:x,eventType:y,new:{},old:{},errors:g}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Pc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xd(t.columns,t.old_record)),r}}const ll=()=>{},aa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xy=[1e3,2e3,5e3,1e4],yy=1e4,vy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class by{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fo,this.transport=null,this.heartbeatIntervalMs=aa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ll,this.ref=0,this.reconnectTimer=null,this.logger=ll,this.conn=null,this.sendBuffer=[],this.serializer=new dy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>At(async()=>{const{default:o}=await Promise.resolve().then(()=>Cs);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${mo.websocket}`,this.httpEndpoint=im(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ny.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ly}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rn.connecting:return jr.Connecting;case rn.open:return jr.Open;case rn.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Pc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(oy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},aa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:l}=r,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([vy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:iy};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new nm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},aa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,l,o,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:fo,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:aa.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:ll,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>xy[f-1]||yy,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,h)=>h(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Lc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wy extends Lc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class go extends Lc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var jy=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const lm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>At(async()=>{const{default:n}=await Promise.resolve().then(()=>Cs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ny=()=>jy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield At(()=>Promise.resolve().then(()=>Cs),void 0)).Response:Response}),xo=e=>{if(Array.isArray(e))return e.map(r=>xo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=xo(n)}),t},_y=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Dr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const ol=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ky=(e,t,r)=>Dr(void 0,void 0,void 0,function*(){const n=yield Ny();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,l=(a==null?void 0:a.statusCode)||i+"";t(new wy(ol(a),i,l))}).catch(a=>{t(new go(ol(a),a))}):t(new go(ol(e),e))}),Sy=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(_y(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Dn(e,t,r,n,a,i){return Dr(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,Sy(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>ky(c,o,n))})})}function ei(e,t,r,n){return Dr(this,void 0,void 0,function*(){return Dn(e,"GET",t,r,n)})}function ht(e,t,r,n,a){return Dr(this,void 0,void 0,function*(){return Dn(e,"POST",t,n,a,r)})}function yo(e,t,r,n,a){return Dr(this,void 0,void 0,function*(){return Dn(e,"PUT",t,n,a,r)})}function Ey(e,t,r,n){return Dr(this,void 0,void 0,function*(){return Dn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function om(e,t,r,n,a){return Dr(this,void 0,void 0,function*(){return Dn(e,"DELETE",t,n,a,r)})}var Ne=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const Cy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ty{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=lm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ne(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},tu),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?yo:ht)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:tu.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield yo(this.fetch,o.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Lc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ht(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}})}download(t,r){return Ne(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield ei(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}})}info(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ei(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xo(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}exists(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ey(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n)&&n instanceof go){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Cy),r),{prefix:t||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Py="2.12.1",Ly={"X-Client-Info":`storage-js/${Py}`};var Fr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class Ay{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Ly),r),this.fetch=lm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fr(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return Fr(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Fr(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Fr(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fr(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fr(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}}class Ry extends Ay{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Ty(this.url,this.headers,t,this.fetch)}}const Oy="2.57.4";let Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";const Iy={"X-Client-Info":`supabase-js-${Gs}/${Oy}`},Dy={headers:Iy},$y={schema:"public"},My={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Uy={};var Fy=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};const zy=e=>{let t;return e?t=e:typeof fetch>"u"?t=qf:t=fetch,(...r)=>t(...r)},By=()=>typeof Headers>"u"?Kf:Headers,Hy=(e,t,r)=>{const n=zy(r),a=By();return(i,l)=>Fy(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var Vy=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};function Wy(e){return e.endsWith("/")?e:e+"/"}function Gy(e,t){var r,n;const{db:a,auth:i,realtime:l,global:o}=e,{db:c,auth:d,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Vy(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function qy(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Wy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const cm="2.71.1",Wr=30*1e3,vo=3,cl=vo*Wr,Ky="http://localhost:9999",Yy="supabase.auth.token",Qy={"X-Client-Info":`gotrue-js/${cm}`},bo="X-Supabase-Api-Version",dm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xy=10*60*1e3;class Ac extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Zy extends Ac{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ev(e){return M(e)&&e.name==="AuthApiError"}class um extends Ac{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ur extends Ac{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ut extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tv(e){return M(e)&&e.name==="AuthSessionMissingError"}class ia extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class la extends ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class oa extends ur{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rv(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class ru extends ur{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wo extends ur{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dl(e){return M(e)&&e.name==="AuthRetryableFetchError"}class su extends ur{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jo extends ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nu=` 	
\r=`.split(""),sv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nu.length;t+=1)e[nu[t].charCodeAt(0)]=-2;for(let t=0;t<ti.length;t+=1)e[ti[t].charCodeAt(0)]=t;return e})();function au(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ti[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ti[n]),t.queuedBits-=6}}function hm(e,t,r){const n=sv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function iu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{iv(l,n,r)};for(let l=0;l<e.length;l+=1)hm(e.charCodeAt(l),a,i);return t.join("")}function nv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function av(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}nv(n,t)}}function iv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function lv(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)hm(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ov(e){const t=[];return av(e,r=>t.push(r)),new Uint8Array(t)}function cv(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>au(a,r,n)),au(null,r,n),t.join("")}function dv(e){return Math.round(Date.now()/1e3)+e}function uv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",xr={tested:!1,writable:!1},fm=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xr.tested)return xr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xr.tested=!0,xr.writable=!0}catch{xr.tested=!0,xr.writable=!1}return xr.writable};function hv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const mm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>At(async()=>{const{default:n}=await Promise.resolve().then(()=>Cs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mt=async(e,t)=>{await e.removeItem(t)};class Pi{constructor(){this.promise=new Pi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pi.promiseConstructor=Promise;function ul(e){const t=e.split(".");if(t.length!==3)throw new jo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Jy.test(t[n]))throw new jo("JWT not in base64url format");return{header:JSON.parse(iu(t[0])),payload:JSON.parse(iu(t[1])),signature:lv(t[2]),raw:{header:t[0],payload:t[1]}}}async function mv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pv(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function gv(e){return("0"+e.toString(16)).substr(-2)}function xv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,gv).join("")}async function yv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function vv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zr(e,t,r=!1){const n=xv();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Gr(e,`${t}-code-verifier`,a);const i=await vv(n);return[i,n===i?"plain":"s256"]}const bv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wv(e){const t=e.headers.get(bo);if(!t||!t.match(bv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Nv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _v=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Br(e){if(!_v.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lu(e){return JSON.parse(JSON.stringify(e))}var kv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const wr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sv=[502,503,504];async function ou(e){var t;if(!fv(e))throw new wo(wr(e),0);if(Sv.includes(e.status))throw new wo(wr(e),e.status);let r;try{r=await e.json()}catch(i){throw new um(wr(i),i)}let n;const a=wv(e);if(a&&a.getTime()>=dm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new su(wr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new su(wr(r),e.status,r.weak_password.reasons);throw new Zy(wr(r),e.status||500,n)}const Ev=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function U(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[bo]||(i[bo]=dm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Cv(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Cv(e,t,r,n,a,i){const l=Ev(t,n,a,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new wo(wr(c),0)}if(o.ok||await ou(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await ou(c)}}function bt(e){var t;let r=null;Av(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=dv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function cu(e){const t=bt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Tv(e){return{data:e,error:null}}function Pv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=kv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function Lv(e){return e}function Av(e){return e.access_token&&e.refresh_token&&e.expires_in}const fl=["global","local","others"];var Rv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Ov{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=mm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=fl[0]){if(fl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fl.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Rv(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Pv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Lv});if(u.error)throw u.error;const f=await u.json(),h=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const w=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);d[`${b}Page`]=w}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(M(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Br(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Br(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Br(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Br(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Br(t.userId),Br(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}function du(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Iv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hr={debug:!!(globalThis&&fm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Dv extends pm{}async function $v(e,t,r){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Dv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Iv();const Mv={url:Ky,storageKey:Yy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uu(e,t,r){return await r()}const Vr={};class Sn{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sn.nextInstanceID,Sn.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Mv),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ov({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=mm(a.fetch),this.lock=a.lock||uu,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$v:this.lock=uu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:fm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=du(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=du(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Vr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=hv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new um("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:bt}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await zr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:bt})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:bt})}else throw new la("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:cu})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:cu})}else throw new la("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ia}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,l,o,c,d,u,f,h,m;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:b,wallet:x,statement:y,options:g}=t;let j;if(Qe())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const k=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),y?{statement:y}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)p=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),w=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((d=g==null?void 0:g.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(u=g==null?void 0:g.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:b,error:x}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:cv(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:bt});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ia}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(M(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await yr(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:bt});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ia}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bt}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ia}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await zr(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new la("You must provide either an email or phone number.")}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:bt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await zr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Tv})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ut;const{error:a}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new la("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<cl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await yr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=hl()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wt}):await this._useSession(async r=>{var n,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Wt})})}catch(r){if(M(r))return tv(r)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ut;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await zr(this.storage,this.storageKey));const{data:d,error:u}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Wt});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=ul(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ut;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new oa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new oa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ru("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ru("No code detected.");const{data:y,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!l||!d)throw new oa("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;c&&(h=parseInt(c));const m=h-u;m*1e3<=Wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:l,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(ev(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=uv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await zr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pv(async a=>(a>0&&await mv(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bt})),(a,i)=>{const l=200*Math.pow(2,a);return i&&dl(i)&&Date.now()+l-n<Wr})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await yr(this.storage,this.storageKey);if(a&&this.userStorage){let l=await yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Gr(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:hl()}else if(a&&!a.user&&!a.user){const l=await yr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Mt(this.storage,this.storageKey+"-user"),await Gr(this.storage,this.storageKey,a)):a.user=hl()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<cl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${cl}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),dl(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(a.access_token);!o&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Pi;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Ut;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),M(i)){const l={session:null,error:i};return dl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gr(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=lu(a);await Gr(this.storage,this.storageKey,i)}else{const a=lu(r);await Gr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wr}ms, refresh threshold is ${vo} ticks`),a<=vo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await zr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ul(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Xy>a)return n;const{data:i,error:l}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=ul(n);r!=null&&r.allowExpired||jv(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:l},error:null}}const u=Nv(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,l,ov(`${o}.${c}`)))throw new jo("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}Sn.nextInstanceID=0;const Uv=Sn;class Fv extends Uv{constructor(t){super(t)}}var zv=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(f){l(f)}}function c(u){try{d(n.throw(u))}catch(f){l(f)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(e,t||[])).next())})};class Bv{constructor(t,r,n){var a,i,l;this.supabaseUrl=t,this.supabaseKey=r;const o=qy(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:$y,realtime:Uy,auth:Object.assign(Object.assign({},My),{storageKey:c}),global:Dy},u=Gy(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=Hy(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new sy(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Ry(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ix(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return zv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:l,flowType:o,lock:c,debug:d},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new by(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hv=(e,t,r)=>new Bv(e,t,r);function Vv(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Vv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const an="https://opoystfrfspiynvwlfth.supabase.co",ri="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wb3lzdGZyZnNwaXludndsZnRoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2NjIzMjMsImV4cCI6MjA3NDIzODMyM30.7DZui6nc31XGmW62SMJHV93X3S-FgiiYpkKxQRD75_M";console.log("🔧 Supabase Configuration Check:");console.log("  URL:",an);console.log("  Key:","Set (length: "+ri.length+")");const Rc=!!(an.trim()!==""&&ri.trim()!==""&&an!=="your_supabase_project_url"&&ri!=="your_supabase_anon_key"&&an.includes("supabase.co"));console.log("🔍 Configuration status:",Rc?"CONFIGURED":"NOT CONFIGURED");const L=Rc?Hv(an,ri,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}):null,ie=Rc;console.log(L?"✅ Supabase client created successfully":"❌ Supabase client not created - using mock auth");/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>v.createElement("svg",{ref:u,...Wv,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Gv(e)}`,o].join(" "),...d},[...t.map(([f,h])=>v.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=R("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=R("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=R("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=R("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=R("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=R("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=R("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=R("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=R("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=R("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=R("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=R("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=R("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=R("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=R("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=R("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=R("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=R("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=R("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=R("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=R("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=R("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=R("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=R("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=R("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=R("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=R("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=R("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=R("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=R("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=R("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=R("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=R("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=R("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=R("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=R("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=R("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=R("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=R("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=R("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=R("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=R("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=R("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=R("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=R("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=R("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class ab extends De.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("🚨 Error caught by boundary:",t),console.error("📍 Error info:",r),console.error("Production error:",{error:t,errorInfo:r}),this.setState({errorInfo:r})}render(){return this.state.hasError?s.jsx(ib,{error:this.state.error}):this.props.children}}const ib=({error:e})=>{const t=yt(),r=()=>{window.location.reload()},n=()=>{t("/login")},a=()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/login"};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(ar,{className:"w-8 h-8 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Algo salió mal"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Ha ocurrido un error inesperado. Esto puede deberse a:"}),s.jsx("div",{className:"text-left bg-gray-50 rounded-lg p-4 mb-6",children:s.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[s.jsx("li",{children:"• Base de datos no configurada correctamente"}),s.jsx("li",{children:"• Migraciones SQL no ejecutadas"}),s.jsx("li",{children:"• Problema de conectividad"}),s.jsx("li",{children:"• Datos corruptos en el navegador"})]})}),e&&s.jsxs("details",{className:"text-left bg-red-50 rounded-lg p-4 mb-6",children:[s.jsx("summary",{className:"cursor-pointer font-medium text-red-900 mb-2",children:"Ver detalles técnicos"}),s.jsxs("pre",{className:"text-xs text-red-700 overflow-auto",children:[e.message,e.stack&&`

${e.stack}`]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:r,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(tb,{className:"w-5 h-5"}),"Recargar Página"]}),s.jsxs("button",{onClick:n,className:"w-full border border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(bm,{className:"w-5 h-5"}),"Ir al Login"]}),s.jsx("button",{onClick:a,className:"w-full text-red-600 hover:text-red-800 px-6 py-2 rounded-lg font-medium transition-colors text-sm",children:"Limpiar datos y reiniciar"})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Si el problema persiste, contacta al administrador del sistema"})})]})})},lb=()=>{const[e,t]=De.useState(null),r=async(i,l)=>{try{await navigator.clipboard.writeText(i),t(l),setTimeout(()=>t(null),2e3)}catch(o){console.error("Error copying to clipboard:",o)}},n=`VITE_SUPABASE_URL=https://tu-proyecto.supabase.co
VITE_SUPABASE_ANON_KEY=tu_clave_anon_aqui`,a=`/*
  # Configuración inicial de autenticación y usuarios

  1. Nuevas Tablas
    - Configuración de triggers para usuarios automáticos
    - Políticas RLS simples sin recursión

  2. Seguridad
    - Enable RLS en todas las tablas
    - Políticas para registro y gestión de usuarios
*/

-- Primero, eliminar todas las políticas existentes que pueden causar recursión
DROP POLICY IF EXISTS "Users can read own data" ON users;
DROP POLICY IF EXISTS "Users can read all users" ON users;
DROP POLICY IF EXISTS "Users can read own profile during registration" ON users;
DROP POLICY IF EXISTS "Users can update own profile" ON users;
DROP POLICY IF EXISTS "Allow user registration" ON users;
DROP POLICY IF EXISTS "Allow admin signup" ON users;
DROP POLICY IF EXISTS "Admins can manage users" ON users;

-- Función para manejar nuevos usuarios
CREATE OR REPLACE FUNCTION handle_new_user()
RETURNS TRIGGER AS $$
DECLARE
  user_count INTEGER;
BEGIN
  -- Contar usuarios existentes
  SELECT COUNT(*) INTO user_count FROM users;
  
  -- Insertar nuevo usuario en la tabla users
  INSERT INTO users (
    id, 
    email, 
    name, 
    role, 
    status, 
    created_at, 
    updated_at
  ) VALUES (
    NEW.id,
    NEW.email,
    COALESCE(NEW.raw_user_meta_data->>'name', NEW.raw_user_meta_data->>'full_name', split_part(NEW.email, '@', 1)),
    CASE 
      WHEN user_count = 0 THEN 'ADMIN'::user_role 
      WHEN NEW.email = 'ezequiel.canton@stravix.io' THEN 'ADMIN'::user_role
      ELSE 'SALES'::user_role 
    END,
    CASE 
      WHEN user_count = 0 THEN 'ACTIVE'::user_status
      WHEN NEW.email = 'ezequiel.canton@stravix.io' THEN 'ACTIVE'::user_status
      ELSE 'PENDING'::user_status 
    END,
    now(), 
    now()
  );
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Trigger para crear usuario automáticamente
DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;
CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION handle_new_user();

-- Función para actualizar last_login
CREATE OR REPLACE FUNCTION update_last_login()
RETURNS TRIGGER AS $$
BEGIN
  UPDATE users 
  SET last_login_at = now()
  WHERE id = NEW.id;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Trigger para actualizar last_login
DROP TRIGGER IF EXISTS on_auth_user_login ON auth.users;
CREATE TRIGGER on_auth_user_login
  AFTER UPDATE OF last_sign_in_at ON auth.users
  FOR EACH ROW EXECUTE FUNCTION update_last_login();

-- Crear políticas RLS simples sin recursión
CREATE POLICY "Users can read own profile"
  ON users
  FOR SELECT
  TO authenticated
  USING (auth.uid() = id);

CREATE POLICY "Users can update own profile"
  ON users
  FOR UPDATE
  TO authenticated
  USING (auth.uid() = id)
  WITH CHECK (auth.uid() = id);

CREATE POLICY "Allow user registration"
  ON users
  FOR INSERT
  TO authenticated
  WITH CHECK (auth.uid() = id);

-- Política especial para admin (sin recursión)
CREATE POLICY "Admin can manage all users"
  ON users
  FOR ALL
  TO authenticated
  USING (
    auth.jwt() ->> 'email' = 'ezequiel.canton@stravix.io'
    OR 
    (auth.uid() = id)
  );`;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-4xl w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl mb-6 shadow-2xl",children:s.jsx(si,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Configurar Supabase"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Configura tu base de datos para comenzar con Stravix CRM"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(gm,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Configuración Requerida"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Crear Proyecto en Supabase"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Crea un nuevo proyecto en Supabase (es completamente gratis para empezar)."}),s.jsxs("a",{href:"https://app.supabase.com/projects",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors font-medium shadow-lg",children:[s.jsx(ws,{className:"w-5 h-5"}),"Crear Proyecto en Supabase"]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Obtener Credenciales"})]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["En tu proyecto de Supabase, ve a ",s.jsx("strong",{children:"Settings → API"})," y copia:"]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ge,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Project URL"})," (URL del proyecto)"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ge,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Project API Key"})," (anon, public)"]})]})]})}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:s.jsxs("p",{className:"text-sm text-orange-800",children:[s.jsx("strong",{children:"⚠️ Importante:"})," También ve a ",s.jsx("strong",{children:"Authentication → Settings"})," y",s.jsx("strong",{children:" DESHABILITA"}),' "Enable email confirmations" para testing.']})})]}),s.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configurar Variables de Entorno"})]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:['Haz clic en "Connect to Supabase" en la parte superior derecha, o crea un archivo ',s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:".env"}),":"]}),s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg font-mono text-sm relative text-green-400",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:"# Reemplaza con tus credenciales reales:"}),s.jsx("div",{children:"VITE_SUPABASE_URL=https://tu-proyecto.supabase.co"}),s.jsx("div",{children:"VITE_SUPABASE_ANON_KEY=tu_clave_anon_aqui"}),s.jsx("button",{onClick:()=>r(n,"env"),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:e==="env"?s.jsx(ge,{className:"w-4 h-4 text-green-400"}):s.jsx(_o,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold",children:"4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ejecutar Migración SQL"})]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["En el ",s.jsx("strong",{children:"SQL Editor"})," de Supabase, ejecuta esta migración para configurar la autenticación:"]}),s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg font-mono text-xs max-h-60 overflow-y-auto relative text-green-400",children:[s.jsx("button",{onClick:()=>r(a,"migration"),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors z-10",children:e==="migration"?s.jsx(ge,{className:"w-4 h-4 text-green-400"}):s.jsx(_o,{className:"w-4 h-4"})}),s.jsx("pre",{className:"whitespace-pre-wrap",children:a})]})]}),s.jsxs("div",{className:"border border-green-200 rounded-xl p-6 bg-green-50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center font-bold",children:"5"}),s.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"¡Listo para Usar!"})]}),s.jsx("p",{className:"text-green-700 mb-4",children:"Después de configurar todo, la aplicación se recargará automáticamente y podrás:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:"Registrarte (primer usuario = admin)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:"Gestionar leads y oportunidades"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:"Aprobar nuevos usuarios"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-green-700",children:"Acceder a todas las funciones"})]})]})]})]}),s.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"¿Necesitas ayuda?"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Revisa la documentación de Supabase para más detalles sobre la configuración."})]}),s.jsxs("a",{href:"https://supabase.com/docs/guides/getting-started",target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 hover:bg-white/30 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2",children:[s.jsx(ws,{className:"w-5 h-5"}),"Documentación"]})]})})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Una vez configurado, la aplicación se recargará automáticamente"})})]})})},Nm=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!0);return v.useEffect(()=>{let d=!0;const u=async m=>{var b,x,y,g,j,k,N,_;console.log("🔍 Loading user profile for:",m);const{data:{user:p}}=await L.auth.getUser();if(!p||!d){t(null),n(!1);return}const w={id:p.id,email:p.email||"",name:((b=p.user_metadata)==null?void 0:b.name)||((x=p.user_metadata)==null?void 0:x.full_name)||((y=p.email)==null?void 0:y.split("@")[0])||"Usuario",role:p.email==="ezequiel.canton@stravix.io"?"ADMIN":"SALES",status:"ACTIVE",created_at:p.created_at,updated_at:new Date().toISOString()};try{const{data:T,error:I}=await Promise.race([L.from("users").select("*").eq("id",m).maybeSingle(),new Promise((O,Q)=>setTimeout(()=>Q(new Error("Timeout")),3e3))]);if(!I&&T&&d){console.log("✅ Database profile loaded:",T),t(T),n(!1);return}}catch(T){console.warn("⚠️ Database profile load failed, using fallback:",T)}console.log("✅ Using fallback user:",w),d&&(t(w),n(!1));try{const T=L.from("users").select("*").eq("id",m).maybeSingle(),I=new Promise((re,$)=>{setTimeout(()=>$(new Error("Profile load timeout")),1e4)}),{data:O,error:Q}=await Promise.race([T,I]);if(Q&&console.warn("⚠️ Error loading user profile, using fallback:",Q),!O){console.log("⚠️ No user profile found, creating fallback...");const{data:{user:re}}=await L.auth.getUser();if(re&&d){const $={id:re.id,email:re.email||"",name:((g=re.user_metadata)==null?void 0:g.name)||((j=re.user_metadata)==null?void 0:j.full_name)||((k=re.email)==null?void 0:k.split("@")[0])||"Usuario",role:re.email==="ezequiel.canton@stravix.io"?"ADMIN":"SALES",status:"ACTIVE",created_at:re.created_at,updated_at:new Date().toISOString()};console.log("✅ Using error fallback user:",$),t($)}else t(null);d&&n(!1);return}if(console.log("✅ User profile loaded:",O),d&&(t(O||null),n(!1)),d&&O)try{await L.from("users").update({last_login_at:new Date().toISOString()}).eq("id",m)}catch(re){console.warn("⚠️ Could not update last login:",re)}}catch(T){if(console.warn("⚠️ Error in loadUserProfile, using auth fallback:",T),d){try{const{data:{user:I}}=await L.auth.getUser();if(I){const O={id:I.id,email:I.email||"",name:((N=I.user_metadata)==null?void 0:N.name)||((_=I.email)==null?void 0:_.split("@")[0])||"Usuario",role:I.email==="ezequiel.canton@stravix.io"?"ADMIN":"SALES",status:"ACTIVE",created_at:I.created_at,updated_at:new Date().toISOString()};console.log("✅ Using auth fallback user:",O),t(O)}else t(null)}catch(I){console.error("❌ Could not get auth user:",I),t(null)}n(!1)}}};(async()=>{if((!ie||!L)&&(console.log("⚠️ Supabase not configured, stopping auth check"),d)){n(!1);return}try{console.log("🔍 Getting initial session...");const{data:{session:m},error:p}=await L.auth.getSession();if(p){console.error("❌ Session error:",p),d&&n(!1);return}m!=null&&m.user&&d?(console.log("✅ Session found, loading user profile..."),await u(m.user.id)):(console.log("⚠️ No session found"),d&&(t(null),n(!1)))}catch(m){console.error("❌ Error in initializeAuth:",m),d&&(t(null),n(!1))}})();let h=null;if(ie&&L){const{data:m}=L.auth.onAuthStateChange(async(p,w)=>{var b;d&&(console.log("🔄 Auth state changed:",p,(b=w==null?void 0:w.user)==null?void 0:b.id),p==="SIGNED_IN"&&(w!=null&&w.user)?(console.log("✅ User signed in, loading profile..."),await u(w.user.id)):p==="SIGNED_OUT"?(console.log("👋 User signed out"),t(null),n(!1)):p==="TOKEN_REFRESHED"&&(w!=null&&w.user)?console.log("🔄 Token refreshed, skipping profile reload"):(t(null),n(!1)))});h=m.subscription}return()=>{d=!1,h&&h.unsubscribe()}},[]),{user:e,loading:r,signInWithEmail:async(d,u)=>{if(!L)throw new Error("Supabase not configured");console.log("🔐 Attempting sign in with email:",d);const{data:f,error:h}=await L.auth.signInWithPassword({email:d,password:u});if(h)throw h;return f},signUpWithEmail:async(d,u)=>{if(!L)throw new Error("Supabase not configured");const{data:f,error:h}=await L.auth.signUp({email:d,password:u});if(h)throw h;return f},signOut:async()=>{if(!L)throw new Error("Supabase not configured");const{error:d}=await L.auth.signOut();if(d)throw d},approveUser:async d=>{if(!L||!e||e.role!=="ADMIN")throw new Error("Unauthorized");const{data:u,error:f}=await L.from("users").update({status:"ACTIVE"}).eq("id",d).select().single();if(f)throw f;return u},updateUserRole:async(d,u)=>{if(!L||!e||e.role!=="ADMIN")throw new Error("Unauthorized");console.log("🔄 Updating user role:",d,u);const{data:f,error:h}=await L.from("users").update({role:u}).eq("id",d).select().single();if(h)throw h;return f}}},_m=v.createContext(void 0),fr=()=>{const e=v.useContext(_m);if(e===void 0)throw new Error("useAuth must be used within a SupabaseAuthProvider");return e},ob=({children:e})=>{const t=Nm(),r={user:t.user,loading:t.loading,signInWithGoogle:async()=>{throw new Error("Google auth not implemented - use email/password")},signOut:t.signOut};return s.jsx(_m.Provider,{value:r,children:e})},cb=Object.freeze(Object.defineProperty({__proto__:null,SupabaseAuthProvider:ob,useAuth:fr},Symbol.toStringTag,{value:"Module"})),db=()=>{const{user:e,signOut:t}=fr(),r=async()=>{try{await t()}catch(n){console.error("Error signing out:",n)}};return s.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1080&fit=crop)"},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/90 via-purple-900/85 to-indigo-900/90"})}),s.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(ir,{className:"w-10 h-10 text-orange-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Cuenta Pendiente"}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(nt,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-900",children:"Esperando Aprobación"})]}),s.jsx("p",{className:"text-sm text-orange-700",children:"Tu cuenta ha sido creada exitosamente, pero necesita ser aprobada por un administrador antes de que puedas acceder al sistema."})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(ge,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Cuenta creada exitosamente"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(ni,{className:"w-4 h-4 text-blue-600"}),s.jsxs("span",{children:["Email verificado: ",e==null?void 0:e.email]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx(ir,{className:"w-4 h-4 text-orange-600"}),s.jsx("span",{children:"Pendiente de aprobación administrativa"})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"¿Qué sigue?"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[s.jsx("li",{children:"• Un administrador revisará tu solicitud"}),s.jsx("li",{children:"• Recibirás un email cuando sea aprobada"}),s.jsx("li",{children:"• Podrás acceder con tus credenciales"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Si tienes preguntas, contacta al administrador del sistema."}),s.jsx("button",{onClick:r,className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Cerrar Sesión"})]})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("p",{className:"text-sm text-white/80",children:"© 2025 Stravix. Plataforma CRM empresarial."})})]})}),s.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-purple-500/20 rounded-full blur-2xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-blue-400/20 rounded-full blur-xl animate-pulse delay-500"})]})},km=v.createContext(void 0),Mn=()=>{const e=v.useContext(km);if(e===void 0)throw new Error("useMockAuth must be used within a MockAuthProvider");return e},ub=({children:e})=>{const[t,r]=v.useState(null),[n,a]=v.useState(!1),o={user:t,loading:n,signInWithGoogle:async()=>{a(!0),await new Promise(d=>setTimeout(d,1e3));const c={id:"1",email:"demo@stravix.io",name:"Usuario Demo",role:"ADMIN",status:"ACTIVE",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(c),a(!1)},signOut:async()=>{r(null)}};return s.jsx(km.Provider,{value:o,children:e})},hb=Object.freeze(Object.defineProperty({__proto__:null,MockAuthProvider:ub,useMockAuth:Mn},Symbol.toStringTag,{value:"Module"})),fb=({children:e})=>{const t=ie?fr():null,r=ie?null:Mn(),{user:n,loading:a}=ie?t:r,i=xt();return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verificando autenticación..."})]})}):n?ie&&n.status==="PENDING"?s.jsx(co,{to:"/pending",replace:!0}):n.status==="INACTIVE"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-red-600 text-2xl",children:"⚠️"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acceso Denegado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Tu cuenta ha sido desactivada. Contacta al administrador."}),s.jsx("button",{onClick:()=>{ie&&t?t.signOut():r&&r.signOut()},className:"bg-red-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Cerrar Sesión"})]})}):s.jsx(s.Fragment,{children:e}):s.jsx(co,{to:"/login",state:{from:i},replace:!0})},mb=({isCollapsed:e,onToggleCollapse:t})=>{var w;const r=ie?fr():null,n=ie?null:Mn(),{user:a,signOut:i}=ie?r:n,l=xt(),[o,c]=De.useState(!1),d=[{icon:bm,label:"Dashboard",path:"/app",roles:["ADMIN","MANAGER","SALES","READONLY"]},{icon:rr,label:"Empresas",path:"/app/companies",roles:["ADMIN","MANAGER","SALES"]},{icon:ii,label:"Leads",path:"/app/leads",roles:["ADMIN","MANAGER","SALES"]},{icon:tt,label:"Contactos",path:"/app/contacts",roles:["ADMIN","MANAGER","SALES"]},{icon:lr,label:"Oportunidades",path:"/app/deals",roles:["ADMIN","MANAGER","SALES"]},{icon:ka,label:"Proyectos",path:"/app/projects",roles:["ADMIN","MANAGER","SALES"]},{icon:Sa,label:"Productos",path:"/app/products",roles:["ADMIN","MANAGER"]},{icon:No,label:"Tareas",path:"/app/tasks",roles:["ADMIN","MANAGER","SALES"]},{icon:xm,label:"Analytics",path:"/app/analytics",roles:["ADMIN","MANAGER"]},{icon:nt,label:"Administración",path:"/app/admin",roles:["ADMIN"]},{icon:tt,label:"Usuarios",path:"/app/users",roles:["ADMIN"]}],u=[{icon:Ot,label:"Mi Perfil",path:"/app/profile",roles:["ADMIN","MANAGER","SALES","READONLY"]},{icon:ai,label:"Configuración",path:"/app/settings",roles:["ADMIN","MANAGER"]}],f=d.filter(b=>(a==null?void 0:a.role)&&b.roles.includes(a.role)),h=u.filter(b=>(a==null?void 0:a.role)&&b.roles.includes(a.role)),m=async()=>{try{await i()}catch(b){console.error("Error signing out:",b)}},p=()=>{e||c(!o)};return s.jsxs("div",{className:`bg-white border-r border-gray-200 h-screen flex flex-col transition-all duration-300 ${e?"w-16":"w-64"}`,children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!e&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-700 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-700 bg-clip-text text-transparent",children:"Stravix"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"CRM"})]})]}),s.jsx("button",{onClick:t,className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(ym,{className:`w-5 h-5 text-gray-500 transition-transform ${e?"rotate-180":""}`})})]})}),s.jsx("nav",{className:"flex-1 p-4",children:s.jsx("ul",{className:"space-y-2",children:f.map((b,x)=>{const y=l.pathname===b.path;return s.jsx("li",{children:s.jsxs(B,{to:b.path,className:`flex items-center gap-3 p-3 rounded-lg font-medium transition-colors ${y?"bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 border border-blue-200 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx(b.icon,{className:"w-5 h-5"}),!e&&s.jsx("span",{children:b.label})]})},x)})})}),s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[!e&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 mb-2 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center overflow-hidden",children:a!=null&&a.avatar?s.jsx("img",{src:a.avatar,alt:a.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white font-semibold text-sm",children:(w=a==null?void 0:a.name)==null?void 0:w.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a==null?void 0:a.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:a==null?void 0:a.email})]}),o?s.jsx(Qv,{className:"w-4 h-4 text-gray-400"}):s.jsx(Kv,{className:"w-4 h-4 text-gray-400"})]}),o&&s.jsx("div",{className:"mb-3 ml-2 space-y-1",children:h.map((b,x)=>{const y=l.pathname===b.path;return s.jsxs(B,{to:b.path,className:`flex items-center gap-3 p-2 rounded-lg text-sm font-medium transition-colors ${y?"bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 border border-blue-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[s.jsx(b.icon,{className:"w-4 h-4"}),s.jsx("span",{children:b.label})]},x)})}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${(a==null?void 0:a.role)==="ADMIN"?"bg-purple-100 text-purple-700":(a==null?void 0:a.role)==="MANAGER"?"bg-blue-100 text-blue-700":(a==null?void 0:a.role)==="SALES"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-800"}`,children:a==null?void 0:a.role})})]}),s.jsxs("button",{onClick:m,className:`w-full flex items-center gap-3 p-3 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors ${e?"justify-center":""}`,children:[s.jsx(Zv,{className:"w-5 h-5"}),!e&&s.jsx("span",{className:"font-medium",children:"Salir"})]})]})]})},Mr=e=>{const[t,r]=v.useState([]),[n,a]=v.useState(!0),[i,l]=v.useState(null),o=async()=>{if(!L){l("Supabase not configured"),a(!1);return}try{a(!0),l(null);let f=L.from("tasks").select(`
          *,
          lead:leads(first_name, last_name, company),
          assigned_user:users!tasks_assigned_to_fkey(name, avatar),
          creator:users!tasks_created_by_fkey(name, avatar)
        `).order("created_at",{ascending:!1});e&&(f=f.eq("lead_id",e));const{data:h,error:m}=await f;if(m)throw m;r(h||[])}catch(f){console.error("Error fetching tasks:",f),l(f.message)}finally{a(!1)}},c=async f=>{try{if(!L)throw new Error("Supabase not configured");const{data:{user:h}}=await L.auth.getUser();if(!h)throw new Error("User not authenticated");const{data:m,error:p}=await L.from("tasks").insert([{...f,created_by:h.id}]).select(`
          *,
          lead:leads(first_name, last_name, company),
          assigned_user:users!tasks_assigned_to_fkey(name, avatar),
          creator:users!tasks_created_by_fkey(name, avatar)
        `).single();if(p)throw p;return r(w=>[m,...w]),m}catch(h){throw console.error("Error creating task:",h),h}},d=async(f,h)=>{try{if(!L)throw new Error("Supabase not configured");const m={...h};h.status==="COMPLETED"&&!m.completed_at&&(m.completed_at=new Date().toISOString());const{data:p,error:w}=await L.from("tasks").update(m).eq("id",f).select(`
          *,
          lead:leads(first_name, last_name, company),
          assigned_user:users!tasks_assigned_to_fkey(name, avatar),
          creator:users!tasks_created_by_fkey(name, avatar)
        `).single();if(w)throw w;return r(b=>b.map(x=>x.id===f?p:x)),p}catch(m){throw console.error("Error updating task:",m),m}},u=async f=>{try{if(!L)throw new Error("Supabase not configured");const{error:h}=await L.from("tasks").delete().eq("id",f);if(h)throw h;r(m=>m.filter(p=>p.id!==f))}catch(h){throw console.error("Error deleting task:",h),h}};return v.useEffect(()=>{o()},[e]),{tasks:t,loading:n,error:i,createTask:c,updateTask:d,deleteTask:u,refetch:o}},mr=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(null),l=async()=>{if(!L){i("Supabase not configured"),n(!1);return}try{n(!0),i(null);const{data:f,error:h}=await L.from("leads").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Error fetching leads:",f),i(f.message)}finally{n(!1)}},o=async f=>{try{if(!L)throw new Error("Supabase not configured");const{data:{user:h}}=await L.auth.getUser();if(!h)throw new Error("User not authenticated");const{data:m,error:p}=await L.from("leads").insert([{...f,owner_id:h.id}]).select().single();if(p)throw p;return t(w=>[m,...w]),m}catch(h){throw console.error("Error creating lead:",h),h}},c=async(f,h)=>{try{if(!L)throw new Error("Supabase not configured");const{data:m,error:p}=await L.from("leads").update(h).eq("id",f).select().single();if(p)throw p;return t(w=>w.map(b=>b.id===f?m:b)),m}catch(m){throw console.error("Error updating lead:",m),m}},d=async f=>{try{if(!L)throw new Error("Supabase not configured");const{data:h,error:m}=await L.from("leads").select("*").eq("id",f).single();if(m)throw m;return h}catch(h){throw console.error("Error fetching lead:",h),h}},u=async f=>{try{if(!L)throw new Error("Supabase not configured");const{error:h}=await L.from("leads").delete().eq("id",f);if(h)throw h;t(m=>m.filter(p=>p.id!==f))}catch(h){throw console.error("Error deleting lead:",h),h}};return v.useEffect(()=>{l()},[]),{leads:e,loading:r,error:a,createLead:o,updateLead:c,getLeadById:d,deleteLead:u,refetch:l}},pb=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState([]),{tasks:a}=Mr(),{leads:i}=mr();v.useEffect(()=>{(()=>{const m=[];a.filter(N=>N.due_date&&new Date(N.due_date)<new Date&&N.status!=="COMPLETED").forEach(N=>{m.push({id:`overdue-${N.id}`,type:"warning",title:"Tarea Vencida",message:`La tarea "${N.title}" está vencida`,timestamp:new Date(N.due_date),read:!1,actionUrl:"/app/tasks"})});const w=new Date;w.setHours(23,59,59,999);const b=new Date;b.setHours(0,0,0,0),a.filter(N=>N.due_date&&new Date(N.due_date)>=b&&new Date(N.due_date)<=w&&N.status!=="COMPLETED").forEach(N=>{m.push({id:`due-today-${N.id}`,type:"info",title:"Tarea Vence Hoy",message:`La tarea "${N.title}" vence hoy`,timestamp:new Date,read:!1,actionUrl:"/app/tasks"})});const y=new Date;y.setDate(y.getDate()-1);const g=i.filter(N=>new Date(N.created_at)>=y);g.length>0&&m.push({id:`new-leads-${Date.now()}`,type:"success",title:"Nuevos Leads",message:`${g.length} nuevo${g.length>1?"s":""} lead${g.length>1?"s":""} agregado${g.length>1?"s":""}`,timestamp:new Date,read:!1,actionUrl:"/app/leads"});const j=new Date;j.setDate(j.getDate()-7);const k=i.filter(N=>new Date(N.updated_at)<=j&&N.status!=="CLOSED"&&N.status!=="CANCELLED");k.length>0&&m.push({id:`stale-leads-${Date.now()}`,type:"warning",title:"Leads Sin Actividad",message:`${k.length} lead${k.length>1?"s":""} sin actividad por más de 7 días`,timestamp:new Date,read:!1,actionUrl:"/app/leads"}),n(m.sort((N,_)=>_.timestamp.getTime()-N.timestamp.getTime()))})()},[a,i]);const l=r.filter(h=>!h.read).length,o=h=>{n(m=>m.map(p=>p.id===h?{...p,read:!0}:p))},c=()=>{n(h=>h.map(m=>({...m,read:!0})))},d=h=>{n(m=>m.filter(p=>p.id!==h))},u=h=>{switch(h){case"success":return s.jsx(ge,{className:"w-5 h-5 text-green-600"});case"warning":return s.jsx(ar,{className:"w-5 h-5 text-yellow-600"});case"error":return s.jsx(ar,{className:"w-5 h-5 text-red-600"});default:return s.jsx(Xv,{className:"w-5 h-5 text-blue-600"})}},f=h=>{const p=new Date().getTime()-h.getTime(),w=Math.floor(p/6e4),b=Math.floor(w/60),x=Math.floor(b/24);return x>0?`${x}d`:b>0?`${b}h`:w>0?`${w}m`:"ahora"};return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>t(!e),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors relative",children:[s.jsx(En,{className:"w-5 h-5"}),l>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:l>9?"9+":l})]}),e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-96 bg-white rounded-xl shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notificaciones"}),l>0&&s.jsx("button",{onClick:c,className:"text-sm text-orange-600 hover:text-orange-800 font-medium",children:"Marcar todas como leídas"})]})}),s.jsx("div",{className:"overflow-y-auto max-h-80",children:r.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(En,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No hay notificaciones"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:r.map(h=>s.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${h.read?"":"bg-orange-50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u(h.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:h.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:f(h.timestamp)}),s.jsx("button",{onClick:()=>d(h.id),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Oc,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.message}),!h.read&&s.jsx("button",{onClick:()=>o(h.id),className:"text-xs text-orange-600 hover:text-orange-800 font-medium",children:"Marcar como leída"})]})]})},h.id))})})]})]})]})},gb=()=>{var n;const e=ie?fr():null,t=ie?null:Mn(),{user:r}=ie?e:t;return s.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar leads, empresas...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-80"})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(pb,{}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-stravix-500 to-stravix-600 rounded-full flex items-center justify-center overflow-hidden",children:r!=null&&r.avatar?s.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white font-semibold text-xs",children:(n=r==null?void 0:r.name)==null?void 0:n.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r==null?void 0:r.name}),s.jsx("p",{className:"text-xs text-gray-500",children:r==null?void 0:r.role})]})]})]})]})})},xb=()=>{const[e,t]=v.useState(!1);return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsx(mb,{isCollapsed:e,onToggleCollapse:()=>t(!e)}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(gb,{}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx(J0,{})})]})]})},yb=()=>{var c;const e=ie?fr():null,t=ie?null:Mn(),{user:r}=ie?e:t,{leads:n}=mr(),{tasks:a}=Mr(),i={total:n.length,new:n.filter(d=>d.status==="NEW").length,inConversation:n.filter(d=>d.status==="IN_CONVERSATION").length,closed:n.filter(d=>d.status==="CLOSED").length},l={total:a.length,pending:a.filter(d=>d.status==="PENDING").length,overdue:a.filter(d=>d.due_date&&new Date(d.due_date)<new Date&&d.status!=="COMPLETED").length},o=()=>{const d=new Date().getHours();return d<12?"¡Buenos días":d<18?"¡Buenas tardes":"¡Buenas noches"};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[o(),", ",(c=r==null?void 0:r.name)==null?void 0:c.split(" ")[0],"!"]}),s.jsx("p",{className:"text-gray-600",children:"Bienvenido a Stravix CRM - Tu centro de gestión de leads"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-stravix-500 to-stravix-600 rounded-xl flex items-center justify-center",children:s.jsx(ii,{className:"w-6 h-6 text-white"})}),i.total>0&&s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[Math.round(i.new/i.total*100),"% nuevos"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.total}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Leads Totales"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-stravix-500 rounded-xl flex items-center justify-center",children:s.jsx(lr,{className:"w-6 h-6 text-white"})}),i.total>0&&s.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[Math.round(i.inConversation/i.total*100),"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:i.inConversation}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Conversación"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(No,{className:"w-6 h-6 text-white"})}),l.overdue>0&&s.jsxs("span",{className:"text-sm font-medium text-red-600",children:[l.overdue," vencidas"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:l.total}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tareas"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-white"})}),i.total>0&&s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[Math.round(i.closed/i.total*100),"% cerrados"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:new Set(n.map(d=>d.company)).size}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Empresas"})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-stravix-500 via-stravix-600 to-red-600 rounded-2xl p-8 text-white mb-8 shadow-xl",children:s.jsxs("div",{className:"max-w-2xl",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"¡Bienvenido a Stravix CRM!"}),s.jsx("p",{className:"text-stravix-100 mb-6",children:"Tu plataforma integral para gestionar leads B2B, hacer seguimiento de conversaciones, gestionar tareas y cerrar más ventas. Comienza agregando tu primer lead."}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(B,{to:"/app/leads/new",className:"bg-white text-stravix-600 px-6 py-3 rounded-lg font-semibold hover:bg-stravix-50 transition-colors shadow-lg",children:"Agregar Lead"}),s.jsx(B,{to:"/app/tasks",className:"border-2 border-white/30 text-white px-6 py-3 rounded-lg font-semibold hover:bg-white/10 transition-colors",children:"Ver Tareas"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(B,{to:"/app/leads/new",className:"flex items-center gap-3 p-4 rounded-xl bg-stravix-50 hover:bg-stravix-100 text-stravix-700 transition-colors",children:[s.jsx(ii,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Nuevo Lead"})]}),s.jsxs(B,{to:"/app/leads",className:"flex items-center gap-3 p-4 rounded-xl bg-orange-50 hover:bg-orange-100 text-orange-700 transition-colors",children:[s.jsx(lr,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Ver Leads"})]}),s.jsxs(B,{to:"/app/tasks",className:"flex items-center gap-3 p-4 rounded-xl bg-green-50 hover:bg-green-100 text-green-700 transition-colors",children:[s.jsx(No,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Gestionar Tareas"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-purple-50 text-purple-700",children:[s.jsx(ar,{className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium block",children:"Tareas Vencidas"}),s.jsxs("span",{className:"text-sm",children:[l.overdue," pendientes"]})]})]})]})]})]})},mt=[{value:"NEW",label:"Nuevo",color:"bg-gray-100 text-gray-800"},{value:"CONTACTED",label:"Contactado",color:"bg-blue-100 text-blue-800"},{value:"IN_CONVERSATION",label:"En Conversación",color:"bg-yellow-100 text-yellow-800"},{value:"MEETING",label:"Cita Agendada",color:"bg-purple-100 text-purple-800"},{value:"CLOSED",label:"Cerrado",color:"bg-green-100 text-green-800"}],vb=({leads:e,loading:t})=>{const r=n=>mt.find(a=>a.value===n)||mt[0];return t?s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((n,a)=>s.jsx("div",{className:"h-12 bg-gray-100 rounded"},a))})]})}):e.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No hay leads"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No se encontraron leads que coincidan con los filtros aplicados."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Nombre"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Cargo"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Empresa"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Estado"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"LinkedIn"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(n=>{const a=r(n.status);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs(B,{to:`/app/leads/${n.id}`,className:"font-medium text-stravix-600 hover:text-stravix-800 transition-colors",children:[n.first_name," ",n.last_name]}),n.note&&s.jsx("div",{className:"text-sm text-gray-500 mt-1 truncate max-w-xs",children:n.note})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.title}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.company}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.color}`,children:a.label})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("a",{href:n.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-stravix-600 hover:text-stravix-800 text-sm font-medium transition-colors",children:[s.jsx(ws,{className:"w-4 h-4"}),"Ver perfil"]})})]},n.id)})})]})})},bb=({currentPage:e,totalPages:t,totalItems:r,itemsPerPage:n,onPageChange:a})=>{const i=(e-1)*n+1,l=Math.min(e*n,r),o=()=>{const d=[],u=[];for(let f=Math.max(2,e-2);f<=Math.min(t-1,e+2);f++)d.push(f);return e-2>2?u.push(1,"..."):u.push(1),u.push(...d),e+2<t-1?u.push("...",t):t>1&&u.push(t),u};return t<=1?null:s.jsx("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",s.jsx("span",{className:"font-medium",children:i})," a"," ",s.jsx("span",{className:"font-medium",children:l})," de"," ",s.jsx("span",{className:"font-medium",children:r})," resultados"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>a(e-1),disabled:e===1,className:"p-2 rounded-lg border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(ym,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex items-center gap-1",children:o().map((c,d)=>s.jsx(De.Fragment,{children:c==="..."?s.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):s.jsx("button",{onClick:()=>a(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===c?"bg-orange-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:c})},d))}),s.jsx("button",{onClick:()=>a(e+1),disabled:e===t,className:"p-2 rounded-lg border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(Yv,{className:"w-4 h-4"})})]})]})})},wb=()=>{var m;const{leads:e,loading:t}=mr(),[r,n]=v.useState(""),[a,i]=v.useState("ALL"),[l,o]=v.useState(1),[c]=v.useState(10),d=v.useMemo(()=>e.filter(p=>{const w=r===""||p.first_name.toLowerCase().includes(r.toLowerCase())||p.last_name.toLowerCase().includes(r.toLowerCase())||p.company.toLowerCase().includes(r.toLowerCase()),b=a==="ALL"||p.status===a;return w&&b}).sort((p,w)=>{const b=`${p.first_name} ${p.last_name}`.toLowerCase(),x=`${w.first_name} ${w.last_name}`.toLowerCase();return b.localeCompare(x)}),[e,r,a]),u=v.useMemo(()=>{const p=(l-1)*c;return d.slice(p,p+c)},[d,l,c]),f=Math.ceil(d.length/c),h=()=>{const w=[["Nombre","Apellido","Cargo","Empresa","Estado","LinkedIn","Nota","Fecha Creación"].join(","),...d.map(g=>{var j;return[g.first_name,g.last_name,g.title,g.company,((j=mt.find(k=>k.value===g.status))==null?void 0:j.label)||g.status,g.linkedin_url,g.note||"",new Date(g.created_at).toLocaleDateString()].map(k=>`"${k}"`).join(",")})].join(`
`),b=new Blob([w],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a"),y=URL.createObjectURL(b);x.setAttribute("href",y),x.setAttribute("download",`leads_${new Date().toISOString().split("T")[0]}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Leads"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona tus contactos y oportunidades de venta"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:h,className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx(Jv,{className:"w-5 h-5"}),"Exportar CSV"]}),s.jsxs(B,{to:"/app/leads/new",className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(ii,{className:"w-5 h-5"}),"Nuevo Lead"]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar por nombre o empresa...",value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})}),s.jsx("div",{className:"sm:w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx($n,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsxs("select",{value:a,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors appearance-none bg-white",children:[s.jsx("option",{value:"ALL",children:"Todos los estados"}),mt.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))]})]})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",d.length," de ",e.length," leads",r&&` para "${r}"`,a!=="ALL"&&` con estado "${(m=mt.find(p=>p.value===a))==null?void 0:m.label}"`]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:[s.jsx(vb,{leads:u,loading:t}),s.jsx(bb,{currentPage:l,totalPages:f,totalItems:d.length,itemsPerPage:c,onPageChange:o})]})]})},jb=()=>{const e=yt(),{createLead:t}=mr(),[r,n]=v.useState(!1),[a,i]=v.useState({}),[l,o]=v.useState({first_name:"",last_name:"",title:"",company:"",linkedin_url:"",note:"",status:"NEW"}),c=()=>{const f={};return l.first_name.trim()||(f.first_name="El nombre es obligatorio"),l.last_name.trim()||(f.last_name="El apellido es obligatorio"),l.title.trim()||(f.title="El cargo es obligatorio"),l.company.trim()||(f.company="La empresa es obligatoria"),l.linkedin_url.trim()?l.linkedin_url.includes("linkedin.com")||(f.linkedin_url="Debe ser una URL válida de LinkedIn"):f.linkedin_url="La URL de LinkedIn es obligatoria",i(f),Object.keys(f).length===0},d=async f=>{if(f.preventDefault(),!!c())try{n(!0),await t(l),e("/app/leads")}catch(h){console.error("Error creating lead:",h),i({submit:"Error al crear el lead. Inténtalo de nuevo."})}finally{n(!1)}},u=(f,h)=>{o(m=>({...m,[f]:h})),a[f]&&i(m=>({...m,[f]:""}))};return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("button",{onClick:()=>e("/app/leads"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuevo Lead"}),s.jsx("p",{className:"text-gray-600",children:"Agrega un nuevo contacto a tu pipeline"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),s.jsx("input",{type:"text",value:l.first_name,onChange:f=>u("first_name",f.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.first_name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Juan"}),a.first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.first_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido *"}),s.jsx("input",{type:"text",value:l.last_name,onChange:f=>u("last_name",f.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.last_name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Pérez"}),a.last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.last_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cargo *"}),s.jsx("input",{type:"text",value:l.title,onChange:f=>u("title",f.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.title?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Director de Marketing"}),a.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa *"}),s.jsx("input",{type:"text",value:l.company,onChange:f=>u("company",f.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.company?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Tech Solutions S.A."}),a.company&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.company})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de LinkedIn *"}),s.jsx("input",{type:"url",value:l.linkedin_url,onChange:f=>u("linkedin_url",f.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.linkedin_url?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"https://linkedin.com/in/usuario"}),a.linkedin_url&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.linkedin_url})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado *"}),s.jsx("select",{value:l.status,onChange:f=>u("status",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:mt.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nota"}),s.jsx("textarea",{value:l.note,onChange:f=>u("note",f.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Información adicional sobre el lead..."})]}),a.submit&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:a.submit})}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 focus:outline-none focus:ring-2 focus:ring-stravix-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-5 h-5 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Lead"]})}),s.jsx("button",{type:"button",onClick:()=>e("/app/leads"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancelar"})]})]})})]})})},Nb=e=>{const[t,r]=v.useState([]),[n,a]=v.useState(!0),[i,l]=v.useState(null),o=async()=>{if(!L){l("Supabase not configured"),a(!1);return}try{a(!0),l(null);const{data:d,error:u}=await L.from("activities").select(`
          *,
          user:users(name, avatar)
        `).eq("lead_id",e).order("created_at",{ascending:!1});if(u)throw u;r(d||[])}catch(d){console.error("Error fetching activities:",d),l(d.message)}finally{a(!1)}},c=async d=>{try{if(!L)throw new Error("Supabase not configured");const{data:{user:u}}=await L.auth.getUser();if(!u)throw new Error("User not authenticated");const{data:f,error:h}=await L.from("activities").insert([{...d,user_id:u.id}]).select(`
          *,
          user:users(name, avatar)
        `).single();if(h)throw h;return r(m=>[f,...m]),f}catch(u){throw console.error("Error creating activity:",u),u}};return v.useEffect(()=>{e&&o()},[e]),{activities:t,loading:n,error:i,createActivity:c,refetch:o}},_b=({lead:e,isOpen:t,onClose:r,onSaveToHistory:n})=>{const[a,i]=v.useState(!1),[l,o]=v.useState(!1),[c,d]=v.useState(!1),f=(()=>{const p=e.note?`

He visto que ${e.note.toLowerCase()}, lo cual me parece muy interesante para lo que tenemos preparado.`:"";return`Hola ${e.first_name},

Espero que te encuentres muy bien. Mi nombre es [Tu nombre] y soy consultor especializado en IA para empresas en Stravix.

He estado investigando sobre ${e.company} y me parece fascinante el trabajo que están realizando en el sector. Como ${e.title}, seguramente estás buscando formas innovadoras de optimizar la captación de leads de calidad para tu equipo.${p}

En Stravix hemos desarrollado un taller exclusivo sobre "IA Aplicada a la Generación de Leads de Alta Calidad" que ha ayudado a empresas similares a ${e.company} a:

✅ Aumentar la calidad de leads en un 40-60%
✅ Reducir el tiempo de prospección en un 50%
✅ Automatizar procesos de calificación de prospectos
✅ Implementar chatbots inteligentes para captura 24/7

El taller es completamente práctico y adaptado a las necesidades específicas de cada empresa. ¿Te interesaría que conversemos 15 minutos sobre cómo esto podría aplicarse específicamente en ${e.company}?

Tengo disponibilidad esta semana para una llamada rápida. ¿Qué día te viene mejor?

Saludos cordiales,
[Tu nombre]
Consultor en IA - Stravix

P.D: Si prefieres, puedo enviarte un caso de estudio de una empresa similar que implementó estas estrategias con resultados extraordinarios.`})(),h=async()=>{try{await navigator.clipboard.writeText(f),i(!0),setTimeout(()=>i(!1),2e3)}catch(p){console.error("Error copying to clipboard:",p)}},m=async()=>{try{o(!0),await n(`Mensaje de prospección generado:

${f}`),d(!0),setTimeout(()=>d(!1),2e3)}catch(p){console.error("Error saving message:",p)}finally{o(!1)}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(ko,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mensaje de Prospección"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Para ",e.first_name," ",e.last_name]})]})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Oc,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Datos utilizados:"})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Nombre:"})," ",e.first_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cargo:"})," ",e.title]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Empresa:"})," ",e.company]}),e.note&&s.jsxs("p",{children:[s.jsx("strong",{children:"Nota:"})," ",e.note]})]})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 font-sans leading-relaxed",children:f})})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Mensaje personalizado para ",e.company]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:h,className:`flex items-center gap-2 px-4 py-2 border rounded-lg font-medium transition-colors ${a?"border-green-300 bg-green-50 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a?s.jsxs(s.Fragment,{children:[s.jsx(ge,{className:"w-4 h-4"}),"¡Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(_o,{className:"w-4 h-4"}),"Copiar"]})}),s.jsx("button",{onClick:m,disabled:l,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${c?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):c?s.jsxs(s.Fragment,{children:[s.jsx(ge,{className:"w-4 h-4"}),"¡Guardado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-4 h-4"}),"Guardar en Historial"]})})]})]})]})}):null},ln=[{value:"PENDING",label:"Pendiente",color:"bg-gray-100 text-gray-800"},{value:"IN_PROGRESS",label:"En Progreso",color:"bg-blue-100 text-blue-800"},{value:"COMPLETED",label:"Completada",color:"bg-green-100 text-green-800"},{value:"CANCELLED",label:"Cancelada",color:"bg-red-100 text-red-800"}],li=[{value:"LOW",label:"Baja",color:"bg-gray-100 text-gray-800"},{value:"MEDIUM",label:"Media",color:"bg-yellow-100 text-yellow-800"},{value:"HIGH",label:"Alta",color:"bg-orange-100 text-orange-800"},{value:"URGENT",label:"Urgente",color:"bg-red-100 text-red-800"}],kb=ie?()=>{const{useAuth:e}=require("../../contexts/SupabaseAuthContext");return e()}:()=>{const{useMockAuth:e}=require("../../contexts/MockAuthContext");return e()},Sm=({isOpen:e,onClose:t,leadId:r,onTaskCreated:n})=>{const{user:a}=kb(),{createTask:i}=Mr(),{leads:l}=mr(),[o,c]=v.useState(!1),[d,u]=v.useState({}),[f,h]=v.useState({title:"",description:"",lead_id:r||"",assigned_to:(a==null?void 0:a.id)||"",status:"PENDING",priority:"MEDIUM",due_date:""}),m=()=>{const b={};return f.title.trim()||(b.title="El título es obligatorio"),f.assigned_to||(b.assigned_to="Debe asignar la tarea a alguien"),u(b),Object.keys(b).length===0},p=async b=>{if(b.preventDefault(),!!m())try{c(!0),await i(f),n==null||n(),t(),h({title:"",description:"",lead_id:r||"",assigned_to:(a==null?void 0:a.id)||"",status:"PENDING",priority:"MEDIUM",due_date:""})}catch(x){console.error("Error creating task:",x),u({submit:"Error al crear la tarea. Inténtalo de nuevo."})}finally{c(!1)}},w=(b,x)=>{h(y=>({...y,[b]:x})),d[b]&&u(y=>({...y,[b]:""}))};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Nueva Tarea"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Oc,{className:"w-5 h-5 text-gray-600"})})]}),s.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),s.jsx("input",{type:"text",value:f.title,onChange:b=>w("title",b.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${d.title?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Llamar para seguimiento"}),d.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),s.jsx("textarea",{value:f.description,onChange:b=>w("description",b.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Detalles adicionales..."})]}),!r&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Relacionado"}),s.jsxs("select",{value:f.lead_id,onChange:b=>w("lead_id",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"",children:"Sin lead asociado"}),l.map(b=>s.jsxs("option",{value:b.id,children:[b.first_name," ",b.last_name," - ",b.company]},b.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridad"}),s.jsx("select",{value:f.priority,onChange:b=>w("priority",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:li.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),s.jsx("select",{value:f.status,onChange:b=>w("status",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:ln.map(b=>s.jsx("option",{value:b.value,children:b.label},b.value))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Vencimiento"}),s.jsx("input",{type:"datetime-local",value:f.due_date,onChange:b=>w("due_date",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),d.submit&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:d.submit})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-4 h-4 animate-spin"}),"Creando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-4 h-4"}),"Crear Tarea"]})}),s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancelar"})]})]})]})}):null},Em=({leadId:e,showCreateButton:t=!0})=>{const{tasks:r,loading:n,updateTask:a}=Mr(e),[i,l]=v.useState(!1),o=async(h,m)=>{try{await a(h,{status:m})}catch(p){console.error("Error updating task status:",p)}},c=h=>ln.find(m=>m.value===h)||ln[0],d=h=>li.find(m=>m.value===h)||li[1],u=h=>new Date(h).toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),f=h=>new Date(h)<new Date;return n?s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((h,m)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},m))}):s.jsxs("div",{className:"space-y-4",children:[t&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Tareas ",e?"del Lead":""]}),s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(lt,{className:"w-4 h-4"}),"Nueva Tarea"]})]}),r.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(ir,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No hay tareas registradas"}),t&&s.jsx("button",{onClick:()=>l(!0),className:"mt-3 text-blue-600 hover:text-blue-800 font-medium",children:"Crear primera tarea"})]}):s.jsx("div",{className:"space-y-3",children:r.map(h=>{var b;const m=c(h.status),p=d(h.priority),w=h.due_date&&f(h.due_date)&&h.status!=="COMPLETED";return s.jsxs("div",{className:`bg-white border rounded-lg p-4 hover:shadow-md transition-shadow ${w?"border-red-200 bg-red-50":"border-gray-200"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:h.title}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.color}`,children:p.label})]}),h.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[h.lead&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ot,{className:"w-3 h-3"}),s.jsxs("span",{children:[h.lead.first_name," ",h.lead.last_name]})]}),h.due_date&&s.jsxs("div",{className:`flex items-center gap-1 ${w?"text-red-600 font-medium":""}`,children:[s.jsx(vs,{className:"w-3 h-3"}),s.jsx("span",{children:u(h.due_date)}),w&&s.jsx(gm,{className:"w-3 h-3"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:h.status,onChange:x=>o(h.id,x.target.value),className:`text-xs font-medium rounded-full px-2 py-1 border-0 focus:ring-2 focus:ring-blue-500 ${m.color}`,children:ln.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))}),h.status==="COMPLETED"&&s.jsx(ge,{className:"w-5 h-5 text-green-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Asignado a:"}),s.jsx("span",{className:"font-medium",children:(b=h.assigned_user)==null?void 0:b.name})]}),s.jsxs("span",{children:["Creado: ",u(h.created_at)]})]})]},h.id)})}),s.jsx(Sm,{isOpen:i,onClose:()=>l(!1),leadId:e,onTaskCreated:()=>l(!1)})]})},Sb=ie?()=>{const{useAuth:e}=require("../../contexts/SupabaseAuthContext");return e()}:()=>{const{useMockAuth:e}=require("../../contexts/MockAuthContext");return e()},Eb=()=>{var re;const{id:e}=$0(),t=yt(),{user:r}=Sb(),{updateLead:n,getLeadById:a}=mr(),{activities:i,loading:l,createActivity:o}=Nb(e),[c,d]=v.useState(null),[u,f]=v.useState(!0),[h,m]=v.useState(null),[p,w]=v.useState(""),[b,x]=v.useState(!1),[y,g]=v.useState(!1),[j,k]=v.useState(!1);v.useEffect(()=>{(async()=>{if(e)try{f(!0),m(null);const H=await a(e);d(H)}catch(H){console.error("Error loading lead:",H),m(H.message)}finally{f(!1)}})()},[e,r==null?void 0:r.id]);const N=$=>new Date($).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=async $=>{var H;if(!(!c||y))try{g(!0),await n(c.id,{status:$}),d(ct=>ct?{...ct,status:$}:null),await o({lead_id:c.id,type:"STATUS_CHANGE",content:`Estado cambiado a: ${(H=mt.find(ct=>ct.value===$))==null?void 0:H.label}`})}catch(ct){console.error("Error updating status:",ct)}finally{g(!1)}},T=async $=>{if($.preventDefault(),!(!p.trim()||!c||b))try{x(!0),await o({lead_id:c.id,type:"NOTE",content:p.trim()}),w("")}catch(H){console.error("Error adding note:",H)}finally{x(!1)}},I=async $=>{if(c)try{await o({lead_id:c.id,type:"NOTE",content:$})}catch(H){throw console.error("Error saving prospecting message:",H),H}},O=$=>mt.find(H=>H.value===$)||mt[0];if(u)return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]})});if(h||!c)return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Lead no encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"El lead que buscas no existe o no tienes permisos para verlo."}),s.jsx(B,{to:"/app/leads",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Volver a Leads"})]})});const Q=O(c.status);return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("button",{onClick:()=>t("/app/leads"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[c.first_name," ",c.last_name]}),s.jsxs("p",{className:"text-gray-600",children:[c.title," en ",c.company]})]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(wm,{className:"w-4 h-4"}),"Editar"]}),s.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-stravix-500 to-stravix-600 text-white rounded-lg hover:from-stravix-600 hover:to-stravix-700 transition-all shadow-lg",children:[s.jsx(jm,{className:"w-4 h-4"}),"Generar Mensaje"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Información del Lead"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),s.jsxs("p",{className:"text-gray-900 font-medium",children:[c.first_name," ",c.last_name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cargo"}),s.jsx("p",{className:"text-gray-900",children:c.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),s.jsx("p",{className:"text-gray-900",children:c.company})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),s.jsxs("a",{href:c.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[s.jsx(ws,{className:"w-4 h-4"}),"Ver perfil"]})]})]}),c.note&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nota"}),s.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:c.note})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Historial de Actividades"}),s.jsx("form",{onSubmit:T,className:"mb-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-xs",children:(re=r==null?void 0:r.name)==null?void 0:re.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("textarea",{value:p,onChange:$=>w($.target.value),placeholder:"Agregar una nota...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{type:"submit",disabled:!p.trim()||b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Agregando...":"Agregar Nota"})})]})]})}),s.jsx("div",{className:"space-y-4",children:l?s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map(($,H)=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},H))}):i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ko,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No hay actividades registradas"})]}):i.map($=>{var H;return s.jsxs("div",{className:"flex gap-3 pb-4 border-b border-gray-100 last:border-b-0",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:$.type==="NOTE"?s.jsx(ko,{className:"w-4 h-4 text-gray-600"}):s.jsx(ir,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:((H=$.user)==null?void 0:H.name)||"Usuario"}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${$.type==="NOTE"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:$.type==="NOTE"?"Nota":"Cambio de Estado"})]}),s.jsx("p",{className:"text-gray-700 mb-2",children:$.content}),s.jsx("p",{className:"text-sm text-gray-500",children:N($.created_at)})]})]},$.id)})})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:s.jsx(Em,{leadId:c.id})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Estado actual:"}),s.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${Q.color}`,children:Q.label})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cambiar estado:"}),s.jsx("select",{value:c.status,onChange:$=>_($.target.value),disabled:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",children:mt.map($=>s.jsx("option",{value:$.value,children:$.label},$.value))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Creado:"}),s.jsx("span",{className:"text-gray-900",children:N(c.created_at)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Actualizado:"}),s.jsx("span",{className:"text-gray-900",children:N(c.updated_at)})]})]})]})]})]}),c&&s.jsx(_b,{lead:c,isOpen:j,onClose:()=>k(!1),onSaveToHistory:I})]})},Ea=[{value:"STARTUP",label:"Startup (1-10)",color:"bg-purple-100 text-purple-800"},{value:"SMALL",label:"Pequeña (11-50)",color:"bg-blue-100 text-blue-800"},{value:"MEDIUM",label:"Mediana (51-200)",color:"bg-green-100 text-green-800"},{value:"LARGE",label:"Grande (201-1000)",color:"bg-orange-100 text-orange-800"},{value:"ENTERPRISE",label:"Empresa (1000+)",color:"bg-red-100 text-red-800"}],Cb=["Tecnología","Finanzas","Salud","Educación","Retail","Manufactura","Servicios","Inmobiliaria","Construcción","Agricultura","Transporte","Energía","Telecomunicaciones","Media","Turismo","Otros"],Tb=()=>{const[e]=v.useState([]),[t,r]=v.useState(""),[n,a]=v.useState("ALL"),[i,l]=v.useState("ALL"),o=v.useMemo(()=>e.filter(u=>{const f=t===""||u.name.toLowerCase().includes(t.toLowerCase())||u.industry.toLowerCase().includes(t.toLowerCase()),h=n==="ALL"||u.industry===n,m=i==="ALL"||u.size===i;return f&&h&&m}),[e,t,n,i]),c=u=>Ea.find(f=>f.value===u)||Ea[0],d=[...new Set(e.map(u=>u.industry))];return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Empresas"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona tu cartera de empresas cliente"})]}),s.jsxs(B,{to:"/app/companies/new",className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Nueva Empresa"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Empresas"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(tt,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.filter(u=>u.size==="LARGE"||u.size==="ENTERPRISE").length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Empresas Grandes"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(mu,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:new Set(e.map(u=>u.country)).size}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Países"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:s.jsx($n,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:d.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Industrias"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar empresas...",value:t,onChange:u=>r(u.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:n,onChange:u=>a(u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todas las industrias"}),d.map(u=>s.jsx("option",{value:u,children:u},u))]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:i,onChange:u=>l(u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todos los tamaños"}),Ea.map(u=>s.jsx("option",{value:u.value,children:u.label},u.value))]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(u=>{const f=c(u.size);return s.jsxs(B,{to:`/app/companies/${u.id}`,className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all hover:border-stravix-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-stravix-500 to-stravix-600 rounded-xl flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:u.name}),s.jsx("p",{className:"text-sm text-gray-600",children:u.industry})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.color}`,children:f.value})]}),u.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:u.description}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[u.website&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"🌐"}),s.jsx("span",{className:"truncate",children:u.website})]}),u.city&&u.country&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mu,{className:"w-4 h-4"}),s.jsxs("span",{children:[u.city,", ",u.country]})]})]})]},u.id)})}),o.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(rr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron empresas"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No hay empresas que coincidan con los filtros aplicados."})]})]})},Pb=()=>{const e=yt(),[t,r]=v.useState(!1),[n,a]=v.useState({}),[i,l]=v.useState({name:"",industry:"",size:"SMALL",website:"",phone:"",email:"",address:"",city:"",country:"",description:"",logo:""}),o=()=>{const u={};return i.name.trim()||(u.name="El nombre de la empresa es obligatorio"),i.industry.trim()||(u.industry="La industria es obligatoria"),i.email&&!/\S+@\S+\.\S+/.test(i.email)&&(u.email="El email no es válido"),i.website&&!i.website.startsWith("http")&&(u.website="La URL debe comenzar con http:// o https://"),a(u),Object.keys(u).length===0},c=async u=>{if(u.preventDefault(),!!o())try{r(!0),await new Promise(f=>setTimeout(f,1e3)),e("/app/companies")}catch(f){console.error("Error creating company:",f),a({submit:"Error al crear la empresa. Inténtalo de nuevo."})}finally{r(!1)}},d=(u,f)=>{l(h=>({...h,[u]:f})),n[u]&&a(h=>({...h,[u]:""}))};return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("button",{onClick:()=>e("/app/companies"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nueva Empresa"}),s.jsx("p",{className:"text-gray-600",children:"Agrega una nueva empresa a tu cartera"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa *"}),s.jsx("input",{type:"text",value:i.name,onChange:u=>d("name",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: TechCorp Solutions"}),n.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industria *"}),s.jsxs("select",{value:i.industry,onChange:u=>d("industry",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.industry?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Seleccionar industria"}),Cb.map(u=>s.jsx("option",{value:u,children:u},u))]}),n.industry&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.industry})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tamaño de la Empresa"}),s.jsx("select",{value:i.size,onChange:u=>d("size",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Ea.map(u=>s.jsx("option",{value:u.value,children:u.label},u.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sitio Web"}),s.jsx("input",{type:"url",value:i.website,onChange:u=>d("website",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.website?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"https://empresa.com"}),n.website&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.website})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),s.jsx("input",{type:"tel",value:i.phone,onChange:u=>d("phone",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"+1-555-0123"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:i.email,onChange:u=>d("email",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"info@empresa.com"}),n.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección"}),s.jsx("input",{type:"text",value:i.address,onChange:u=>d("address",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"123 Calle Principal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad"}),s.jsx("input",{type:"text",value:i.city,onChange:u=>d("city",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Ciudad de México"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),s.jsx("input",{type:"text",value:i.country,onChange:u=>d("country",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"México"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),s.jsx("textarea",{value:i.description,onChange:u=>d("description",u.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Descripción de la empresa y sus servicios..."})]}),n.submit&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:n.submit})}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 focus:outline-none focus:ring-2 focus:ring-stravix-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-5 h-5 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Empresa"]})}),s.jsx("button",{type:"button",onClick:()=>e("/app/companies"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancelar"})]})]})})]})})},Cr=[{value:"PROSPECTING",label:"Prospección",color:"bg-gray-100 text-gray-800",probability:10},{value:"QUALIFICATION",label:"Calificación",color:"bg-blue-100 text-blue-800",probability:25},{value:"PROPOSAL",label:"Propuesta",color:"bg-yellow-100 text-yellow-800",probability:50},{value:"NEGOTIATION",label:"Negociación",color:"bg-orange-100 text-orange-800",probability:75},{value:"CLOSED_WON",label:"Cerrado Ganado",color:"bg-green-100 text-green-800",probability:100},{value:"CLOSED_LOST",label:"Cerrado Perdido",color:"bg-red-100 text-red-800",probability:0}],Ps=[{value:"USD",label:"USD ($)",symbol:"$"},{value:"EUR",label:"EUR (€)",symbol:"€"},{value:"MXN",label:"MXN ($)",symbol:"$"},{value:"COP",label:"COP ($)",symbol:"$"},{value:"ARS",label:"ARS ($)",symbol:"$"}],Lb=()=>{const[e]=v.useState([]),[t,r]=v.useState(""),[n,a]=v.useState("ALL"),i=v.useMemo(()=>e.filter(h=>{var w;const m=t===""||h.title.toLowerCase().includes(t.toLowerCase())||((w=h.company)==null?void 0:w.name.toLowerCase().includes(t.toLowerCase())),p=n==="ALL"||h.stage===n;return m&&p}),[e,t,n]),l=h=>Cr.find(m=>m.value===h)||Cr[0],o=h=>{var m;return((m=Ps.find(p=>p.value===h))==null?void 0:m.symbol)||"$"},c=e.reduce((h,m)=>h+m.value,0),d=e.length>0?c/e.length:0,u=e.filter(h=>h.stage==="CLOSED_WON").length,f=e.length>0?u/e.length*100:0;return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Oportunidades"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona tu pipeline de ventas"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(B,{to:"/app/deals/kanban",className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[s.jsx($n,{className:"w-5 h-5"}),"Vista Kanban"]}),s.jsxs(B,{to:"/app/deals/new",className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Nueva Oportunidad"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(lr,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Oportunidades"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(bs,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",c.toLocaleString()]}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total Pipeline"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(So,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",d.toLocaleString()]}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tamaño Promedio"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(vs,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[f.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tasa de Cierre"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar oportunidades...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})}),s.jsx("div",{className:"sm:w-64",children:s.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todas las etapas"}),Cr.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))]})})]})}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Oportunidad"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Empresa"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Valor"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Etapa"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Probabilidad"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Cierre Esperado"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(h=>{var p;const m=l(h.stage);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx(B,{to:`/app/deals/${h.id}`,className:"font-medium text-stravix-600 hover:text-stravix-800 transition-colors",children:h.title}),h.description&&s.jsx("div",{className:"text-sm text-gray-500 mt-1 truncate max-w-xs",children:h.description})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:((p=h.company)==null?void 0:p.name)||"Sin empresa"}),s.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:[o(h.currency),h.value.toLocaleString()]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.color}`,children:m.label})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h.probability}%`}})}),s.jsxs("span",{className:"text-xs font-medium",children:[h.probability,"%"]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:h.expected_close_date?new Date(h.expected_close_date).toLocaleDateString("es-ES"):"Sin fecha"})]},h.id)})})]})})}),i.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(lr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron oportunidades"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No hay oportunidades que coincidan con los filtros aplicados."})]})]})},Ab=()=>{const[e]=v.useState([]),t=a=>{var i;return((i=Ps.find(l=>l.value===a))==null?void 0:i.symbol)||"$"},r=a=>e.filter(i=>i.stage===a),n=a=>r(a).reduce((i,l)=>i+l.value,0);return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(B,{to:"/app/deals",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pipeline de Ventas"}),s.jsx("p",{className:"text-gray-600",children:"Vista Kanban de oportunidades"})]})]}),s.jsxs(B,{to:"/app/deals/new",className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Nueva Oportunidad"]})]}),s.jsx("div",{className:"flex gap-6 overflow-x-auto pb-6",children:Cr.map(a=>{const i=r(a.value),l=n(a.value);return s.jsxs("div",{className:"flex-shrink-0 w-80",children:[s.jsxs("div",{className:"bg-white rounded-t-2xl border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-3 h-3 rounded-full ${a.color.includes("gray")?"bg-gray-400":a.color.includes("blue")?"bg-blue-500":a.color.includes("yellow")?"bg-yellow-500":a.color.includes("orange")?"bg-orange-500":a.color.includes("green")?"bg-green-500":"bg-red-500"}`}),s.jsx("h3",{className:"font-semibold text-gray-900",children:a.label})]}),s.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-sm font-medium",children:i.length})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["$",l.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-50 border-l border-r border-gray-200 min-h-96 p-4 space-y-3",children:[i.map(o=>s.jsxs(B,{to:`/app/deals/${o.id}`,className:"block bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all hover:border-stravix-200",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:o.title}),o.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:o.description})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1 text-lg font-semibold text-green-600",children:[s.jsx(bs,{className:"w-4 h-4"}),t(o.currency),o.value.toLocaleString()]}),s.jsx("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:s.jsxs("span",{children:[o.probability,"%"]})})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[o.company&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:o.company.name})]}),o.expected_close_date&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vs,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(o.expected_close_date).toLocaleDateString("es-ES")})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all",style:{width:`${o.probability}%`}})})})]},o.id)),i.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{className:"text-sm",children:"No hay oportunidades"})})]}),s.jsx("div",{className:"bg-white rounded-b-2xl border border-gray-200 border-t-0 p-3",children:s.jsxs("button",{className:"w-full text-sm text-gray-600 hover:text-gray-800 font-medium flex items-center justify-center gap-2 py-2 hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx(lt,{className:"w-4 h-4"}),"Agregar oportunidad"]})})]},a.value)})}),s.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen del Pipeline"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Cr.map(a=>{const i=r(a.value),l=n(a.value);return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-2 ${a.color.includes("gray")?"bg-gray-400":a.color.includes("blue")?"bg-blue-500":a.color.includes("yellow")?"bg-yellow-500":a.color.includes("orange")?"bg-orange-500":a.color.includes("green")?"bg-green-500":"bg-red-500"}`}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.length}),s.jsxs("p",{className:"text-xs text-gray-600",children:["$",l.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:a.label})]},a.value)})})]})]})},Rb=()=>{const e=yt(),[t,r]=v.useState(!1),[n,a]=v.useState({}),[i,l]=v.useState({title:"",description:"",value:0,currency:"USD",probability:25,stage:"PROSPECTING",expected_close_date:"",company_id:"",lead_id:""}),o=()=>{const f={};return i.title.trim()||(f.title="El título es obligatorio"),i.value<=0&&(f.value="El valor debe ser mayor a 0"),(i.probability<0||i.probability>100)&&(f.probability="La probabilidad debe estar entre 0 y 100"),a(f),Object.keys(f).length===0},c=async f=>{if(f.preventDefault(),!!o())try{r(!0),await new Promise(h=>setTimeout(h,1e3)),e("/app/deals")}catch(h){console.error("Error creating deal:",h),a({submit:"Error al crear la oportunidad. Inténtalo de nuevo."})}finally{r(!1)}},d=(f,h)=>{l(m=>({...m,[f]:h})),n[f]&&a(m=>({...m,[f]:""}))},u=f=>{const h=Cr.find(m=>m.value===f);l(m=>({...m,stage:f,probability:(h==null?void 0:h.probability)||m.probability}))};return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("button",{onClick:()=>e("/app/deals"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nueva Oportunidad"}),s.jsx("p",{className:"text-gray-600",children:"Crea una nueva oportunidad de venta"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título de la Oportunidad *"}),s.jsx("input",{type:"text",value:i.title,onChange:f=>d("title",f.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.title?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Implementación CRM - TechCorp"}),n.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:i.value,onChange:f=>d("value",parseFloat(f.target.value)||0),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.value?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"50000"}),n.value&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.value})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda"}),s.jsx("select",{value:i.currency,onChange:f=>d("currency",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Ps.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etapa"}),s.jsx("select",{value:i.stage,onChange:f=>u(f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Cr.map(f=>s.jsx("option",{value:f.value,children:f.label},f.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Probabilidad (%)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:i.probability,onChange:f=>d("probability",parseInt(f.target.value)||0),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.probability?"border-red-300 bg-red-50":"border-gray-300"}`}),n.probability&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.probability})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),s.jsx("select",{value:i.company_id,onChange:f=>d("company_id",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:s.jsx("option",{value:"",children:"Seleccionar empresa"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Relacionado"}),s.jsx("select",{value:i.lead_id,onChange:f=>d("lead_id",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:s.jsx("option",{value:"",children:"Seleccionar lead"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Cierre Esperada"}),s.jsx("input",{type:"date",value:i.expected_close_date,onChange:f=>d("expected_close_date",f.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),s.jsx("textarea",{value:i.description,onChange:f=>d("description",f.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Descripción detallada de la oportunidad..."})]}),n.submit&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:n.submit})}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 focus:outline-none focus:ring-2 focus:ring-stravix-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-5 h-5 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Oportunidad"]})}),s.jsx("button",{type:"button",onClick:()=>e("/app/deals"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancelar"})]})]})})]})})},Ob=()=>{const[e]=v.useState([]),[t,r]=v.useState(""),[n,a]=v.useState("ALL"),i=v.useMemo(()=>e.filter(o=>{var u,f,h;const c=t===""||o.first_name.toLowerCase().includes(t.toLowerCase())||o.last_name.toLowerCase().includes(t.toLowerCase())||((u=o.company)==null?void 0:u.name.toLowerCase().includes(t.toLowerCase()))||((f=o.position)==null?void 0:f.toLowerCase().includes(t.toLowerCase())),d=n==="ALL"||((h=o.company)==null?void 0:h.name)===n;return c&&d}),[e,t,n]),l=[...new Set(e.map(o=>{var c;return(c=o.company)==null?void 0:c.name}).filter(Boolean))];return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contactos"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona tu red de contactos profesionales"})]}),s.jsxs(B,{to:"/app/contacts/new",className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Nuevo Contacto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(Ot,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Contactos"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.filter(o=>o.is_primary).length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Contactos Primarios"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(ni,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.filter(o=>o.email).length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Con Email"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(fu,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.filter(o=>o.linkedin_url).length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Con LinkedIn"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar contactos...",value:t,onChange:o=>r(o.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})}),s.jsx("div",{className:"sm:w-64",children:s.jsxs("select",{value:n,onChange:o=>a(o.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todas las empresas"}),l.map(o=>s.jsx("option",{value:o,children:o},o))]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(o=>s.jsxs(B,{to:`/app/contacts/${o.id}`,className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all hover:border-stravix-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white font-semibold",children:[o.first_name.charAt(0),o.last_name.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:[o.first_name," ",o.last_name]}),o.position&&s.jsx("p",{className:"text-sm text-gray-600",children:o.position})]})]}),o.is_primary&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Primario"})]}),o.company&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm text-gray-600",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:o.company.name})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[o.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:o.email})]}),o.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eb,{className:"w-4 h-4"}),s.jsx("span",{children:o.phone})]}),o.linkedin_url&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fu,{className:"w-4 h-4"}),s.jsx("span",{className:"text-blue-600",children:"LinkedIn"})]})]}),o.department&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("span",{className:"text-xs text-gray-500",children:["Departamento: ",o.department]})})]},o.id))}),i.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron contactos"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No hay contactos que coincidan con los filtros aplicados."})]})]})},Ib=()=>{const e=yt(),[t,r]=v.useState(!1),[n,a]=v.useState({}),[i,l]=v.useState({first_name:"",last_name:"",email:"",phone:"",position:"",department:"",company_id:"",is_primary:!1,linkedin_url:"",notes:""}),o=()=>{const u={};return i.first_name.trim()||(u.first_name="El nombre es obligatorio"),i.last_name.trim()||(u.last_name="El apellido es obligatorio"),i.email&&!/\S+@\S+\.\S+/.test(i.email)&&(u.email="El email no es válido"),i.linkedin_url&&!i.linkedin_url.includes("linkedin.com")&&(u.linkedin_url="Debe ser una URL válida de LinkedIn"),a(u),Object.keys(u).length===0},c=async u=>{if(u.preventDefault(),!!o())try{r(!0),await new Promise(f=>setTimeout(f,1e3)),e("/app/contacts")}catch(f){console.error("Error creating contact:",f),a({submit:"Error al crear el contacto. Inténtalo de nuevo."})}finally{r(!1)}},d=(u,f)=>{l(h=>({...h,[u]:f})),n[u]&&a(h=>({...h,[u]:""}))};return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("button",{onClick:()=>e("/app/contacts"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuevo Contacto"}),s.jsx("p",{className:"text-gray-600",children:"Agrega un nuevo contacto a tu red"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),s.jsx("input",{type:"text",value:i.first_name,onChange:u=>d("first_name",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.first_name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Juan"}),n.first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.first_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido *"}),s.jsx("input",{type:"text",value:i.last_name,onChange:u=>d("last_name",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.last_name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Pérez"}),n.last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.last_name})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:i.email,onChange:u=>d("email",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"juan.perez@empresa.com"}),n.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),s.jsx("input",{type:"tel",value:i.phone,onChange:u=>d("phone",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"+1-555-0123"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cargo"}),s.jsx("input",{type:"text",value:i.position,onChange:u=>d("position",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Director de Marketing"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento"}),s.jsx("input",{type:"text",value:i.department,onChange:u=>d("department",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Marketing"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),s.jsx("select",{value:i.company_id,onChange:u=>d("company_id",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:s.jsx("option",{value:"",children:"Seleccionar empresa"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),s.jsx("input",{type:"url",value:i.linkedin_url,onChange:u=>d("linkedin_url",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.linkedin_url?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"https://linkedin.com/in/usuario"}),n.linkedin_url&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.linkedin_url})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"is_primary",checked:i.is_primary,onChange:u=>d("is_primary",u.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),s.jsx("label",{htmlFor:"is_primary",className:"text-sm font-medium text-gray-700",children:"Contacto principal de la empresa"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notas"}),s.jsx("textarea",{value:i.notes,onChange:u=>d("notes",u.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Información adicional sobre el contacto..."})]}),n.submit&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:n.submit})}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 focus:outline-none focus:ring-2 focus:ring-stravix-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-5 h-5 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Contacto"]})}),s.jsx("button",{type:"button",onClick:()=>e("/app/contacts"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancelar"})]})]})})]})})},Ca=[{value:"PLANNING",label:"Planificación",color:"bg-blue-100 text-blue-800"},{value:"IN_PROGRESS",label:"En Progreso",color:"bg-yellow-100 text-yellow-800"},{value:"ON_HOLD",label:"En Pausa",color:"bg-orange-100 text-orange-800"},{value:"COMPLETED",label:"Completado",color:"bg-green-100 text-green-800"},{value:"CANCELLED",label:"Cancelado",color:"bg-red-100 text-red-800"}],Db=()=>{const[e]=v.useState([]),[t,r]=v.useState(""),[n,a]=v.useState("ALL"),i=v.useMemo(()=>e.filter(h=>{var w;const m=t===""||h.name.toLowerCase().includes(t.toLowerCase())||((w=h.company)==null?void 0:w.name.toLowerCase().includes(t.toLowerCase())),p=n==="ALL"||h.status===n;return m&&p}),[e,t,n]),l=h=>Ca.find(m=>m.value===h)||Ca[0],o=h=>{var m;return((m=Ps.find(p=>p.value===h))==null?void 0:m.symbol)||"$"},c=e.reduce((h,m)=>h+(m.budget||0),0),d=e.filter(h=>h.status==="IN_PROGRESS").length,u=e.filter(h=>h.status==="COMPLETED").length,f=e.length>0?u/e.length*100:0;return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Proyectos"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona los proyectos de tus clientes"})]}),s.jsxs(B,{to:"/app/projects/new",className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Nuevo Proyecto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(ka,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Proyectos"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(bs,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",c.toLocaleString()]}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Presupuesto Total"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(vs,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:d}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Progreso"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(Ot,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[f.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tasa Completado"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar proyectos...",value:t,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})}),s.jsx("div",{className:"sm:w-64",children:s.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todos los estados"}),Ca.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))]})})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.map(h=>{const m=l(h.status),p=h.status==="COMPLETED"?100:h.status==="IN_PROGRESS"?65:h.status==="PLANNING"?25:0;return s.jsxs(B,{to:`/app/projects/${h.id}`,className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all hover:border-stravix-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-stravix-500 to-stravix-600 rounded-xl flex items-center justify-center",children:s.jsx(ka,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:h.name}),h.company&&s.jsx("p",{className:"text-sm text-gray-600",children:h.company.name})]})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.color}`,children:m.label})]}),h.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:h.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.budget&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(bs,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{className:"font-medium text-green-600",children:[o(h.currency),h.budget.toLocaleString()]})]}),h.manager&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ot,{className:"w-4 h-4"}),s.jsx("span",{children:h.manager.name})]})]}),s.jsxs("div",{className:"space-y-3",children:[(h.start_date||h.end_date)&&s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsx(vs,{className:"w-4 h-4"}),s.jsxs("div",{className:"flex gap-2",children:[h.start_date&&s.jsxs("span",{children:["Inicio: ",new Date(h.start_date).toLocaleDateString("es-ES")]}),h.start_date&&h.end_date&&s.jsx("span",{children:"•"}),h.end_date&&s.jsxs("span",{children:["Fin: ",new Date(h.end_date).toLocaleDateString("es-ES")]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Progreso"}),s.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[p,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-stravix-500 to-stravix-600 h-2 rounded-full transition-all",style:{width:`${p}%`}})})]})]}),h.deal&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("span",{children:"Deal:"}),s.jsx("span",{className:"font-medium",children:h.deal.title}),s.jsxs("span",{className:"text-green-600 font-medium",children:["$",h.deal.value.toLocaleString()]})]})})]},h.id)})}),i.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ka,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron proyectos"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No hay proyectos que coincidan con los filtros aplicados."})]})]})},$b=()=>{const e=yt(),[t,r]=v.useState(!1),[n,a]=v.useState({}),[i,l]=v.useState({name:"",description:"",status:"PLANNING",start_date:"",end_date:"",budget:0,currency:"USD",company_id:"",deal_id:"",manager_id:""}),o=()=>{const u={};return i.name.trim()||(u.name="El nombre del proyecto es obligatorio"),i.company_id||(u.company_id="Debe seleccionar una empresa"),i.manager_id||(u.manager_id="Debe asignar un gerente del proyecto"),i.start_date&&i.end_date&&i.start_date>i.end_date&&(u.end_date="La fecha de fin debe ser posterior a la fecha de inicio"),i.budget&&i.budget<0&&(u.budget="El presupuesto no puede ser negativo"),a(u),Object.keys(u).length===0},c=async u=>{if(u.preventDefault(),!!o())try{r(!0),await new Promise(f=>setTimeout(f,1e3)),e("/app/projects")}catch(f){console.error("Error creating project:",f),a({submit:"Error al crear el proyecto. Inténtalo de nuevo."})}finally{r(!1)}},d=(u,f)=>{l(h=>({...h,[u]:f})),n[u]&&a(h=>({...h,[u]:""}))};return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("button",{onClick:()=>e("/app/projects"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuevo Proyecto"}),s.jsx("p",{className:"text-gray-600",children:"Crea un nuevo proyecto para tu cliente"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Proyecto *"}),s.jsx("input",{type:"text",value:i.name,onChange:u=>d("name",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Implementación CRM - TechCorp"}),n.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),s.jsx("select",{value:i.status,onChange:u=>d("status",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Ca.map(u=>s.jsx("option",{value:u.value,children:u.label},u.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gerente del Proyecto *"}),s.jsx("select",{value:i.manager_id,onChange:u=>d("manager_id",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.manager_id?"border-red-300 bg-red-50":"border-gray-300"}`,children:s.jsx("option",{value:"",children:"Seleccionar gerente"})}),n.manager_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.manager_id})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio"}),s.jsx("input",{type:"date",value:i.start_date,onChange:u=>d("start_date",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin"}),s.jsx("input",{type:"date",value:i.end_date,onChange:u=>d("end_date",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.end_date?"border-red-300 bg-red-50":"border-gray-300"}`}),n.end_date&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.end_date})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Presupuesto"}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:i.budget,onChange:u=>d("budget",parseFloat(u.target.value)||0),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.budget?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"50000"}),n.budget&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.budget})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda"}),s.jsx("select",{value:i.currency,onChange:u=>d("currency",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Ps.map(u=>s.jsx("option",{value:u.value,children:u.label},u.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa *"}),s.jsx("select",{value:i.company_id,onChange:u=>d("company_id",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.company_id?"border-red-300 bg-red-50":"border-gray-300"}`,children:s.jsx("option",{value:"",children:"Seleccionar empresa"})}),n.company_id&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.company_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Oportunidad Relacionada"}),s.jsx("select",{value:i.deal_id,onChange:u=>d("deal_id",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:s.jsx("option",{value:"",children:"Seleccionar oportunidad"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),s.jsx("textarea",{value:i.description,onChange:u=>d("description",u.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Descripción detallada del proyecto..."})]}),n.submit&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:n.submit})}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 focus:outline-none focus:ring-2 focus:ring-stravix-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-5 h-5 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Proyecto"]})}),s.jsx("button",{type:"button",onClick:()=>e("/app/projects"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancelar"})]})]})})]})})},Cm=["Software","Consultoría","Desarrollo","Marketing Digital","Diseño","Capacitación","Soporte Técnico","Licencias","Hardware","Otros"],Mb=["Unidad","Hora","Día","Mes","Año","Proyecto","Licencia","Usuario"],Ub=()=>{const[e]=v.useState([]),[t,r]=v.useState(""),[n,a]=v.useState("ALL"),[i,l]=v.useState("ALL"),[o,c]=v.useState("ALL"),d=v.useMemo(()=>e.filter(p=>{var g,j;const w=t===""||p.name.toLowerCase().includes(t.toLowerCase())||((g=p.description)==null?void 0:g.toLowerCase().includes(t.toLowerCase()))||((j=p.sku)==null?void 0:j.toLowerCase().includes(t.toLowerCase())),b=n==="ALL"||p.category===n,x=i==="ALL"||p.type===i,y=o==="ALL"||o==="ACTIVE"&&p.is_active||o==="INACTIVE"&&!p.is_active;return w&&b&&x&&y}),[e,t,n,i,o]),u=e.length,f=e.filter(p=>p.is_active).length,h=e.filter(p=>p.type==="SERVICE").length,m=e.length>0?e.reduce((p,w)=>p+w.price,0)/e.length:0;return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Productos & Servicios"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona tu catálogo de productos y servicios"})]}),s.jsxs(B,{to:"/app/products/new",className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Nuevo Producto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(Sa,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:u}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Productos"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(gu,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:f}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Activos"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(pu,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:h}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Servicios"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(bs,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",m.toFixed(0)]}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Precio Promedio"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar productos...",value:t,onChange:p=>r(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),s.jsxs("select",{value:n,onChange:p=>a(p.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todas las categorías"}),Cm.map(p=>s.jsx("option",{value:p,children:p},p))]}),s.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todos los tipos"}),s.jsx("option",{value:"PRODUCT",children:"Productos"}),s.jsx("option",{value:"SERVICE",children:"Servicios"})]}),s.jsxs("select",{value:o,onChange:p=>c(p.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"ALL",children:"Todos los estados"}),s.jsx("option",{value:"ACTIVE",children:"Activos"}),s.jsx("option",{value:"INACTIVE",children:"Inactivos"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(p=>s.jsxs(B,{to:`/app/products/${p.id}`,className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all hover:border-stravix-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${p.type==="SERVICE"?"bg-gradient-to-br from-purple-500 to-purple-600":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:s.jsx(Sa,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:p.name}),s.jsx("p",{className:"text-sm text-gray-600",children:p.category})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.type==="SERVICE"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:p.type==="SERVICE"?"Servicio":"Producto"}),p.is_active?s.jsx(gu,{className:"w-5 h-5 text-green-500"}):s.jsx(rb,{className:"w-5 h-5 text-gray-400"})]})]}),p.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:p.description}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bs,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",p.price.toLocaleString()]}),p.unit&&s.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",p.unit]})]})}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[p.sku&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pu,{className:"w-4 h-4"}),s.jsxs("span",{children:["SKU: ",p.sku]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Estado:"}),s.jsx("span",{className:`font-medium ${p.is_active?"text-green-600":"text-red-600"}`,children:p.is_active?"Activo":"Inactivo"})]})]})]},p.id))}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Sa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron productos"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"No hay productos que coincidan con los filtros aplicados."})]})]})},Fb=()=>{const e=yt(),[t,r]=v.useState(!1),[n,a]=v.useState({}),[i,l]=v.useState({name:"",description:"",type:"PRODUCT",category:"",price:0,currency:"USD",is_active:!0,sku:"",unit:""}),o=()=>{const u={};return i.name.trim()||(u.name="El nombre del producto es obligatorio"),i.category.trim()||(u.category="La categoría es obligatoria"),i.price<0&&(u.price="El precio no puede ser negativo"),a(u),Object.keys(u).length===0},c=async u=>{if(u.preventDefault(),!!o())try{r(!0),await new Promise(f=>setTimeout(f,1e3)),e("/app/products")}catch(f){console.error("Error creating product:",f),a({submit:"Error al crear el producto. Inténtalo de nuevo."})}finally{r(!1)}},d=(u,f)=>{l(h=>({...h,[u]:f})),n[u]&&a(h=>({...h,[u]:""}))};return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("button",{onClick:()=>e("/app/products"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hr,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nuevo Producto"}),s.jsx("p",{className:"text-gray-600",children:"Agrega un nuevo producto o servicio al catálogo"})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Producto *"}),s.jsx("input",{type:"text",value:i.name,onChange:u=>d("name",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: CRM Personalizado"}),n.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo"}),s.jsxs("select",{value:i.type,onChange:u=>d("type",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"PRODUCT",children:"Producto"}),s.jsx("option",{value:"SERVICE",children:"Servicio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),s.jsxs("select",{value:i.category,onChange:u=>d("category",u.target.value),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.category?"border-red-300 bg-red-50":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Seleccionar categoría"}),Cm.map(u=>s.jsx("option",{value:u,children:u},u))]}),n.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.category})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU"}),s.jsx("input",{type:"text",value:i.sku,onChange:u=>d("sku",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"CRM-001"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),s.jsx("input",{type:"number",min:"0",step:"0.01",value:i.price,onChange:u=>d("price",parseFloat(u.target.value)||0),className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${n.price?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"0.00"}),n.price&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.price})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda"}),s.jsx("select",{value:i.currency,onChange:u=>d("currency",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Ps.map(u=>s.jsx("option",{value:u.value,children:u.label},u.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidad"}),s.jsxs("select",{value:i.unit,onChange:u=>d("unit",u.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[s.jsx("option",{value:"",children:"Seleccionar unidad"}),Mb.map(u=>s.jsx("option",{value:u,children:u},u))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),s.jsx("textarea",{value:i.description,onChange:u=>d("description",u.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Descripción detallada del producto o servicio..."})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:u=>d("is_active",u.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"}),s.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Producto activo (disponible para ventas)"})]}),n.submit&&s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-700",children:n.submit})}),s.jsxs("div",{className:"flex gap-4 pt-6",children:[s.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 focus:outline-none focus:ring-2 focus:ring-stravix-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx($r,{className:"w-5 h-5 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Producto"]})}),s.jsx("button",{type:"button",onClick:()=>e("/app/products"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"Cancelar"})]})]})})]})})},zb=()=>{const{tasks:e,loading:t}=Mr(),[r,n]=v.useState(""),[a,i]=v.useState("ALL"),[l,o]=v.useState("ALL"),[c,d]=v.useState(!1),u=v.useMemo(()=>e.filter(h=>{var b,x,y;const m=r===""||h.title.toLowerCase().includes(r.toLowerCase())||((b=h.description)==null?void 0:b.toLowerCase().includes(r.toLowerCase()))||((y=(x=h.lead)==null?void 0:x.company)==null?void 0:y.toLowerCase().includes(r.toLowerCase())),p=a==="ALL"||h.status===a,w=l==="ALL"||h.priority===l;return m&&p&&w}).sort((h,m)=>{const p={URGENT:4,HIGH:3,MEDIUM:2,LOW:1},w=p[h.priority],b=p[m.priority];return w!==b?b-w:h.due_date&&m.due_date?new Date(h.due_date).getTime()-new Date(m.due_date).getTime():new Date(m.created_at).getTime()-new Date(h.created_at).getTime()}),[e,r,a,l]),f=v.useMemo(()=>{const h=e.length,m=e.filter(b=>b.status==="COMPLETED").length,p=e.filter(b=>b.status==="PENDING").length,w=e.filter(b=>b.due_date&&new Date(b.due_date)<new Date&&b.status!=="COMPLETED").length;return{total:h,completed:m,pending:p,overdue:w}},[e]);return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tareas"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona todas las tareas del equipo"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-stravix-500 to-stravix-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-stravix-600 hover:to-stravix-700 transition-colors flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Nueva Tarea"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(ir,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:f.total}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Tareas"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:f.pending}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(ge,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:f.completed}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completadas"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:f.overdue}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vencidas"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar tareas...",value:r,onChange:h=>n(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("div",{className:"relative",children:[s.jsx($n,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsxs("select",{value:a,onChange:h=>i(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors appearance-none bg-white",children:[s.jsx("option",{value:"ALL",children:"Todos los estados"}),ln.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))]})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:l,onChange:h=>o(h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors appearance-none bg-white",children:[s.jsx("option",{value:"ALL",children:"Todas las prioridades"}),li.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))]})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",u.length," de ",e.length," tareas",r&&` para "${r}"`]})})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:s.jsx(Em,{showCreateButton:!1})}),s.jsx(Sm,{isOpen:c,onClose:()=>d(!1),onTaskCreated:()=>d(!1)})]})},da=({title:e,value:t,icon:r,trend:n,color:a})=>{const i={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",orange:"bg-orange-50 text-orange-600 border-orange-200",purple:"bg-purple-50 text-purple-600 border-purple-200"},l={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500",purple:"bg-purple-500"};return s.jsxs("div",{className:`rounded-2xl border-2 p-6 ${i[a]}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 ${l[a]} rounded-xl flex items-center justify-center`,children:s.jsx(r,{className:"w-6 h-6 text-white"})}),n&&s.jsx("div",{className:`flex items-center gap-1 text-sm font-medium ${n.isPositive?"text-green-600":"text-red-600"}`,children:s.jsxs("span",{children:[n.isPositive?"+":"",n.value,"%"]})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:t}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:e})]})]})},Bb=()=>{const{leads:e}=mr(),{tasks:t}=Mr(),r=v.useMemo(()=>{const n=e.length,a=e.filter(_=>_.status==="NEW").length,i=e.filter(_=>_.status==="CONTACTED").length,l=e.filter(_=>_.status==="IN_CONVERSATION").length,o=e.filter(_=>_.status==="MEETING").length,c=e.filter(_=>_.status==="CLOSED").length,d=n>0?i/n*100:0,u=n>0?l/n*100:0,f=n>0?o/n*100:0,h=n>0?c/n*100:0,m=t.length,p=t.filter(_=>_.status==="PENDING").length,w=t.filter(_=>_.status==="IN_PROGRESS").length,b=t.filter(_=>_.status==="COMPLETED").length,x=t.filter(_=>_.due_date&&new Date(_.due_date)<new Date&&_.status!=="COMPLETED").length,y=m>0?b/m*100:0,g=new Set(e.map(_=>_.company)).size,j=new Date;j.setDate(j.getDate()-30);const k=e.filter(_=>new Date(_.created_at)>=j).length,N=t.filter(_=>new Date(_.created_at)>=j).length;return{leads:{total:n,new:a,contacted:i,inConversation:l,meeting:o,closed:c,contactedRate:d,conversationRate:u,meetingRate:f,closureRate:h,recent:k},tasks:{total:m,pending:p,inProgress:w,completed:b,overdue:x,completionRate:y,recent:N},companies:g}},[e,t]);return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Métricas y análisis del rendimiento del CRM"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[s.jsx(da,{title:"Total de Leads",value:r.leads.total,icon:tt,trend:{value:r.leads.recent,isPositive:r.leads.recent>0},color:"blue"}),s.jsx(da,{title:"Tasa de Cierre",value:`${r.leads.closureRate.toFixed(1)}%`,icon:So,trend:{value:r.leads.closureRate,isPositive:r.leads.closureRate>20},color:"green"}),s.jsx(da,{title:"Tareas Completadas",value:`${r.tasks.completionRate.toFixed(1)}%`,icon:ir,trend:{value:r.tasks.completionRate,isPositive:r.tasks.completionRate>70},color:"purple"}),s.jsx(da,{title:"Empresas Únicas",value:r.companies,icon:xm,color:"orange"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pipeline de Leads"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Nuevos"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.leads.new}),s.jsx("p",{className:"text-sm text-gray-500",children:"leads"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Contactados"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.leads.contacted}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.leads.contactedRate.toFixed(1),"% del total"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"En Conversación"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.leads.inConversation}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.leads.conversationRate.toFixed(1),"% del total"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Cita Agendada"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.leads.meeting}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.leads.meetingRate.toFixed(1),"% del total"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Cerrados"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.leads.closed}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.leads.closureRate.toFixed(1),"% del total"]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Estado de Tareas"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Pendientes"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.tasks.pending}),s.jsx("p",{className:"text-sm text-gray-500",children:"tareas"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"En Progreso"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.tasks.inProgress}),s.jsx("p",{className:"text-sm text-gray-500",children:"tareas"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Completadas"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:r.tasks.completed}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.tasks.completionRate.toFixed(1),"% del total"]})]})]}),r.tasks.overdue>0&&s.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Vencidas"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-red-600",children:r.tasks.overdue}),s.jsx("p",{className:"text-sm text-red-500",children:"requieren atención"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Insights de Rendimiento"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl",children:[s.jsx(lr,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Conversión"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600 mb-1",children:[r.leads.conversationRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"De leads nuevos a conversación"})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[s.jsx(So,{className:"w-8 h-8 text-green-600 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cierre"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600 mb-1",children:[r.leads.closureRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tasa de cierre exitoso"})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl",children:[s.jsx(vs,{className:"w-8 h-8 text-purple-600 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Productividad"}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600 mb-1",children:[r.tasks.completionRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tareas completadas"})]})]})]})]})},Hb=()=>{var t;const{user:e}=fr();return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuración"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona tu perfil y preferencias del sistema"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Ot,{className:"w-6 h-6 text-gray-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Perfil"})]}),s.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white font-semibold text-2xl",children:(t=e==null?void 0:e.name)==null?void 0:t.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-gray-600",children:e==null?void 0:e.email}),s.jsx("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full mt-2 ${(e==null?void 0:e.role)==="ADMIN"?"bg-purple-100 text-purple-800":(e==null?void 0:e.role)==="MANAGER"?"bg-blue-100 text-blue-800":(e==null?void 0:e.role)==="SALES"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e==null?void 0:e.role})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),s.jsx("input",{type:"text",value:(e==null?void 0:e.name)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(nt,{className:"w-6 h-6 text-gray-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Permisos"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Gestionar Leads"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Crear, editar y eliminar leads"})]}),s.jsx("span",{className:"text-green-600 font-medium",children:"✓ Permitido"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Ver Reportes"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Acceso a estadísticas y reportes"})]}),s.jsx("span",{className:`font-medium ${(e==null?void 0:e.role)==="READONLY"?"text-red-600":"text-green-600"}`,children:(e==null?void 0:e.role)==="READONLY"?"✗ Denegado":"✓ Permitido"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Gestionar Usuarios"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Administrar usuarios del sistema"})]}),s.jsx("span",{className:`font-medium ${(e==null?void 0:e.role)==="ADMIN"?"text-green-600":"text-red-600"}`,children:(e==null?void 0:e.role)==="ADMIN"?"✓ Permitido":"✗ Denegado"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(En,{className:"w-6 h-6 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notificaciones"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300",defaultChecked:!0}),s.jsx("span",{className:"text-sm text-gray-700",children:"Nuevos leads"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300",defaultChecked:!0}),s.jsx("span",{className:"text-sm text-gray-700",children:"Citas agendadas"})]}),s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Reportes semanales"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información de Cuenta"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Miembro desde:"}),s.jsx("span",{className:"text-gray-900",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Último acceso:"}),s.jsx("span",{className:"text-gray-900",children:e!=null&&e.last_login_at?new Date(e.last_login_at).toLocaleDateString():"N/A"})]})]})]})]})]})]})},Vb=()=>{var f;const{user:e}=fr(),[t,r]=v.useState("profile"),[n,a]=v.useState(!1),[i,l]=v.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:"+1-555-0003",department:"Ventas",bio:"Especialista en ventas B2B con más de 5 años de experiencia.",timezone:"America/Mexico_City",language:"es",notifications:{email:!0,push:!0,sms:!1,weekly_reports:!0,lead_updates:!0,task_reminders:!0}}),o=async()=>{a(!0),await new Promise(h=>setTimeout(h,1e3)),a(!1)},c=(h,m)=>{l(p=>({...p,[h]:m}))},d=(h,m)=>{l(p=>({...p,notifications:{...p.notifications,[h]:m}}))},u=[{id:"profile",label:"Perfil",icon:Ot},{id:"notifications",label:"Notificaciones",icon:En},{id:"security",label:"Seguridad",icon:nt},{id:"preferences",label:"Preferencias",icon:vm}];return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mi Perfil"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona tu información personal y preferencias"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center overflow-hidden",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white font-semibold text-2xl",children:(f=e==null?void 0:e.name)==null?void 0:f.charAt(0).toUpperCase()})}),s.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:s.jsx(qv,{className:"w-4 h-4"})})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-4",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-gray-600",children:e==null?void 0:e.email}),s.jsx("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full mt-2 ${(e==null?void 0:e.role)==="ADMIN"?"bg-purple-100 text-purple-800":(e==null?void 0:e.role)==="MANAGER"?"bg-blue-100 text-blue-800":(e==null?void 0:e.role)==="SALES"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e==null?void 0:e.role})]}),s.jsx("nav",{className:"space-y-2",children:u.map(h=>s.jsxs("button",{onClick:()=>r(h.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${t===h.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(h.icon,{className:"w-5 h-5"}),h.label]},h.id))})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[t==="profile"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Información Personal"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),s.jsx("input",{type:"text",value:i.name,onChange:h=>c("name",h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:i.email,onChange:h=>c("email",h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),s.jsx("input",{type:"tel",value:i.phone,onChange:h=>c("phone",h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento"}),s.jsxs("select",{value:i.department,onChange:h=>c("department",h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Ventas",children:"Ventas"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Soporte",children:"Soporte"}),s.jsx("option",{value:"Desarrollo",children:"Desarrollo"}),s.jsx("option",{value:"Administración",children:"Administración"})]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Biografía"}),s.jsx("textarea",{value:i.bio,onChange:h=>c("bio",h.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Cuéntanos sobre ti..."})]})]}),t==="notifications"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Preferencias de Notificaciones"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Notificaciones por Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Recibe actualizaciones importantes por correo"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.notifications.email,onChange:h=>d("email",h.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Notificaciones Push"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Alertas en tiempo real en el navegador"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.notifications.push,onChange:h=>d("push",h.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Recordatorios de Tareas"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Alertas cuando las tareas están por vencer"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.notifications.task_reminders,onChange:h=>d("task_reminders",h.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Actualizaciones de Leads"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notificaciones sobre cambios en leads"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.notifications.lead_updates,onChange:h=>d("lead_updates",h.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Reportes Semanales"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Resumen semanal de actividad"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.notifications.weekly_reports,onChange:h=>d("weekly_reports",h.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),t==="security"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Configuración de Seguridad"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cambiar Contraseña"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña Actual"}),s.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contraseña"}),s.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nueva Contraseña"}),s.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Actualizar Contraseña"})]})]}),s.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Autenticación de Dos Factores"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Agrega una capa extra de seguridad a tu cuenta"}),s.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Habilitar 2FA"})]}),s.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sesiones Activas"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Chrome en Windows"}),s.jsx("p",{className:"text-sm text-gray-600",children:"IP: 192.168.1.100 • Activa ahora"})]}),s.jsx("span",{className:"text-green-600 text-sm font-medium",children:"Actual"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Safari en iPhone"}),s.jsx("p",{className:"text-sm text-gray-600",children:"IP: 192.168.1.105 • Hace 2 horas"})]}),s.jsx("button",{className:"text-red-600 text-sm font-medium hover:text-red-800",children:"Cerrar Sesión"})]})]})]})]})]}),t==="preferences"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Preferencias del Sistema"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idioma"}),s.jsxs("select",{value:i.language,onChange:h=>c("language",h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"es",children:"Español"}),s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"pt",children:"Português"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zona Horaria"}),s.jsxs("select",{value:i.timezone,onChange:h=>c("timezone",h.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"America/Mexico_City",children:"Ciudad de México (GMT-6)"}),s.jsx("option",{value:"America/New_York",children:"Nueva York (GMT-5)"}),s.jsx("option",{value:"America/Los_Angeles",children:"Los Ángeles (GMT-8)"}),s.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"})]})]})]}),s.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tema de la Interfaz"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 border-2 border-blue-500 rounded-lg cursor-pointer",children:[s.jsx("div",{className:"w-full h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded mb-2"}),s.jsx("p",{className:"text-sm font-medium text-center",children:"Claro"})]}),s.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300",children:[s.jsx("div",{className:"w-full h-16 bg-gray-800 rounded mb-2"}),s.jsx("p",{className:"text-sm font-medium text-center",children:"Oscuro"})]}),s.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300",children:[s.jsx("div",{className:"w-full h-16 bg-gradient-to-br from-gray-100 to-gray-800 rounded mb-2"}),s.jsx("p",{className:"text-sm font-medium text-center",children:"Auto"})]})]})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:o,disabled:n,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Cambios"]})})})})]})})]})]})},pl=[{value:"ACTIVE",label:"Activo",color:"bg-success-100 text-success-800"},{value:"INACTIVE",label:"Inactivo",color:"bg-danger-100 text-danger-800"},{value:"PENDING",label:"Pendiente",color:"bg-warning-100 text-warning-800"}],Bt=[{value:"ADMIN",label:"Administrador",color:"bg-purple-100 text-purple-800",description:"Acceso completo al sistema"},{value:"MANAGER",label:"Gerente",color:"bg-blue-100 text-blue-800",description:"Gestión de equipo y reportes"},{value:"SALES",label:"Ventas",color:"bg-success-100 text-success-800",description:"Gestión de leads y oportunidades"},{value:"READONLY",label:"Solo Lectura",color:"bg-info-100 text-info-800",description:"Acceso de solo lectura"}],Wb=["Ventas","Marketing","Soporte","Desarrollo","Administración","Recursos Humanos","Finanzas","Operaciones"],Gb=()=>{const[e,t]=De.useState([]),[r,n]=De.useState(!0),{leads:a}=mr(),{tasks:i}=Mr();De.useEffect(()=>{(async()=>{if(!L){n(!1);return}try{const{data:m,error:p}=await L.from("users").select("*").order("created_at",{ascending:!1});if(p)throw p;t(m||[])}catch(m){console.error("Error fetching users:",m),t([])}finally{n(!1)}})()},[]);const l={total:e.length,active:e.filter(h=>h.status==="ACTIVE").length,admins:e.filter(h=>h.role==="ADMIN").length,newThisMonth:e.filter(h=>{const m=new Date;return m.setMonth(m.getMonth()-1),new Date(h.created_at)>=m}).length},o={totalLeads:a.length,totalTasks:i.length,activeUsers:l.active,systemHealth:98.5},c=[{id:"1",type:"user_created",message:"Nuevo usuario Sofia Hernández creado",timestamp:"2024-12-20T10:30:00Z",user:"Carlos Rodríguez"},{id:"2",type:"user_updated",message:"Usuario David López desactivado",timestamp:"2024-12-19T15:45:00Z",user:"Ana García"},{id:"3",type:"system_update",message:"Configuración de notificaciones actualizada",timestamp:"2024-12-19T09:20:00Z",user:"Sistema"},{id:"4",type:"backup_completed",message:"Respaldo automático completado exitosamente",timestamp:"2024-12-19T02:00:00Z",user:"Sistema"}],d=h=>{switch(h){case"user_created":return s.jsx(tt,{className:"w-4 h-4 text-green-600"});case"user_updated":return s.jsx(nt,{className:"w-4 h-4 text-blue-600"});case"system_update":return s.jsx(ai,{className:"w-4 h-4 text-purple-600"});case"backup_completed":return s.jsx(ge,{className:"w-4 h-4 text-green-600"});default:return s.jsx(ml,{className:"w-4 h-4 text-gray-600"})}},u=h=>new Date(h).toLocaleString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),f=h=>Bt.find(m=>m.value===h)||Bt[0];return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Panel de Administración"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona usuarios, configuración y monitorea el sistema"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(tt,{className:"w-6 h-6 text-white"})}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",l.newThisMonth," este mes"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:l.total}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(ge,{className:"w-6 h-6 text-white"})}),l.total>0&&s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[Math.round(l.active/l.total*100),"% activos"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:l.active}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Usuarios Activos"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(nt,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:l.admins}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(lr,{className:"w-6 h-6 text-white"})}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[o.systemHealth,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:"Óptimo"}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estado del Sistema"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Resumen del Sistema"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:s.jsx(tt,{className:"w-4 h-4 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalLeads}),s.jsx("p",{className:"text-sm text-gray-600",children:"Leads"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:s.jsx(ge,{className:"w-4 h-4 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalTasks}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tareas"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:s.jsx(ml,{className:"w-4 h-4 text-white"})}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.activeUsers}),s.jsx("p",{className:"text-sm text-gray-600",children:"Activos"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-2",children:s.jsx(lr,{className:"w-4 h-4 text-white"})}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[o.systemHealth,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Salud"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Actividad Reciente"}),s.jsx("div",{className:"space-y-4",children:c.map(h=>s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:d(h.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.message}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[s.jsxs("span",{children:["Por ",h.user]}),s.jsx("span",{children:"•"}),s.jsx("span",{children:u(h.timestamp)})]})]})]},h.id))})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(B,{to:"/app/users",className:"w-full flex items-center gap-3 p-3 text-left bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[s.jsx(tt,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"Gestionar Usuarios"})]}),s.jsxs(B,{to:"/app/admin/settings",className:"w-full flex items-center gap-3 p-3 text-left bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[s.jsx(ai,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-green-900",children:"Configuración Sistema"})]}),s.jsxs(B,{to:"/app/analytics",className:"w-full flex items-center gap-3 p-3 text-left bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:[s.jsx(ml,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"font-medium text-purple-900",children:"Ver Analytics"})]}),s.jsxs(B,{to:"/app/leads",className:"w-full flex items-center gap-3 p-3 text-left bg-orange-50 hover:bg-orange-100 rounded-lg transition-colors",children:[s.jsx(tt,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-900",children:"Gestionar Leads"})]}),s.jsxs(B,{to:"/app/admin/checklist",className:"w-full flex items-center gap-3 p-3 text-left bg-stravix-50 hover:bg-stravix-100 rounded-lg transition-colors",children:[s.jsx(ge,{className:"w-5 h-5 text-stravix-600"}),s.jsx("span",{className:"font-medium text-stravix-900",children:"Lista Producción"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alertas del Sistema"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(ge,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:"Sistema Actualizado"}),s.jsx("p",{className:"text-xs text-green-700",children:"Última actualización: Hoy 02:00"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx(ar,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Respaldo Programado"}),s.jsx("p",{className:"text-xs text-yellow-700",children:"Próximo respaldo: Mañana 02:00"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(ir,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Mantenimiento"}),s.jsx("p",{className:"text-xs text-blue-700",children:"Programado: Dom 25 Dic, 03:00"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Salud del Sistema"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"CPU"}),s.jsx("span",{className:"text-sm text-gray-600",children:"23%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"23%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Memoria"}),s.jsx("span",{className:"text-sm text-gray-600",children:"67%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"67%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Almacenamiento"}),s.jsx("span",{className:"text-sm text-gray-600",children:"45%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"45%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Base de Datos"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Online"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-xs text-gray-600",children:"Conexión estable"})]})]})]})]})]})]}),!r&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Usuarios del Sistema"}),s.jsx(B,{to:"/app/admin/users",className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Ver todos →"})]}),e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(tt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No hay usuarios registrados"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Usuario"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Rol"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Estado"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Último Acceso"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:e.slice(0,5).map(h=>{const m=f(h.role),p=h.status||"ACTIVE";return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center overflow-hidden",children:h.avatar?s.jsx("img",{src:h.avatar,alt:h.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white font-semibold text-xs",children:h.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:h.name}),s.jsx("p",{className:"text-xs text-gray-600",children:h.email})]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${m.color}`,children:m.label})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p==="ACTIVE"?"bg-green-100 text-green-800":p==="INACTIVE"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:p==="ACTIVE"?"Activo":p==="INACTIVE"?"Inactivo":"Pendiente"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:h.last_login_at?new Date(h.last_login_at).toLocaleDateString("es-ES"):"Nunca"})]},h.id)})})]})})]})]})},qb=()=>{const[e,t]=v.useState("general"),[r,n]=v.useState(!1),[a,i]=v.useState({general:{companyName:"Stravix CRM",companyLogo:"",timezone:"America/Mexico_City",language:"es",dateFormat:"DD/MM/YYYY",currency:"USD"},email:{smtpHost:"smtp.gmail.com",smtpPort:"587",smtpUser:"",smtpPassword:"",fromEmail:"noreply@stravix.io",fromName:"Stravix CRM"},security:{sessionTimeout:"30",passwordMinLength:"8",requireTwoFactor:!1,allowPasswordReset:!0,maxLoginAttempts:"5"},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,weeklyReports:!0,systemAlerts:!0},backup:{autoBackup:!0,backupFrequency:"daily",retentionDays:"30",backupLocation:"cloud"}}),l=[{id:"general",label:"General",icon:ai},{id:"email",label:"Email",icon:ni},{id:"security",label:"Seguridad",icon:nt},{id:"notifications",label:"Notificaciones",icon:En},{id:"backup",label:"Respaldos",icon:si}],o=async()=>{n(!0),await new Promise(d=>setTimeout(d,1500)),n(!1)},c=(d,u,f)=>{i(h=>({...h,[d]:{...h[d],[u]:f}}))};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuración del Sistema"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona la configuración global del CRM"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:s.jsx("nav",{className:"space-y-2",children:l.map(d=>s.jsxs("button",{onClick:()=>t(d.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors ${e===d.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(d.icon,{className:"w-5 h-5"}),d.label]},d.id))})})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[e==="general"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Configuración General"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la Empresa"}),s.jsx("input",{type:"text",value:a.general.companyName,onChange:d=>c("general","companyName",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zona Horaria"}),s.jsxs("select",{value:a.general.timezone,onChange:d=>c("general","timezone",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"America/Mexico_City",children:"Ciudad de México (GMT-6)"}),s.jsx("option",{value:"America/New_York",children:"Nueva York (GMT-5)"}),s.jsx("option",{value:"America/Los_Angeles",children:"Los Ángeles (GMT-8)"}),s.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idioma Predeterminado"}),s.jsxs("select",{value:a.general.language,onChange:d=>c("general","language",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"es",children:"Español"}),s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"pt",children:"Português"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de Fecha"}),s.jsxs("select",{value:a.general.dateFormat,onChange:d=>c("general","dateFormat",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo de la Empresa"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"S"})}),s.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cambiar Logo"})]})]})]})]}),e==="email"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Configuración de Email"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Servidor SMTP"}),s.jsx("input",{type:"text",value:a.email.smtpHost,onChange:d=>c("email","smtpHost",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Puerto SMTP"}),s.jsx("input",{type:"text",value:a.email.smtpPort,onChange:d=>c("email","smtpPort",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usuario SMTP"}),s.jsx("input",{type:"email",value:a.email.smtpUser,onChange:d=>c("email","smtpUser",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña SMTP"}),s.jsx("input",{type:"password",value:a.email.smtpPassword,onChange:d=>c("email","smtpPassword",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Remitente"}),s.jsx("input",{type:"email",value:a.email.fromEmail,onChange:d=>c("email","fromEmail",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Remitente"}),s.jsx("input",{type:"text",value:a.email.fromName,onChange:d=>c("email","fromName",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Prueba de Configuración"}),s.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Envía un email de prueba para verificar la configuración"}),s.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Enviar Email de Prueba"})]})]})]}),e==="security"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Configuración de Seguridad"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo de Sesión (minutos)"}),s.jsx("input",{type:"number",value:a.security.sessionTimeout,onChange:d=>c("security","sessionTimeout",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitud Mínima de Contraseña"}),s.jsx("input",{type:"number",value:a.security.passwordMinLength,onChange:d=>c("security","passwordMinLength",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Máximo Intentos de Login"}),s.jsx("input",{type:"number",value:a.security.maxLoginAttempts,onChange:d=>c("security","maxLoginAttempts",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Requerir Autenticación de Dos Factores"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Obligatorio para todos los usuarios"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.security.requireTwoFactor,onChange:d=>c("security","requireTwoFactor",d.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Permitir Recuperación de Contraseña"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Los usuarios pueden resetear su contraseña"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.security.allowPasswordReset,onChange:d=>c("security","allowPasswordReset",d.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),e==="notifications"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Configuración de Notificaciones"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Notificaciones por Email"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enviar notificaciones importantes por correo"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.notifications.emailNotifications,onChange:d=>c("notifications","emailNotifications",d.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Notificaciones Push"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Alertas en tiempo real en el navegador"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.notifications.pushNotifications,onChange:d=>c("notifications","pushNotifications",d.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Reportes Semanales"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enviar resumen semanal automáticamente"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.notifications.weeklyReports,onChange:d=>c("notifications","weeklyReports",d.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Alertas del Sistema"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Notificaciones sobre el estado del sistema"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.notifications.systemAlerts,onChange:d=>c("notifications","systemAlerts",d.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e==="backup"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Configuración de Respaldos"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Respaldo Automático"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Crear respaldos automáticamente"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.backup.autoBackup,onChange:d=>c("backup","autoBackup",d.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frecuencia de Respaldo"}),s.jsxs("select",{value:a.backup.backupFrequency,onChange:d=>c("backup","backupFrequency",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"hourly",children:"Cada Hora"}),s.jsx("option",{value:"daily",children:"Diario"}),s.jsx("option",{value:"weekly",children:"Semanal"}),s.jsx("option",{value:"monthly",children:"Mensual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Retención (días)"}),s.jsx("input",{type:"number",value:a.backup.retentionDays,onChange:d=>c("backup","retentionDays",d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Último Respaldo"}),s.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Completado exitosamente: Hoy a las 02:00 AM"}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Crear Respaldo Manual"})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:o,disabled:r,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5"}),"Guardar Configuración"]})})})})]})})]})]})},yu=()=>{const{user:e,approveUser:t,updateUserRole:r}=Nm(),[n,a]=v.useState([]),[i,l]=v.useState(!0),[o,c]=v.useState(""),[d,u]=v.useState("ALL"),[f,h]=v.useState("ALL"),[m,p]=v.useState(!1),[w,b]=v.useState(!1),[x,y]=v.useState(null),[g,j]=v.useState({email:"",name:"",role:"SALES",department:""});v.useEffect(()=>{k()},[]);const k=async()=>{if(L)try{const{data:E,error:S}=await L.from("users").select("*").order("created_at",{ascending:!1});if(S)throw S;a(E||[])}catch(E){console.error("Error fetching users:",E)}finally{l(!1)}},N=n.filter(E=>{const S=o===""||E.name.toLowerCase().includes(o.toLowerCase())||E.email.toLowerCase().includes(o.toLowerCase()),A=d==="ALL"||E.role===d,D=f==="ALL"||E.status===f;return S&&A&&D}),_=async E=>{try{await t(E),await k()}catch(S){console.error("Error approving user:",S)}},T=async(E,S)=>{try{await r(E,S),await k()}catch(A){console.error("Error updating role:",A)}},I=async(E,S)=>{if(L)try{const{error:A}=await L.from("users").update({status:S}).eq("id",E);if(A)throw A;await k()}catch(A){console.error("Error updating status:",A)}},O=async E=>{if(confirm("¿Estás seguro de que quieres eliminar este usuario?")&&L)try{const{error:S}=await L.from("users").delete().eq("id",E);if(S)throw S;const{error:A}=await L.auth.admin.deleteUser(E);A&&console.warn("Could not delete from auth.users:",A),await k()}catch(S){console.error("Error deleting user:",S)}},Q=async()=>{if(L)try{const{data:E,error:S}=await L.from("users").insert([{email:g.email,name:g.name,role:g.role,department:g.department||null,status:"PENDING"}]).select().single();if(S)throw S;alert(`Usuario creado exitosamente!

El usuario puede registrarse con su email: ${g.email}
Estado: Pendiente de aprobación`),await k(),p(!1),j({email:"",name:"",role:"SALES",department:""})}catch(E){console.error("Error creating user:",E),alert(`Error al crear usuario: ${E.message||"Error desconocido"}`)}},re=E=>Bt.find(S=>S.value===E)||Bt[0],$=E=>pl.find(S=>S.value===E)||pl[0],H=n.filter(E=>E.status==="PENDING"),ct=n.filter(E=>E.status==="ACTIVE"),Ls=n.filter(E=>E.role==="ADMIN");return i?s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-4 gap-6",children:[...Array(4)].map((E,S)=>s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"h-12 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"})]},S))})]})}):s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestión de Usuarios"}),s.jsx("p",{className:"text-gray-600",children:"Administra usuarios, roles y permisos del sistema"})]}),s.jsxs("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all flex items-center gap-2 shadow-lg",children:[s.jsx(lt,{className:"w-5 h-5"}),"Invitar Usuario"]})]}),H.length>0&&s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-2xl p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ar,{className:"w-6 h-6 text-orange-600"}),s.jsxs("h3",{className:"text-lg font-semibold text-orange-900",children:[H.length," usuario",H.length>1?"s":""," pendiente",H.length>1?"s":""," de aprobación"]})]}),s.jsx("div",{className:"space-y-3",children:H.map(E=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-sm",children:E.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:E.name}),s.jsx("p",{className:"text-sm text-gray-600",children:E.email}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Registrado: ",new Date(E.created_at).toLocaleDateString("es-ES")]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:E.role,onChange:S=>T(E.id,S.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:Bt.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))}),s.jsx("button",{onClick:()=>_(E.id),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"Aprobar"})]})]},E.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(tt,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center",children:s.jsx(xu,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:ct.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Activos"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(ir,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:H.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendientes"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(nt,{className:"w-6 h-6 text-white"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:Ls.length}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Dt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:o,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:d,onChange:E=>u(E.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"Todos los roles"}),Bt.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))]}),s.jsxs("select",{value:f,onChange:E=>h(E.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"ALL",children:"Todos los estados"}),pl.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))]}),s.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx($n,{className:"w-5 h-5"}),"Más Filtros"]})]})}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Usuario"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Rol"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Estado"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Departamento"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Último Acceso"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Acciones"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map(E=>{const S=re(E.role),A=$(E.status);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center overflow-hidden",children:E.avatar?s.jsx("img",{src:E.avatar,alt:E.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white font-semibold text-sm",children:E.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:E.name}),s.jsx("p",{className:"text-sm text-gray-600",children:E.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("select",{value:E.role,onChange:D=>T(E.id,D.target.value),disabled:E.id===(e==null?void 0:e.id),className:`text-xs font-medium rounded-full px-2 py-1 border-0 focus:ring-2 focus:ring-blue-500 ${S.color} disabled:opacity-50`,children:Bt.map(D=>s.jsx("option",{value:D.value,children:D.label},D.value))})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.color}`,children:A.label}),E.status==="PENDING"&&s.jsx("button",{onClick:()=>_(E.id),className:"text-green-600 hover:text-green-800 text-xs font-medium",children:"Aprobar"})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:E.department||"Sin asignar"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:E.last_login_at?new Date(E.last_login_at).toLocaleDateString("es-ES"):"Nunca"}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{y(E),b(!0)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(wm,{className:"w-4 h-4"})}),E.status==="ACTIVE"?s.jsx("button",{onClick:()=>I(E.id,"INACTIVE"),disabled:E.id===(e==null?void 0:e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:s.jsx(nb,{className:"w-4 h-4"})}):s.jsx("button",{onClick:()=>I(E.id,"ACTIVE"),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:s.jsx(xu,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>O(E.id),disabled:E.id===(e==null?void 0:e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",children:s.jsx(sb,{className:"w-4 h-4"})})]})})]},E.id)})})]})})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Crear Nuevo Usuario"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:g.email,onChange:E=>j(S=>({...S,email:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"usuario@empresa.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),s.jsx("input",{type:"text",value:g.name,onChange:E=>j(S=>({...S,name:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre completo",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),s.jsx("select",{value:g.role,onChange:E=>j(S=>({...S,role:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Bt.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento"}),s.jsxs("select",{value:g.department,onChange:E=>j(S=>({...S,department:E.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Seleccionar departamento"}),Wb.map(E=>s.jsx("option",{value:E,children:E},E))]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs("button",{type:"button",onClick:Q,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(lt,{className:"w-4 h-4"}),"Crear Usuario"]}),s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})})]})},Kb=()=>{const[e,t]=v.useState([{id:"supabase-setup",title:"Configurar Supabase",description:"Crear proyecto y configurar variables de entorno",completed:!1,required:!0,category:"database"},{id:"run-migrations",title:"Ejecutar Migraciones SQL",description:"Crear todas las tablas y configurar RLS",completed:!1,required:!0,category:"database"},{id:"seed-data",title:"Datos de Prueba (Opcional)",description:"Insertar datos de ejemplo para testing",completed:!1,required:!1,category:"database"},{id:"auth-config",title:"Configurar Autenticación",description:"Habilitar email/password en Supabase Auth",completed:!1,required:!0,category:"auth"},{id:"admin-user",title:"Crear Usuario Administrador",description:"Registrar primer usuario con rol ADMIN",completed:!1,required:!0,category:"auth"},{id:"rls-policies",title:"Verificar Políticas RLS",description:"Confirmar que todas las tablas tienen RLS habilitado",completed:!1,required:!0,category:"security"},{id:"env-security",title:"Seguridad de Variables",description:"Verificar que las claves no estén expuestas",completed:!1,required:!0,category:"security"},{id:"build-test",title:"Probar Build de Producción",description:"Verificar que npm run build funcione correctamente",completed:!1,required:!0,category:"deployment"},{id:"domain-setup",title:"Configurar Dominio",description:"Configurar dominio personalizado (opcional)",completed:!1,required:!1,category:"deployment"}]),r=f=>{t(h=>h.map(m=>m.id===f?{...m,completed:!m.completed}:m))},n=f=>{switch(f){case"database":return s.jsx(si,{className:"w-5 h-5"});case"auth":return s.jsx(nt,{className:"w-5 h-5"});case"security":return s.jsx(nt,{className:"w-5 h-5"});case"deployment":return s.jsx(vm,{className:"w-5 h-5"});default:return s.jsx(hu,{className:"w-5 h-5"})}},a=f=>{switch(f){case"database":return"text-blue-600 bg-blue-50";case"auth":return"text-green-600 bg-green-50";case"security":return"text-red-600 bg-red-50";case"deployment":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},i=e.filter(f=>f.required),l=i.filter(f=>f.completed).length,o=i.length,c=l/o*100,d=e.reduce((f,h)=>(f[h.category]||(f[h.category]=[]),f[h.category].push(h),f),{}),u={database:"Base de Datos",auth:"Autenticación",security:"Seguridad",deployment:"Despliegue"};return s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lista de Verificación para Producción"}),s.jsx("p",{className:"text-gray-600",children:"Completa estos pasos para publicar tu CRM"})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Progreso General"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[l,"/",o]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${c}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:l===o?"¡Listo para producción!":`${o-l} elementos requeridos pendientes`}),s.jsxs("span",{className:"font-medium text-blue-600",children:[c.toFixed(0),"% completado"]})]})]}),s.jsx("div",{className:"space-y-8",children:Object.entries(d).map(([f,h])=>s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${a(f)}`,children:n(f)}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:u[f]})]}),s.jsx("div",{className:"space-y-4",children:h.map(m=>s.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-lg border transition-all ${m.completed?"bg-green-50 border-green-200":m.required?"bg-orange-50 border-orange-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("button",{onClick:()=>r(m.id),className:"flex-shrink-0 mt-0.5",children:m.completed?s.jsx(ge,{className:"w-6 h-6 text-green-600"}):s.jsx(hu,{className:"w-6 h-6 text-gray-400 hover:text-blue-600 transition-colors"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:`font-medium ${m.completed?"text-green-900":"text-gray-900"}`,children:m.title}),m.required&&!m.completed&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full",children:"Requerido"})]}),s.jsx("p",{className:`text-sm ${m.completed?"text-green-700":"text-gray-600"}`,children:m.description})]})]},m.id))})]},f))}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white mt-8",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Enlaces Útiles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("a",{href:"https://app.supabase.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[s.jsx(si,{className:"w-5 h-5"}),s.jsx("span",{children:"Dashboard de Supabase"}),s.jsx(ws,{className:"w-4 h-4 ml-auto"})]}),s.jsxs("a",{href:"https://supabase.com/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[s.jsx(nt,{className:"w-5 h-5"}),s.jsx("span",{children:"Documentación"}),s.jsx(ws,{className:"w-4 h-4 ml-auto"})]})]})]}),c===100&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-6 mt-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ge,{className:"w-8 h-8 text-green-600"}),s.jsx("h3",{className:"text-xl font-semibold text-green-900",children:"¡Listo para Producción!"})]}),s.jsx("p",{className:"text-green-700 mb-4",children:"Has completado todos los elementos requeridos. Tu CRM está listo para ser desplegado."}),s.jsxs("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center gap-2",children:[s.jsx(jm,{className:"w-5 h-5"}),"Desplegar a Producción"]})]})]})})},Yb=ie?De.lazy(()=>At(()=>Promise.resolve().then(()=>cb),void 0).then(e=>({default:e.SupabaseAuthProvider}))):De.lazy(()=>At(()=>Promise.resolve().then(()=>hb),void 0).then(e=>({default:e.MockAuthProvider}))),Qb=ie?De.lazy(()=>At(()=>import("./SupabaseLoginPage-tfzIZjNW.js"),[]).then(e=>({default:e.SupabaseLoginPage}))):De.lazy(()=>At(()=>import("./LoginPage-Ha5n7pNZ.js"),[]).then(e=>({default:e.LoginPage}))),Tm=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando aplicación..."})]})}),Jb=()=>ie?s.jsx(De.Suspense,{fallback:s.jsx(Tm,{}),children:s.jsx(Yb,{children:s.jsx(Xb,{})})}):s.jsx(lb,{}),Xb=()=>s.jsxs(Z0,{children:[s.jsx(V,{path:"/login",element:s.jsx(De.Suspense,{fallback:s.jsx(Tm,{}),children:s.jsx(Qb,{})})}),s.jsx(V,{path:"/pending",element:s.jsx(db,{})}),s.jsxs(V,{path:"/app/*",element:s.jsx(fb,{children:s.jsx(xb,{})}),children:[s.jsx(V,{index:!0,element:s.jsx(yb,{})}),s.jsx(V,{path:"companies",element:s.jsx(Tb,{})}),s.jsx(V,{path:"companies/new",element:s.jsx(Pb,{})}),s.jsx(V,{path:"contacts",element:s.jsx(Ob,{})}),s.jsx(V,{path:"contacts/new",element:s.jsx(Ib,{})}),s.jsx(V,{path:"leads",element:s.jsx(wb,{})}),s.jsx(V,{path:"leads/new",element:s.jsx(jb,{})}),s.jsx(V,{path:"leads/:id",element:s.jsx(Eb,{})}),s.jsx(V,{path:"deals",element:s.jsx(Lb,{})}),s.jsx(V,{path:"deals/kanban",element:s.jsx(Ab,{})}),s.jsx(V,{path:"deals/new",element:s.jsx(Rb,{})}),s.jsx(V,{path:"projects",element:s.jsx(Db,{})}),s.jsx(V,{path:"projects/new",element:s.jsx($b,{})}),s.jsx(V,{path:"products",element:s.jsx(Ub,{})}),s.jsx(V,{path:"products/new",element:s.jsx(Fb,{})}),s.jsx(V,{path:"tasks",element:s.jsx(zb,{})}),s.jsx(V,{path:"analytics",element:s.jsx(Bb,{})}),s.jsx(V,{path:"profile",element:s.jsx(Vb,{})}),s.jsx(V,{path:"admin",element:s.jsx(Gb,{})}),s.jsx(V,{path:"admin/users",element:s.jsx(yu,{})}),s.jsx(V,{path:"admin/settings",element:s.jsx(qb,{})}),s.jsx(V,{path:"admin/checklist",element:s.jsx(Kb,{})}),s.jsx(V,{path:"users",element:s.jsx(yu,{})}),s.jsx(V,{path:"settings",element:s.jsx(Hb,{})})]}),s.jsx(V,{path:"/",element:s.jsx(co,{to:"/login",replace:!0})})]});function Zb(){return s.jsx(ab,{children:s.jsx(jx,{children:s.jsx(Jb,{})})})}Af(document.getElementById("root")).render(s.jsx(v.StrictMode,{children:s.jsx(Zb,{})}));export{gm as A,ge as C,ni as M,nt as S,lr as T,tt as U,jm as Z,yt as a,Mn as b,R as c,s as j,v as r,Nm as u};
